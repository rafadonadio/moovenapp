{"version":3,"sources":["../../src/pages/historial/historial.ts","../../src/pages/update-phone-number/update-phone-number.ts","../../src/providers/notifications-service/notifications-service.ts","../../src/pipes/capitalize-pipe.ts","../../src/pipes/ts2date-pipe.ts","../../src/pipes/formatdate-pipe.ts","../../src/models/app-model.ts","../../src/pages/home/home.ts","../../src/pages/checkout/checkout.ts","../../src/pages/sending-create/sending-create.ts","../../src/pages/sending-create-2/sending-create-2.ts","../../src/pages/shipments/shipments.ts","../../src/pages/modal-user-edit-phone/modal-user-edit-phone.ts","../../src/validators/number.validator.ts","../../src/pages/sending-detail/sending-detail.ts","../../src/providers/hash-service/hash-service.ts","../../src/providers/sending-service/sending-payment-service.ts","../../src/pages/sendings-active/sendings-active.ts","../../src/pages/sending-create-3/sending-create-3.ts","../../src/pages/modal-search-map-address/modal-search-map-address.ts","../../src/providers/shipments-service/shipments-service.ts","../../src/pages/shipment-create/shipment-create.ts","../../src/providers/config-service/config-service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/auth-service/auth-service.ts","../../src/providers/account-service/account-service.ts","../../src/providers/date-service/date-service.ts","../../src/providers/account-email-verification-service/account-email-verification-service.ts","../../src/pages/login/login.ts","../../src/pages/modal-auth-reset-password/modal-auth-reset-password.ts","../../src/pages/signup/signup.ts","../../src/pages/settings/settings.ts","../../src/pages/settings-popover/settings-popover.ts","../../src/pages/modal-user-edit-email/modal-user-edit-email.ts","../../src/pages/modal-user-edit-name/modal-user-edit-name.ts","../../src/pages/sendings-notifications/sendings-notifications.ts","../../src/pages/sendings-closed/sendings-closed.ts","../../src/providers/sending-service/sending-set-canceledbyoperator-service.ts","../../src/providers/sending-service/sending-set-canceledbysender-service.ts","../../src/providers/sending-service/sending-service.ts","../../src/providers/sending-service/sending-set-dropped-service.ts","../../src/providers/sending-service/sending-set-pickedup-service.ts","../../src/providers/sending-service/sending-set-gotoperator-service.ts","../../src/providers/sending-service/sending-create-service.ts","../../src/providers/storage-service/storage-service.ts","../../src/providers/payment-gateways/mercadopago-service.ts","../../src/providers/sending-service/sending-notifications-service.ts","../../src/models/sending-model.ts","../../src/models/shipment-model.ts","../../src/providers/checkout-service/checkout-service.ts","../../src/pages/sending-create-4/sending-create-4.ts","../../src/providers/price-service/price-service.ts","../../src/pages/shipment-detail/shipment-detail.ts","../../src/pages/shipment-create-2/shipment-create-2.ts","../../src/pages/payment/payment.ts","../../src/pages/help/help.ts","../../src/pages/signup-merge/signup-merge.ts","../../src/pages/modal-tos/modal-tos.ts","../../src/pages/verify-phone/verify-phone.ts","../../src/pages/sendings-tabs/sendings-tabs.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/validators/email.validator.ts","../../src/app/app.component.ts","../../src/providers/google-maps-service/google-maps-service.ts","../../node_modules/moment/locale ^/.*$","../../src/providers/payment-gateways/mercadopago-model.ts","../../src/pages/start/start.ts"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;;;;;ACtPA;AAAA;;GAEG;AAEH;;GAFG,CAEI,IAAM,eAAe,GAAG;IAC3B,MAAM,EAAE,kBAAkB;IAC1B,UAAU,EAAE;QACR,OAAO,EAAE;YACL,UAAU,EAAE,2CAA2C;YACvD,YAAY,EAAE,kFAAkF;SACnG;QACD,IAAI,EAAE;YACF,UAAU,EAAE,8CAA8C;YAC1D,YAAY,EAAE,qFAAqF;SACtG;KACJ;IACD,cAAc,EAAE;QACZ,SAAS,EAAE;YACP,OAAO,EAAE,EAAE;SACd;QACD,OAAO,EAAE;YACL,OAAO,EAAE,kEAAkE;SAC9E;QACD,SAAS,EAAE;YACP,OAAO,EAAE,EAAE;SACd;QACD,QAAQ,EAAE;YACN,OAAO,EAAE,EAAE;SACd;KACJ;CACJ;AAGD;;GAEG;AAEH;IAAA;IAKA,CAAC;IAAD,oBAAC;AAAD,CAAC;;AAED;IAAA;IAoBA,CAAC;IAAD,oBAAC;AAAD,CAAC;;AAED;IAAA;IASA,CAAC;IAAD,oBAAC;AAAD,CAAC;;AAED;IAAA;IASA,CAAC;IAAD,qBAAC;AAAD,CAAC;;AAED;IAAA;IAUA,CAAC;IAAD,kBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;AClGyC;AACI;AAEH;AACG;AAM9C,IAAa,SAAS;IAClB,mBAAmB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;IAAG,CAAC;IAE7C,6BAAS,GAAT;QACC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+DAAS,CAAC,CAAC;IAC9B,CAAC;IAED,8BAAU,GAAV;QACC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kEAAU,CAAC,CAAC;IAC/B,CAAC;IAEL,gBAAC;AAAD,CAAC;AAXY,SAAS;IAJrB,wEAAS,CAAC;QACP,QAAQ,EAAE,YAAY;OACG;KAC5B,CAAC;cAE2C;AAU5C;SAXY,SAAS,e","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n    selector: 'page-historial',\r\n    templateUrl: 'historial.html',\r\n})\r\nexport class HistorialPage {\r\n\r\n    constructor(public navCtrl: NavController) {\r\n\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/historial/historial.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n    selector: 'page-update-phone-numbers',\r\n    templateUrl: 'update-phone-number.html',\r\n})\r\nexport class UpdatePhoneNumberPage {\r\n\r\n    constructor(public navCtrl: NavController) {\r\n\r\n    }\r\n\r\n    goToVerifyPhone() {\r\n        this.navCtrl.pop();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/update-phone-number/update-phone-number.ts","import { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable()\r\nexport class NotificationsService {\r\n\r\n  constructor() {\r\n  }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/notifications-service/notifications-service.ts","import { Injectable, Pipe } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'capitalizePipe'\r\n})\r\n@Injectable()\r\nexport class CapitalizePipe {\r\n    /*\r\n      Takes a value and capitalize first letter\r\n     */\r\n    transform(value: string) {\r\n        if (value) {\r\n            return value.charAt(0).toUpperCase() + value.slice(1);\r\n        }\r\n        return value;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/capitalize-pipe.ts","import { Injectable, Pipe } from '@angular/core';\r\nimport { DateService } from '../providers/date-service/date-service';\r\n\r\n@Pipe({\r\n    name: 'ts2datePipe'\r\n})\r\n@Injectable()\r\nexport class Ts2DatePipe {\r\n\r\n    constructor(public dateSrv: DateService) {\r\n    }\r\n\r\n    /*\r\n      Takes a timestamp and transform to human date\r\n     */\r\n    transform(value: string) {\r\n        if (value) {\r\n            return this.dateSrv.transformTimestampToHuman(value);\r\n        }\r\n        return value;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/ts2date-pipe.ts","import { Injectable, Pipe } from '@angular/core';\r\nimport { DateService } from '../providers/date-service/date-service';\r\n\r\n@Pipe({\r\n    name: 'formatdatePipe'\r\n})\r\n@Injectable()\r\nexport class FormatDatePipe {\r\n\r\n    constructor(public dateSrv: DateService) {\r\n    }\r\n\r\n    /*\r\n      Takes a timestamp and transform to human date\r\n     */\r\n    transform(value: string, format:string) {\r\n        if (value) {\r\n            return this.dateSrv.displayFormat(value, format);\r\n        }\r\n        return value;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/formatdate-pipe.ts","\r\n/**\r\n * APP CONFIGURATIONS\r\n */\r\n\r\nexport const APP_CFG = {\r\n    CURRENT_ENV: 'DEV', // DEV, STAGE, PROD\r\n    ENVIRONMENTS: {\r\n        'DEV': {\r\n            APP_NAME: 'MOOVEN.dev',\r\n            FIREBASE: {\r\n                apiKey: 'AIzaSyBNWjiziTT1lzPL1WIl2pffupVa-ABJp7E',\r\n                authDomain: 'moovendev.firebaseapp.com',\r\n                databaseURL: 'https://moovendev.firebaseio.com',\r\n                projectId: 'moovendev',\r\n                storageBucket: 'moovendev.appspot.com',\r\n                messagingSenderId: '496410495970',               \r\n            },\r\n            LOCALSTORAGE: {\r\n                name: '__moovenDev'\r\n            },\r\n            IONIC_IO: {\r\n                ID: 'c9b3dcc7',\r\n            }\r\n        },\r\n        'STAGE': {\r\n            APP_NAME: 'MOOVEN STAGE',\r\n            FIREBASE: {\r\n                apiKey: 'AIzaSyCuvzqFIK_emRtUTglniXBdEUYEOIPWIfE',\r\n                authDomain: 'moovenstage.firebaseapp.com',\r\n                databaseURL: 'https://moovenstage.firebaseio.com',\r\n                projectId: 'moovenstage',\r\n                storageBucket: 'moovenstage.appspot.com',\r\n                messagingSenderId: '34166889782',              \r\n            },\r\n            LOCALSTORAGE: {\r\n                name: '__moovenStage'\r\n            },\r\n            IONIC_IO: {\r\n                ID: '7cbebd36',\r\n            }\r\n        },\r\n        'PROD': {\r\n            APP_NAME: 'MOOVEN',\r\n            FIREBASE: {\r\n                apiKey: 'AIzaSyC6tq6l0EVThcHsvkWHEoPYenGZg2p7PiU',\r\n                authDomain: 'mooven-f9e3c.firebaseapp.com',\r\n                databaseURL: 'https://mooven-f9e3c.firebaseio.com',\r\n                projectId: 'mooven-f9e3c',\r\n                storageBucket: 'mooven-f9e3c.appspot.com',\r\n                messagingSenderId: '301998553220',                \r\n            },\r\n            LOCALSTORAGE: {\r\n                name: '__moovenApp'\r\n            },\r\n            IONIC_IO: {\r\n                ID: 'b7c29866',\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/app-model.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { APP_CFG } from '../../models/app-model';\n\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html',\n})\nexport class HomePage {\n\n    appName:string = APP_CFG.ENVIRONMENTS[APP_CFG.CURRENT_ENV].APP_NAME;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams) {\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad HomePage');\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { Subscription } from 'rxjs/Rx';\r\nimport { UserAccount } from '../../models/user-model';\r\nimport { AccountService } from '../../providers/account-service/account-service';\r\nimport { CheckoutService } from '../../providers/checkout-service/checkout-service';\r\nimport { SendingRequest } from '../../models/sending-model';\r\nimport { CardTokenData, PrepaymentData } from '../../providers/payment-gateways/mercadopago-model';\r\nimport { DateService } from '../../providers/date-service/date-service';\r\nimport { AlertController } from 'ionic-angular';\r\nimport { ToastController } from 'ionic-angular';\r\nimport { LoadingController } from 'ionic-angular';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NumberValidator } from '../../validators/number.validator';\r\n\r\nimport { SendingPaymentService } from '../../providers/sending-service/sending-payment-service';\r\n\r\nimport { SendingsTabsPage } from '../sendings-tabs/sendings-tabs';\r\n\r\nconst CC_IMG = 'assets/img/credit-card-sm.png';\r\n\r\n@Component({\r\n    selector: 'page-checkout',\r\n    templateUrl: 'checkout.html'\r\n})\r\nexport class CheckoutPage implements OnInit {\r\n\r\n    account: UserAccount;\r\n    accountSubs: Subscription;\r\n    sending: SendingRequest;\r\n    chForm: FormGroup;\r\n    // inputs\r\n    docType: string = \"DNI\";\r\n    paymentMethodId: string = '';\r\n    cardExpiration: string;\r\n    // flags\r\n    invalidCardNumber: boolean = false;\r\n    showRequired: boolean = false;\r\n    // helpers\r\n    cardThumbnail: string;\r\n    paymentGuess: any;\r\n    // MercadoPago tokenData\r\n    tokenData: CardTokenData;\r\n    cardToken: any;\r\n    // aux\r\n    dates:any;\r\n    payLoader:any;\r\n\r\n    constructor(private navCtrl: NavController,\r\n        private navParams: NavParams,\r\n        private paySrv: SendingPaymentService,\r\n        private loadingCtrl: LoadingController,\r\n        private toastCtrl: ToastController,\r\n        private alertCtrl: AlertController,\r\n        private fb: FormBuilder,\r\n        private dateSrv: DateService,\r\n        private chkServ: CheckoutService,\r\n        private accountSrv: AccountService,\r\n        private authSrv: AuthService) { }\r\n\r\n    ngOnInit() {\r\n        this.setAccount();\r\n        this.setDates();\r\n        this.setCurrentDates();\r\n        this.setDefaultDates();\r\n        this.setSending();\r\n        this.initForm();\r\n        this.setGenericCreditCardImage();\r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        if(this.accountSubs) {\r\n            this.accountSubs.unsubscribe();\r\n        }\r\n    }\r\n\r\n    triggerPaymentGuess() {\r\n        // reset invalid flag     \r\n        this.resetCardNumberFlag();\r\n        this.setGenericCreditCardImage();\r\n        this.getPaymentMethod();\r\n    }\r\n\r\n    checkout() {\r\n        this.runCheckout();\r\n    }\r\n\r\n    /**\r\n     *  ###############\r\n     *  PRIVATE METHODS\r\n     *  ###############\r\n     * \r\n     *  CHECKOUT\r\n     *  POST PAYMENT\r\n     *  PRE PAYMENT\r\n     *  CARD TOKEN\r\n     *  PAYMENT GUESS\r\n     *  HELPERS\r\n     *  NAVIGATION\r\n     *  ONINIT\r\n     */    \r\n\r\n    /**\r\n     *  CHECKOUT\r\n     */\r\n\r\n    /**\r\n     *  Method: runCheckout() > PAYMENT PROCESS STEPS\r\n     *  1. VALIDATE: if form is valid, proceed or prompt error\r\n     *  2. TOKEN-DATA: generate Token Data (with form data) to request Card Token\r\n     *  3. CARD-TOKEN: create card token with MP API\r\n     *  4. PREPAYMENT-DATA: generate Pre-Payment data, with token id from step 3\r\n     *  5. PAY: create payment > send payment request to backend server (with MP SDK deployed)\r\n     *  6. PROCESS RESPONSE > getPaymentResultState\r\n     *  7. SAVE: write paymentresult and paymentstate to Db\r\n     *  8. SHOW MESSAGE\r\n     */\r\n    private runCheckout() {\r\n        console.info('__[CKT-0]__runCheckout');              \r\n        if(this.isFormValid()) {\r\n            this.showPayLoader('Procesando pago ...');             \r\n            this.setTokenData();\r\n            this.createCardToken()\r\n                .then((response) => this.validateCardTokenAndPay(response))\r\n                .catch(error => this.showCardTokenFailedRequestError(error));\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  POST PAYMENT\r\n     */\r\n\r\n    private processPaymentResponse(checkoutResponse:any) {        \r\n        this.clearSessionMP();\r\n        let paymentResultState = this.chkServ.getPaymentResultState(checkoutResponse);\r\n        let closePage = checkoutResponse.paymentSuccess ? true : false;\r\n        this.showCheckoutAlert(paymentResultState.title, paymentResultState.message, closePage);        \r\n    }\r\n\r\n    private showCheckoutAlert(title: string, msg: string, closePage: boolean = false) {\r\n        let alert = this.alertCtrl.create({\r\n            title: title,\r\n            subTitle: msg,\r\n            enableBackdropDismiss: false,\r\n            buttons: [\r\n                {\r\n                    text: 'Cerrar',\r\n                    handler: () => {\r\n                        if (closePage) {\r\n                            console.log('checkout > goToSendings');\r\n                            this.navCtrl.setRoot(SendingsTabsPage);\r\n                        } else {\r\n                            console.log('checkout > stay');\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();       \r\n    }\r\n\r\n    // reset session, because if you need to repeat a new payment\r\n    // card token does not get created again. WTF??\r\n    private clearSessionMP() {\r\n        console.info('__[CKT-5]__clearSessionMP()');\r\n        this.paySrv.clearSessionMP();\r\n    }\r\n\r\n    /**\r\n     *  PRE PAYMENT\r\n     */\r\n\r\n    private isFormValid() {\r\n        console.info('__[CKT-1]__formValid');\r\n        let valid = this.chForm.valid;\r\n        if (!valid) {\r\n            this.showRequired = true;\r\n        }\r\n        console.log('__[CKT-1]__', valid);\r\n        return valid;\r\n    }\r\n\r\n    private createPayment() {           \r\n        let prepaymentData = this.getPrepaymentData(this.cardToken.id);\r\n        console.log('__[CKT-4]__', prepaymentData);\r\n        console.info('__[CKT-5]__pay');\r\n        let checkoutSuscription = this.paySrv.checkoutMP(prepaymentData)\r\n                .subscribe(\r\n                    checkoutResponse => {\r\n                        console.log('__[CKT-5]__', checkoutResponse);\r\n                        checkoutSuscription.unsubscribe();\r\n                        this.payLoader.dismiss()\r\n                            .then(() => {\r\n                                this.processPaymentResponse(checkoutResponse);\r\n                            })\r\n                            .catch(error => console.error('dismiss error', error));\r\n                    },\r\n                    error => {\r\n                        console.error('__[CKT-5]__', error);\r\n                        this.clearSessionMP();\r\n                        checkoutSuscription.unsubscribe();\r\n                        this.payLoader.dismiss()\r\n                            .then(() => {\r\n                                let alertError = this.alertCtrl.create({\r\n                                    title: 'Ocurrió un Error',\r\n                                    subTitle: `Lo sentimos, el pago no puede procesarse en este momento, por favor intenta nuevamente mas tarde. (statuscode: ${error.status})`,\r\n                                    buttons: [{ text: 'Cerrar', role: 'cancel' }]\r\n                                });\r\n                                // show\r\n                                alertError.present();\r\n                            });\r\n                    }\r\n                );\r\n    }\r\n\r\n    private getPrepaymentData(cardTokenId) {\r\n        console.info('__[CKT-4]__prepaymentData');\r\n        // send all collected data\r\n        let prepaymentData: PrepaymentData = {\r\n            transactionAmount: this.sending.price,\r\n            cardToken: cardTokenId,\r\n            description: 'Servicio Mooven #' + this.sending.publicId,\r\n            paymentMethodId: this.chForm.controls['paymentMethodId'].value,\r\n            payerEmail: this.account.profile.data.email,\r\n            externalReference: this.sending.publicId,\r\n            suid: this.sending.sendingId,\r\n            uid: this.authSrv.fbuser.uid\r\n        }\r\n        return prepaymentData;\r\n    }\r\n\r\n    /**\r\n     *  CARD TOKEN\r\n     */\r\n\r\n    private createCardToken() {\r\n        console.info('__[CKT-3]__cardToken');\r\n        this.cardToken = null;\r\n        return this.paySrv.createCardTokenMP(this.tokenData);\r\n    }\r\n\r\n    private validateCardTokenAndPay(response) {\r\n        console.info('__[CKT-3]__', response);\r\n        this.cardToken = response;\r\n        if (this.cardTokenResponseHasError(response)) {\r\n            this.payLoader.dismiss()\r\n                    .then(() => {\r\n                        this.showCardTokenResponseError();\r\n                    })\r\n                    .catch(error => console.log('dismiss error', error));\r\n        } else {                \r\n            this.createPayment();\r\n        }\r\n    }\r\n\r\n    // Set token data to send to get Card Token\r\n    private setTokenData() {\r\n        console.info('__[CKT-2]__tokenData'); \r\n        this.tokenData = this.chkServ.generateTokenDataFromForm(this.chForm.value);\r\n        console.log('__[CKT-2]__', this.tokenData);        \r\n    }\r\n\r\n    private cardTokenResponseHasError(response) {\r\n        let statusCode = response._response_status;\r\n        console.log('__[CKT-3]__', statusCode);   \r\n        return statusCode != 200 && statusCode != 201;\r\n    }\r\n\r\n    // display if there was an error during the request\r\n    private showCardTokenFailedRequestError(error) {\r\n        console.log('runCheckout > steps > ', error);\r\n        this.payLoader.dismiss()\r\n            .then(() => {\r\n                let alertError = this.alertCtrl.create({\r\n                    title: 'Error con el pago',\r\n                    subTitle: 'Ocurrió un error al procesar el pago, por favor intenta nuevamente.',\r\n                    buttons: [{\r\n                        text: 'Cerrar',\r\n                        role: 'cancel'\r\n                    }]\r\n                });\r\n                // show\r\n                alertError.present();                   \r\n            });             \r\n    }\r\n\r\n    private showCardTokenResponseError() {\r\n        let statusCode = this.cardToken._response_status;\r\n        let cause = this.cardToken.cause;\r\n        let errorMsg: any = this.paySrv.getCardTokenErrorMsgMP(statusCode, cause);\r\n        let message = errorMsg.msg;\r\n        // set\r\n        let msgTxt = 'Los datos ingresados no son válidos, por favor revisalos y vuelve a intentar.';\r\n        if (message !== '') {\r\n            msgTxt += ' (Posibles errores: ' + message + ')';\r\n        }\r\n        let alertError = this.alertCtrl.create({\r\n            title: 'Datos inválidos',\r\n            subTitle: msgTxt,\r\n            buttons: [{\r\n                text: 'Cerrar',\r\n                role: 'cancel'\r\n            }]\r\n        });\r\n        alertError.present();\r\n    }\r\n\r\n   /**\r\n     *  PAYMENT GUESS\r\n     */\r\n\r\n    private setPaymentGuess(result) {\r\n        this.paymentGuess = result;\r\n        this.paymentMethodId = result.id;\r\n        // set credit card image\r\n        this.cardThumbnail = result.thumbnail;\r\n    }\r\n\r\n    private getPaymentMethod() {\r\n        console.log('numberInserted > ', this.chForm.value.cardNumber);\r\n        if (this.chForm.controls['cardNumber'].valid && this.chForm.value.cardNumber.length > 5) {\r\n            this.paySrv.guessPaymentTypeMP(this.chForm.value.cardNumber)\r\n                .then((result: any) => {\r\n                    console.log('guess > ok ', result);\r\n                    if (result._response_status == 200) {\r\n                        this.setPaymentGuess(result);\r\n                    } else {\r\n                        this.invalidCardNumber = true;\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.error('guess > error ', error);\r\n                });\r\n        } else {\r\n            console.log('numberInserted: cardNumber invalid OR length<=5');\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  HELPERS\r\n     */\r\n\r\n    private showPayLoader(text:string) {\r\n        this.payLoader = this.loadingCtrl.create({ content: text });\r\n        this.payLoader.present();    \r\n    }\r\n\r\n    private resetCardNumberFlag() {\r\n        this.invalidCardNumber = false;        \r\n    }\r\n\r\n    /**\r\n     *  NAVIGATION\r\n     */\r\n\r\n    goToSendings() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Pago incompleto',\r\n            message: 'El servicio queda habilitado al confirmarse el pago. Puedes finalizar el pago hasta una hora antes del horario establecido para el retiro.',\r\n            buttons: [\r\n                {\r\n                    text: 'Continuar con el Pago',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('checkout > cancel exit');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Volver al listado',\r\n                    handler: () => {\r\n                        console.log('checkout, exit');\r\n                        this.navCtrl.setRoot(SendingsTabsPage);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n\r\n    /**\r\n     *  ONINIT\r\n     */\r\n\r\n    private setAccount() {\r\n        let obs = this.accountSrv.getObs(true);\r\n        this.accountSubs = obs.subscribe((snap) => {\r\n                            this.account = snap.val();\r\n                            }, err => console.log('error', err));\r\n    }\r\n\r\n    private setSending() {\r\n        this.sending = this.navParams.get('sending');\r\n    }\r\n\r\n    private initForm() {\r\n        // form\r\n        this.chForm = this.fb.group({\r\n            'cardNumber': ['', [Validators.required, Validators.maxLength(16), NumberValidator.isNumber]],\r\n            'securityCode': ['', [Validators.required, Validators.maxLength(4), NumberValidator.isNumber]],\r\n            'cardExpiration': ['', [Validators.required]],\r\n            'cardHolderName': ['', [Validators.required]],\r\n            'docNumber': ['', [Validators.required, NumberValidator.isNumber]],\r\n            'docType': ['', [Validators.required]],\r\n            'paymentMethodId': ['', [Validators.required]],\r\n        });\r\n    }\r\n\r\n    private setDates() {\r\n        this.dates = {\r\n            // current datetime\r\n            current: {\r\n                timestamp: 0,\r\n                standard: '', // YYYY-MM-DD\r\n            },\r\n            // current datetime plus 20 years \r\n            currentplus20: {\r\n                timestamp: 0,\r\n                standard: '', // YYYY-MM-DD\r\n            }\r\n        };        \r\n    }\r\n\r\n    private setCurrentDates(): void {\r\n        let timestamp = this.dateSrv.getUnixTimestamp();\r\n        this.dates.current.timestamp = timestamp;\r\n        this.dates.current.standard = this.dateSrv.readISO8601FromTimestamp(timestamp);\r\n        this.dates.currentplus20.timestamp = this.dateSrv.addTsYears(timestamp, 20);\r\n        this.dates.currentplus20.standard = this.dateSrv.readISO8601FromTimestamp(this.dates.currentplus20.timestamp);\r\n        //console.log('setCurrentDates', this.dates);\r\n    }\r\n\r\n    private setDefaultDates(): void {\r\n        this.cardExpiration = this.dates.current.standard;\r\n    }\r\n\r\n    private setGenericCreditCardImage() {\r\n        this.cardThumbnail = CC_IMG;\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/checkout/checkout.ts","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, AlertController, NavParams } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { SendingService } from '../../providers/sending-service/sending-service';\r\nimport { SendingsTabsPage } from '../sendings-tabs/sendings-tabs';\r\nimport { SendingCreate2Page } from '../sending-create-2/sending-create-2';\r\nimport { NumberValidator } from '../../validators/number.validator';\r\nimport { DateService } from '../../providers/date-service/date-service';\r\nimport { SendingRequest } from '../../models/sending-model';\r\nimport { Camera } from '@ionic-native/camera';\r\n\r\n@Component({\r\n    selector: 'page-sending-create',\r\n    templateUrl: 'sending-create.html'\r\n})\r\nexport class SendingCreatePage implements OnInit {\r\n\r\n    sending: SendingRequest;\r\n    formOne: FormGroup;\r\n    objectImageUrlTemp: any;\r\n    objectShortName: any;\r\n    objectType: any;\r\n    objectNoValueDeclared: any;\r\n    objectDeclaredValue: any;\r\n    noValueToggle:any;\r\n    //aux\r\n    showErrors:boolean = false;\r\n    rangeValue: any = 0;\r\n    cameraDefaultBg = 'assets/img/camera-bg-900x900.png';\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public navParams: NavParams,\r\n        public formBuilder: FormBuilder,\r\n        public alertCtrl: AlertController,\r\n        public sendingSrv: SendingService,\r\n        public cameraPlugin: Camera,\r\n        public dateSrv: DateService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.log('f1 > init');\r\n        // init form\r\n        this.formOne = this.formBuilder.group({\r\n            'objectImageUrlTemp': [''],\r\n            'objectShortName': ['', Validators.compose([Validators.required, Validators.maxLength(75), Validators.minLength(3)])],\r\n            'objectType': ['', Validators.compose([Validators.required])],\r\n            'objectDeclaredValue': ['', Validators.compose([Validators.required, NumberValidator.nonZero])],\r\n            'objectNoValueDeclared': [false],\r\n        });\r\n        this.objectImageUrlTemp = this.formOne.controls['objectImageUrlTemp'];\r\n        this.objectShortName = this.formOne.controls['objectShortName'];\r\n        this.objectType = this.formOne.controls['objectType'];\r\n        this.objectNoValueDeclared = this.formOne.controls['objectNoValueDeclared'];\r\n        this.objectDeclaredValue = this.formOne.controls['objectDeclaredValue'];\r\n        this.noValueToggle = false;\r\n        // init data\r\n        this.initSending();\r\n    }\r\n\r\n    submit() {\r\n        console.log('f1 > submited');\r\n        if(!this.isFormValid()) {\r\n            console.log('f1 > submit > invalid');\r\n            this.showErrors = true;\r\n        }else{    \r\n            console.log('f1 > submit > valid');\r\n            this.showErrors = false;                 \r\n            // if objectType not 'sobre' and photo not added, ask to add photo\r\n            if (this.objectType!='sobre' && this.objectImageUrlTemp.value === '') {\r\n                console.log('f1 > submit > showPictureAlert');\r\n                this.showPictureAlert();\r\n            } else {\r\n                this.processForm();\r\n            }    \r\n        }    \r\n    }\r\n\r\n    private processForm() {\r\n        console.log('f1 > processForm');\r\n        this.saveSending();\r\n        this.goToNextStep();\r\n    }\r\n\r\n    cancelSending() {\r\n        let alert = this.alertCtrl.create({\r\n            title: '¿Deseas cancelar?',\r\n            message: 'Se perderán todos los datos ingresados del Nuevo Servicio.',\r\n            buttons: [\r\n                {\r\n                    text: 'No',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('f1 > cancel > no, continue');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Si',\r\n                    handler: () => {\r\n                        console.log('f1 > cancel > yes, cancel');\r\n                        alert.dismiss()\r\n                            .then(() => {\r\n                                this.navCtrl.setRoot(SendingsTabsPage);\r\n                            })\r\n                            .catch((error) => console.log(error));     \r\n                        return false;                   \r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    /**\r\n     * Reset value of range input\r\n     */\r\n    resetObjectDeclaredValue() {\r\n        console.log('f1 > no value toggle', this.noValueToggle);\r\n        if(this.noValueToggle == true) {\r\n            this.rangeValue = 0;    \r\n            this.formOne.controls['objectDeclaredValue'].disable();\r\n        }else{\r\n            this.formOne.controls['objectDeclaredValue'].enable();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Take picture and save imageData\r\n     */\r\n    takePicture() {\r\n        console.log('f1 > takePicture');\r\n        this.cameraPlugin.getPicture({\r\n            quality: 95,\r\n            destinationType: this.cameraPlugin.DestinationType.DATA_URL,\r\n            sourceType: this.cameraPlugin.PictureSourceType.CAMERA,\r\n            allowEdit: true,\r\n            encodingType: this.cameraPlugin.EncodingType.JPEG,\r\n            targetWidth: 900,\r\n            targetHeight: 900,\r\n            saveToPhotoAlbum: true,\r\n            correctOrientation: true\r\n        })\r\n        .then((imageData) => {\r\n            console.log('f1 > takePicture > success');\r\n            let base64Image: string;\r\n            base64Image = \"data:image/jpeg;base64,\" + imageData;\r\n            this.objectImageUrlTemp.setValue(base64Image);\r\n        }, (error) => {\r\n            console.log('f1 > takePicture > error > ' + JSON.stringify(error));\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n    *  PRIVATE\r\n    */\r\n\r\n    private isFormValid() {\r\n        var valid = this.objectShortName.valid \r\n                        && this.objectType.valid \r\n                        && (this.objectNoValueDeclared.value || this.objectDeclaredValue.valid); \r\n        console.log('f1 > isFormValid > ', valid);\r\n        return valid;\r\n    }\r\n\r\n    private saveSending() {\r\n        console.log('f1 > saveSending ...');\r\n        // set input values to request\r\n        this.sending.objectShortName = this.objectShortName.value;\r\n        this.sending.objectType = this.objectType.value;\r\n        this.sending.objectNoValueDeclared = this.objectNoValueDeclared.value;\r\n        this.sending.objectDeclaredValue = this.objectDeclaredValue.value;\r\n        this.sending.objectImageSet = this.isObjectImageSet();\r\n        this.sending.objectImageUrlTemp = this.objectImageUrlTemp.value;\r\n        console.log('f1 > saveSending > this.sending > ', this.sending);\r\n    }\r\n\r\n    private goToNextStep() {\r\n        console.log('f1 > goToNextStep > f2 > include this.sending in params');\r\n        this.navCtrl.setRoot(SendingCreate2Page, {\r\n            sending: this.sending\r\n        });\r\n    }\r\n\r\n    /**\r\n     *  HELPERS\r\n     */\r\n\r\n    private showPictureAlert() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Confirmar',\r\n            message: 'Seguro no deseas incluir una foto?',\r\n            buttons: [\r\n                {\r\n                    text: 'Volver y agregar una foto',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('f1 > showPictureAlert > return and add photo');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Continuar sin foto',\r\n                    handler: () => {\r\n                        console.log('f1 > showPictureAlert > continue and processForm');\r\n                        this.processForm();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();        \r\n    }\r\n\r\n    private initSending() {\r\n        // check if sending exist in params, else initiate it\r\n        let paramValue = this.navParams.get('sending');\r\n        console.log('f1 > initSending > navParam? > ', paramValue);\r\n        if (paramValue) {\r\n            console.log('f1 > initSending > this.sending set from param');\r\n            this.sending = paramValue;\r\n            // populate inputs\r\n            this.populateForm();\r\n        }\r\n        else {\r\n            console.log('f1 > initSending > this.sending initiated');\r\n            this.sending = this.sendingSrv.initObj();\r\n        }\r\n        console.log('f1 > this.sending > ', this.sending);\r\n    }\r\n\r\n    private isObjectImageSet() {\r\n        return this.objectImageUrlTemp.value === '' ? false : true;\r\n    }\r\n\r\n    private populateForm() {\r\n        console.log('f1 > populateForm > with this.sending');\r\n        // set input values to request\r\n        this.objectShortName.setValue(this.sending.objectShortName);\r\n        this.objectType.setValue(this.sending.objectType);\r\n        this.objectNoValueDeclared.setValue(this.sending.objectNoValueDeclared);\r\n        this.objectDeclaredValue.setValue(this.sending.objectDeclaredValue);\r\n        this.rangeValue = this.sending.objectDeclaredValue;\r\n        this.objectImageUrlTemp.setValue(this.sending.objectImageUrlTemp);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sending-create/sending-create.ts","import { Subscription } from 'rxjs/Rx';\r\nimport { AccountService } from '../../providers/account-service/account-service';\r\nimport { UserAccount } from '../../models/user-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, AlertController, NavParams, ModalController, ToastController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { EmailValidator } from '../../validators/email.validator';\r\nimport { GoogleMapsService } from '../../providers/google-maps-service/google-maps-service';\r\nimport { DateService, DATES_NAMES, DATE_DEFAULTS } from '../../providers/date-service/date-service';\r\nimport { SendingRequest } from '../../models/sending-model';\r\nimport { SendingsTabsPage } from '../sendings-tabs/sendings-tabs';\r\nimport { SendingCreatePage } from '../sending-create/sending-create';\r\nimport { SendingCreate3Page } from '../sending-create-3/sending-create-3';\r\nimport { ModalSearchMapAddressPage } from '../modal-search-map-address/modal-search-map-address';\r\n\r\nconst MIN_TIMEDIFF_MINUTES = DATE_DEFAULTS.PICKUP_DROP_MIN_DIFF_IN_MINUTES;\r\nconst DATES_TXT = DATES_NAMES;\r\nconst PICKUP_DIFF_DAYS = DATE_DEFAULTS.PICKUP_DIFF_DAYS;\r\nconst DEFAULT_PICKUP_TIME_FROM_HR = DATE_DEFAULTS.PICKUP_TIME_FROM.hour;\r\nconst DEFAULT_PICKUP_TIME_FROM_MIN = DATE_DEFAULTS.PICKUP_TIME_FROM.minute;\r\n\r\n@Component({\r\n    selector: 'page-sending-create-2',\r\n    templateUrl: 'sending-create-2.html'\r\n})\r\nexport class SendingCreate2Page implements OnInit {\r\n\r\n    // sending model\r\n    sending: SendingRequest;\r\n    // user\r\n    account: UserAccount;\r\n    accountSubs: Subscription;\r\n    // form\r\n    formTwo: FormGroup;\r\n    pickupAddressFullText: any;\r\n    pickupAddressLine2: any;\r\n    pickupDate:any;\r\n    pickupTimeFrom: any;\r\n    pickupTimeTo: any;\r\n    pickupPersonName: any;\r\n    pickupPersonPhone: any;\r\n    pickupPersonEmail: any;\r\n    // form aux\r\n    showErrors: boolean = false;\r\n    monthNames: any = DATES_TXT.monthNames.es;\r\n    monthShortNames: any = DATES_TXT.monthShortNames.es;\r\n    dayNames: any = DATES_TXT.dayNames.es;\r\n    dayShortNames: any = DATES_TXT.dayShortNames.es;\r\n    dateLimits:any;\r\n    timeLimits:any;\r\n    addressModal:any;\r\n    // map\r\n    map: any;\r\n    mapMarkers = [];\r\n    placeDetails: any;    \r\n\r\n    constructor(private navCtrl: NavController,\r\n        private navParams: NavParams,\r\n        private formBuilder: FormBuilder,\r\n        private alertCtrl: AlertController,\r\n        private modalCtrl: ModalController,\r\n        private toastCtrl: ToastController,        \r\n        private gmapsService: GoogleMapsService,\r\n        private dateSrv: DateService,\r\n        private accountSrv: AccountService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.info('f2 > init');\r\n        // init\r\n        this.setAccount();\r\n        this.initPlaceDetails();        \r\n        this.initMap();\r\n        // init form\r\n        this.initForm();\r\n        // set request from param\r\n        this.getSendingFromParams();\r\n        // populate page\r\n        this.initAndPopulatePage();\r\n        // set selector limits\r\n        this.setDateLimits();\r\n        this.setTimeLimits();\r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        if(this.accountSubs) {\r\n            this.accountSubs.unsubscribe();\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  ACTIONS\r\n     */\r\n\r\n    goBack() {\r\n        this.update();\r\n        this.goBacktoStep1();\r\n    }\r\n\r\n    resetAddress() {\r\n        this.resetAddressElements();\r\n    }\r\n\r\n    submit() {\r\n        this.submitForm();\r\n    }\r\n\r\n    cancel() {\r\n        this.cancelSending();\r\n    }\r\n\r\n    showAddressSearchModal() {\r\n        this.openAddressModal();\r\n    }\r\n\r\n    populateContactWithUserData() {\r\n        this.setPickupPersonData();\r\n    }\r\n\r\n    updateDateLimits() {\r\n        this.setDateLimits();\r\n    }\r\n\r\n    updateTimeLimits() {\r\n        this.setTimeLimits();\r\n    }    \r\n\r\n    changePickupDate() {\r\n        this.runPickupDateChange();\r\n    }\r\n \r\n    changePickupTimeFrom() {\r\n        this.runPickupTimeFromChange();\r\n    }\r\n\r\n    changePickupTimeTo() {\r\n        this.runPickupTimeToChange();\r\n    }    \r\n\r\n    /// PRIVATE METHODS\r\n\r\n    /**\r\n     *  PICKUP DATE\r\n     */\r\n\r\n    // triggered by setDate()\r\n    private runPickupDateChange() {\r\n        console.group('runPickupDateChange');\r\n        // console.log('pickupDate', this.pickupDate.value);\r\n        // update PickupDate\r\n        this.setSendingPickupDate(this.pickupDate.value);\r\n        // update pickupTimeFrom\r\n        this.setNextValidTimeFrom();\r\n        // update pickupTimeTo\r\n        let newTo = this.dateSrv.addHours(this.sending.pickupTimeFrom, 2);\r\n        this.setPickupTimeTo(newTo);\r\n        // update TimeLimits\r\n        this.setTimeLimits();\r\n        console.groupEnd();\r\n    }\r\n\r\n    private setPickupDate(isoDate: string) {\r\n        this.setFormPickupDate(isoDate);\r\n        this.setSendingPickupDate(isoDate);\r\n    }\r\n    private setFormPickupDate(isoDate: string) {\r\n        this.pickupDate.setValue(isoDate);\r\n    }\r\n    private setSendingPickupDate(isoDate:string) {\r\n        this.sending.pickupDate = isoDate;\r\n    }\r\n\r\n    /**\r\n     *  PICKUP TIME-FROM\r\n     */\r\n\r\n    private runPickupTimeFromChange() {\r\n        console.group('runPickupTimeFromChange');\r\n        let newTo;\r\n        let from = this.pickupTimeFrom.value;\r\n        let to = this.pickupTimeTo.value\r\n        let diff = this.dateSrv.getDiff(from, to);\r\n        if(diff < MIN_TIMEDIFF_MINUTES) {\r\n            newTo = this.dateSrv.addMinutes(from, MIN_TIMEDIFF_MINUTES);\r\n            this.setPickupTimeTo(newTo);\r\n            this.showTimeRangeToast('Hasta', this.dateSrv.getTimeFromDate(newTo));\r\n        }\r\n        // console.log('diff, from, to, newTo', diff, from, to, newTo);              \r\n        console.groupEnd();\r\n    }\r\n\r\n    // set pickupTimeFrom date, to next valid hour\r\n    private setNextValidTimeFrom() {\r\n        console.group('setNextValidTimeFrom');\r\n        // aux\r\n        let newHour;\r\n        let newMinute;\r\n        let newDate;\r\n        let pickupDate = this.sending.pickupDate;      \r\n        let hour = this.dateSrv.getHourNum(pickupDate);    \r\n        let minute = this.dateSrv.getMinuteNum(pickupDate);   \r\n        let dateIsToday = this.dateSrv.isDateToday(pickupDate);\r\n        if(dateIsToday) {\r\n            // pickupDate is today, get nex valid time\r\n            pickupDate = this.dateSrv.getIsoString();\r\n            if(minute<=30) {\r\n                // minutes 0-30, set hour:30\r\n                newHour = hour;\r\n                newMinute = 30;\r\n            }else {\r\n                // minutes 31-59, set hour+1:00\r\n                newHour = hour+1;\r\n                newMinute = 0;            \r\n            }\r\n            if(newHour<=21) {\r\n                // hour 4-21, ok\r\n                newDate = this.dateSrv.setTimeToDate(pickupDate, newHour, newMinute); \r\n            }else{\r\n                // hour 22-23, set day+1, hour 09:00\r\n                newDate = this.dateSrv.addDays(pickupDate, 1);\r\n                newDate = this.dateSrv.setTimeToDate(newDate, DEFAULT_PICKUP_TIME_FROM_HR, DEFAULT_PICKUP_TIME_FROM_MIN); \r\n            }\r\n        }else{\r\n            // pickupDate not today, set first valid time of pickupDate\r\n            newDate = this.dateSrv.setTimeToDate(pickupDate, DEFAULT_PICKUP_TIME_FROM_HR, DEFAULT_PICKUP_TIME_FROM_MIN); \r\n        }\r\n        this.setPickupTimeFrom(newDate);        \r\n        // console.log('__NVF__ dateIsToday', dateIsToday);\r\n        // console.log('__NVF__ hour:minute', hour, minute);\r\n        // console.log('__NVF__ newHour:newMinute', newHour, newMinute);\r\n        // console.log('__NVF__ new TimeFrom', newDate);\r\n        console.groupEnd();\r\n    }\r\n\r\n    private setPickupTimeFrom(isoDate: string) {\r\n        this.setFormPickupTimeFrom(isoDate);\r\n        this.setSendingPickupTimeFrom(isoDate);\r\n    }\r\n    private setFormPickupTimeFrom(isoDate: string) {\r\n        this.pickupTimeFrom.setValue(isoDate);\r\n    }\r\n    private setSendingPickupTimeFrom(isoDate:string) {\r\n        this.sending.pickupTimeFrom = isoDate;\r\n    }\r\n\r\n\r\n    /**\r\n     *  PICKUP TIME-TO\r\n     */\r\n\r\n    private runPickupTimeToChange() {\r\n        console.group('runPickupTimeToChange');\r\n        let newFrom;\r\n        let from = this.pickupTimeFrom.value;\r\n        let to = this.pickupTimeTo.value\r\n        let diff = this.dateSrv.getDiff(from, to);\r\n        if(diff < MIN_TIMEDIFF_MINUTES) {\r\n            newFrom = this.dateSrv.subtractMinutes(to, MIN_TIMEDIFF_MINUTES);\r\n            this.setPickupTimeFrom(newFrom);\r\n            this.showTimeRangeToast('Desde', this.dateSrv.getTimeFromDate(newFrom));\r\n        }\r\n        // console.log('diff, from, to, newFrom', diff, from, to, newFrom);              \r\n        console.groupEnd();\r\n    }\r\n\r\n    private setPickupTimeTo(isoDate: string) {\r\n        this.setFormPickupTimeTo(isoDate);\r\n        this.setSendingPickupTimeTo(isoDate);\r\n    }\r\n    private setFormPickupTimeTo(isoDate: string) {\r\n        this.pickupTimeTo.setValue(isoDate);\r\n    }\r\n    private setSendingPickupTimeTo(isoDate:string) {\r\n        this.sending.pickupTimeTo = isoDate;\r\n    }\r\n\r\n    /**\r\n     * DATETIME HELPERS\r\n     */\r\n\r\n    // set pickupTimeFrom date, to next valid hour\r\n    private resetDateTimeFromTo() {\r\n        let now = this.dateSrv.getIsoString();\r\n        let hour = this.dateSrv.getHourNum(now);    \r\n        let minute = this.dateSrv.getMinuteNum(now);     \r\n        let newHour;\r\n        let newMinute;\r\n        let newDate;\r\n        if(minute>0 && minute<=30) {\r\n            newHour = hour;\r\n            newMinute = 30;\r\n        }else {\r\n            newHour = hour+1;\r\n            newMinute = 0;            \r\n        }\r\n        if(newHour>3 && newHour<=21) {\r\n            newDate = this.dateSrv.setTimeToDate(now, newHour, newMinute); \r\n        }else if(newHour<=3){\r\n            newDate = this.dateSrv.setTimeToDate(now, DEFAULT_PICKUP_TIME_FROM_HR, DEFAULT_PICKUP_TIME_FROM_MIN); \r\n        }else{\r\n            newDate = this.dateSrv.addDays(now, 1);\r\n            newDate = this.dateSrv.setTimeToDate(newDate, DEFAULT_PICKUP_TIME_FROM_HR, DEFAULT_PICKUP_TIME_FROM_MIN); \r\n        }        \r\n        this.setPickupDate(newDate);\r\n        this.setPickupTimeFrom(newDate);\r\n        let newTo = this.dateSrv.addHours(newDate, 2);\r\n        this.setPickupTimeTo(newTo);\r\n        // console.log('resetDateTimeFromTo', now, hour, minute, newHour, newMinute, newDate, newTo);\r\n    }\r\n\r\n    private isAdateOlderThanBdate(a:any, b:any) {\r\n        let isOld = this.dateSrv.isBeforeThan(a, b);\r\n        // console.log('isAdateOlderThanBdate', isOld, a, b);\r\n        return isOld;\r\n    }\r\n\r\n    // this is fixed, can be today or X days in the future\r\n    private setDateLimits() {\r\n        let now = this.dateSrv.getIsoString();\r\n        this.dateLimits = {\r\n            min: now,\r\n            max: this.dateSrv.addDays(now, PICKUP_DIFF_DAYS),\r\n        }\r\n        console.log('dateLimits', this.dateLimits);\r\n    }\r\n\r\n    // depends of pickupDate\r\n    // if today, set limit from current time\r\n    // if in the future, set limit default\r\n    private setTimeLimits() {\r\n        console.group('setTimeLimits');\r\n        let now = this.dateSrv.getIsoString();\r\n        let fromMin;\r\n        let toMin;\r\n        let dateIsToday = this.dateSrv.isDateToday(this.sending.pickupDate);\r\n        // console.log('is pickupDate today?', dateIsToday);\r\n        if(dateIsToday) {\r\n            // set limit from current time, rounded up\r\n            let minutes = this.dateSrv.getMinuteNum(now);\r\n            let hour = this.dateSrv.getHourNum(now);\r\n            if(minutes>30) {\r\n                fromMin = this.dateSrv.setTimeToDate(now, hour+1, 0);\r\n            }else{\r\n                fromMin = this.dateSrv.setTimeToDate(now, hour, 30);\r\n            }\r\n            toMin = this.dateSrv.addHours(fromMin, 2);\r\n        }else{\r\n            // set limit default\r\n            fromMin = this.dateSrv.setTimeToDate(this.sending.pickupDate, 4, 0);\r\n            toMin = this.dateSrv.setTimeToDate(this.sending.pickupDate, 6, 0);\r\n        }\r\n        this.timeLimits = {\r\n            from: {\r\n                min: fromMin,\r\n            },\r\n            to: {\r\n                min: toMin,\r\n            }\r\n        }\r\n        console.log('timeLimits', this.timeLimits);\r\n        console.groupEnd();\r\n    }\r\n\r\n\r\n    /**\r\n     * FORM HELPERS\r\n     */\r\n\r\n    private submitForm() {\r\n        console.info('f2 > submit');\r\n        if(!this.formTwo.valid){\r\n            console.error('f2 > submit > invalid');\r\n            this.showErrors = true;\r\n        }else{\r\n            console.log('f2 > submit > valid');\r\n            this.update();\r\n            this.goToNextStep();\r\n        }        \r\n    }\r\n\r\n    private cancelSending() {\r\n        console.info('f2 > cancelSending');\r\n        let alert = this.alertCtrl.create({\r\n            title: '¿Cancelar Servicio?',\r\n            message: 'Se perderán todos los datos ingresados del Nuevo Servicio.',\r\n            buttons: [\r\n                {\r\n                    text: 'No',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('f2 > cancel form > no, continue');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Si',\r\n                    handler: () => {\r\n                        console.log('f2 > cancel form > yes, cancel');\r\n                        this.navCtrl.setRoot(SendingsTabsPage);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();        \r\n    }\r\n\r\n    private initForm() {\r\n        this.formTwo = this.formBuilder.group({\r\n            'pickupAddressFullText': ['', Validators.compose([Validators.required])],\r\n            'pickupAddressLine2': ['', Validators.compose([Validators.maxLength(100)])],\r\n            'pickupDate': ['', Validators.compose([Validators.required])],\r\n            'pickupTimeFrom': ['', Validators.compose([Validators.required])],\r\n            'pickupTimeTo': ['', Validators.compose([Validators.required])],\r\n            'pickupPersonName': ['', Validators.compose([Validators.required, Validators.minLength(3), Validators.maxLength(50)])],\r\n            'pickupPersonPhone': ['', Validators.compose([Validators.required])],\r\n            'pickupPersonEmail': ['', Validators.compose([EmailValidator.isValid])],\r\n        });\r\n        this.pickupAddressFullText = this.formTwo.controls['pickupAddressFullText'];\r\n        this.pickupAddressLine2 = this.formTwo.controls['pickupAddressLine2'];\r\n        this.pickupDate = this.formTwo.controls['pickupDate'];\r\n        this.pickupTimeFrom = this.formTwo.controls['pickupTimeFrom'];\r\n        this.pickupTimeTo = this.formTwo.controls['pickupTimeTo'];\r\n        this.pickupPersonName = this.formTwo.controls['pickupPersonName'];\r\n        this.pickupPersonPhone = this.formTwo.controls['pickupPersonPhone'];\r\n        this.pickupPersonEmail = this.formTwo.controls['pickupPersonEmail'];         \r\n    }\r\n\r\n    private initAndPopulatePage() {\r\n        console.info('__populate__ ');\r\n        // map\r\n        if(this.sending.pickupAddressSet==true) {\r\n            console.info('__pop__ > set map');\r\n            var latlng = {\r\n                lat: this.sending.pickupAddressLat,\r\n                lng: this.sending.pickupAddressLng,\r\n            }\r\n            console.log('__pop__ > latlng > ', latlng);\r\n            this.setMapCenter(latlng);\r\n            this.addMapMarker(latlng);\r\n        }\r\n        // address\r\n        this.pickupAddressFullText.setValue(this.sending.pickupAddressFullText);\r\n        this.pickupAddressLine2.setValue(this.sending.pickupAddressLine2);        \r\n        // contact\r\n        this.pickupPersonName.setValue(this.sending.pickupPersonName);\r\n        this.pickupPersonPhone.setValue(this.sending.pickupPersonPhone);\r\n        this.pickupPersonEmail.setValue(this.sending.pickupPersonEmail);\r\n\r\n        // DATE AUX\r\n        let now = this.dateSrv.getIsoString();        \r\n\r\n        // PICKUP DATE\r\n        if(this.sending.pickupDate=='') {\r\n            // not set, set with now\r\n            this.resetDateTimeFromTo();\r\n        }else{\r\n            // is set, old?\r\n            if(this.isAdateOlderThanBdate(this.sending.pickupDate, now)) {               \r\n                // is old, reset with now\r\n                this.resetDateTimeFromTo();\r\n                let toast = this.toastCtrl.create({\r\n                    message: 'ATENCIÓN: Fecha/horario de Retiro fueron ajustados',\r\n                    duration: 3000,\r\n                    position: 'bottom',\r\n                    showCloseButton: true,\r\n                    closeButtonText: 'OK'\r\n                });\r\n                toast.present();\r\n            }else{\r\n                // its ok, set from sending\r\n                this.setPickupDate(this.sending.pickupDate);\r\n                this.setPickupTimeFrom(this.sending.pickupTimeFrom);\r\n                this.setPickupTimeTo(this.sending.pickupTimeTo);\r\n            }\r\n        }\r\n        //\r\n        // console.log('__pop__ pickupDate', this.sending.pickupDate);        \r\n        // console.log('__pop__ pickupTimeFrom', this.sending.pickupTimeFrom);        \r\n        // console.log('__pop__ pickupTimeTo', this.sending.pickupTimeTo);        \r\n\r\n    }\r\n\r\n    private populateAddressInput(fullAddress:string) {\r\n        console.log('f2 > populateAddressInput > ', fullAddress);\r\n        this.pickupAddressFullText.setValue(fullAddress);\r\n    }\r\n\r\n    private setPickupPersonData() {\r\n        console.log('f2 > populate pickupContact with current user');\r\n        let name = `${this.account.profile.data.firstName} ${this.account.profile.data.lastName}`;\r\n        let phone = `${this.account.profile.data.phonePrefix} ${this.account.profile.data.phoneMobile}`;\r\n        let email = this.account.profile.data.email;\r\n        this.pickupPersonName.setValue(name);\r\n        this.pickupPersonPhone.setValue(phone);\r\n        this.pickupPersonEmail.setValue(email);        \r\n    }\r\n\r\n    private resetAddressElements() {\r\n        console.info('f2 > resetPickupAddressElements');\r\n        this.initMap();\r\n        this.populateAddressInput('');\r\n        this.pickupAddressLine2.setValue('');\r\n        this.initPlaceDetails();\r\n\r\n        // reset all sending address related\r\n        this.sending.pickupAddressSet = false;\r\n        this.sending.pickupAddressIsComplete = false;\r\n        this.sending.pickupAddressUserForcedValidation = false;\r\n        this.sending.pickupAddressPlaceId = '';\r\n        this.sending.pickupAddressLat = 0;\r\n        this.sending.pickupAddressLng = 0;            \r\n        this.sending.pickupAddressFullText = '';\r\n        this.sending.pickupAddressStreetShort = '';\r\n        this.sending.pickupAddressStreetLong = '';\r\n        this.sending.pickupAddressNumber = '';\r\n        this.sending.pickupAddressPostalCode = '';            \r\n        this.sending.pickupAddressCityAreaShort = '';\r\n        this.sending.pickupAddressCityAreaLong = '';\r\n        this.sending.pickupAddressCityShort = '';\r\n        this.sending.pickupAddressCityLong = '';\r\n        this.sending.pickupAddressStateAreaShort = '';\r\n        this.sending.pickupAddressStateAreaLong = '';        \r\n        this.sending.pickupAddressStateShort = '';\r\n        this.sending.pickupAddressStateLong = '';\r\n        this.sending.pickupAddressCountry = '';         \r\n    }  \r\n\r\n    /**\r\n     *  NAVIGATION\r\n     */\r\n\r\n    private goToNextStep() {\r\n        console.info('f2 > go to f3, include params');\r\n        \r\n        this.navCtrl.setRoot(SendingCreate3Page, {\r\n            sending: this.sending\r\n        });\r\n    }\r\n\r\n    private goBacktoStep1() {\r\n        console.info('f2 > go to f1, include params');\r\n        \r\n        this.navCtrl.setRoot(SendingCreatePage, {\r\n            sending: this.sending\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * SUBMIT UPDATES\r\n     */\r\n    \r\n    private updateAddressDetails():void {\r\n        console.info('f2 > updateSendingAddressPlaceDetails > save address values in this.sending');           \r\n        this.sending.pickupAddressFullText = this.placeDetails.full_address;\r\n        this.sending.pickupAddressSet = this.placeDetails.set;\r\n        this.sending.pickupAddressIsComplete = this.placeDetails.complete;\r\n        this.sending.pickupAddressUserForcedValidation = this.placeDetails.forced;\r\n        this.sending.pickupAddressPlaceId = this.placeDetails.place_id;\r\n        this.sending.pickupAddressLat = this.placeDetails.lat;\r\n        this.sending.pickupAddressLng = this.placeDetails.lng;            \r\n        this.sending.pickupAddressStreetShort = this.placeDetails.components.route.short;\r\n        this.sending.pickupAddressStreetLong = this.placeDetails.components.route.long;\r\n        this.sending.pickupAddressNumber = this.placeDetails.components.street_number.long;\r\n        this.sending.pickupAddressPostalCode = this.placeDetails.components.postal_code.long + this.placeDetails.components.postal_code_suffix.long;            \r\n        this.sending.pickupAddressCityAreaShort = this.placeDetails.components.sublocality_level_1.short;\r\n        this.sending.pickupAddressCityAreaLong = this.placeDetails.components.sublocality_level_1.long;\r\n        this.sending.pickupAddressCityShort = this.placeDetails.components.locality.short;\r\n        this.sending.pickupAddressCityLong = this.placeDetails.components.locality.long;\r\n        this.sending.pickupAddressStateAreaShort = this.placeDetails.components.administrative_area_level_2.short;\r\n        this.sending.pickupAddressStateAreaLong = this.placeDetails.components.administrative_area_level_2.long;        \r\n        this.sending.pickupAddressStateShort = this.placeDetails.components.administrative_area_level_1.short;\r\n        this.sending.pickupAddressStateLong = this.placeDetails.components.administrative_area_level_1.long;\r\n        this.sending.pickupAddressCountry = this.placeDetails.components.country.long;           \r\n        console.log('f2 > this.sending > ', this.sending);\r\n    }\r\n\r\n    private update():void {\r\n        console.info('f2 > updateSending > save form values in this.sending');   \r\n        // address - aux\r\n        this.sending.pickupAddressLine2 = this.pickupAddressLine2.value;\r\n        // time\r\n        // pickupData is same as pickupFrom\r\n        this.sending.pickupDate = this.pickupTimeFrom.value;\r\n        this.sending.pickupTimeFrom = this.pickupTimeFrom.value;\r\n        this.sending.pickupTimeTo = this.pickupTimeTo.value;\r\n        // contact\r\n        this.sending.pickupPersonName = this.pickupPersonName.value;\r\n        this.sending.pickupPersonPhone = this.pickupPersonPhone.value;\r\n        this.sending.pickupPersonEmail = this.pickupPersonEmail.value;\r\n        console.log('f2 > this.sending > ', this.sending);\r\n    }    \r\n\r\n\r\n    /**\r\n     *  GOOGLE MAPS HELPERS\r\n     */\r\n\r\n    private openAddressModal() {\r\n        // reset \r\n        this.resetAddressElements();          \r\n        if(!this.addressModal) {\r\n            // set\r\n            this.addressModal = this.modalCtrl.create(ModalSearchMapAddressPage, {\r\n                            'modalTitle': 'Dirección de Retiro'\r\n                        });                 \r\n            // open\r\n            this.addressModal.present();\r\n            // on close\r\n            this.addressModal.onDidDismiss(data => {\r\n                console.log('onDidDismiss() param ', data);\r\n                this.processAddressSearchResult(data);  \r\n                this.addressModal = null;\r\n            });\r\n        }else{\r\n            console.error('modal has been call twice, why?');\r\n        }\r\n    }\r\n\r\n    private initPlaceDetails() {\r\n        console.info('f2 > initPlaceDetails');\r\n        this.placeDetails = this.gmapsService.initPlaceDetails();\r\n    }\r\n\r\n    private processAddressSearchResult(item:any) {\r\n        console.info('processAddressSearchResult');\r\n        if(item){            \r\n            // get place details with place_id\r\n            this.setPlaceDetails(item.place_id);\r\n        }else{\r\n            // item is undefined, cant process\r\n            console.error('processAddressSearchResult > undefined', item);\r\n        }    \r\n    }\r\n\r\n    private setPlaceDetails(place_id:string) {\r\n        console.info('f2 > setPlaceDetails > init');\r\n        this.gmapsService.getPlaceDetails(place_id, this.map)\r\n            .then((place) => {\r\n                let details = this.gmapsService.inspectPlaceDetails(place);\r\n                // console.log('details extracted > ', details);\r\n                let isComplete:any = this.gmapsService.isPlaceAddressComplete(details);\r\n                console.log('isComplete', isComplete);\r\n                if(isComplete.passed) {\r\n                    let latlng = this.gmapsService.setlatLng(details.lat, details.lng);\r\n                    this.setMapCenter(latlng);\r\n                    this.addMapMarker(latlng); \r\n                    // populate\r\n                    this.placeDetails = details;\r\n                    this.placeDetails.set = true;\r\n                    this.placeDetails.complete = true;\r\n                    this.populateAddressInput(details.full_address);\r\n                    // save\r\n                    this.updateAddressDetails();                           \r\n                }else{\r\n                     console.error('f2 > setPlaceDetails > address incomplete ', details);\r\n                    // alert user\r\n                    let failedTxt = isComplete.failed.toString();\r\n                    let alert = this.alertCtrl.create({\r\n                        title: 'Dirección incompleta',\r\n                        subTitle: `Debe indicarse una dirección de retiro exacta,\r\n                                   que incluya nombre de calle, númeración y ciudad. \r\n                                   Vuelve a intentarlo. (Datos faltantes: ${failedTxt})`,\r\n                        buttons: ['Cerrar']\r\n                    });\r\n                    alert.present();                    \r\n                    this.placeDetails.set = false;\r\n                    this.placeDetails.complete = false;                    \r\n                }    \r\n            })\r\n            .catch((error) => {\r\n                console.error('f2 > setPlaceDetails > error > ', error);\r\n            });\r\n    }\r\n\r\n    private setMapCenter(latlng: any):void {\r\n        console.info('f2 > setMapCenter');\r\n        this.map.setCenter(latlng);\r\n        this.map.setZoom(15);       \r\n    }\r\n\r\n    private addMapMarker(latlng:any):void {\r\n        console.info('f2 > addMapMarker');\r\n        let marker = this.gmapsService.addMapMarker(latlng, this.map);\r\n        this.mapMarkers.push(marker);\r\n    }     \r\n\r\n    private initMap() {\r\n        console.info('f2 > initMap');\r\n        let latlng = this.gmapsService.setlatLng(-34.603684, -58.381559);\r\n        let divMap = (<HTMLInputElement>document.getElementById('mapf2'));\r\n        this.map = this.gmapsService.initMap(latlng, divMap);\r\n    }\r\n\r\n\r\n    /**\r\n     * AUX HELPERS\r\n     */\r\n\r\n    private setAccount() {\r\n        let obs = this.accountSrv.getObs(true);\r\n        this.accountSubs = obs.subscribe((snap) => {\r\n                                this.account = snap.val();\r\n                            }, err => {\r\n                                console.log('error', err);\r\n                            });\r\n    }    \r\n\r\n    private getSendingFromParams() {\r\n        console.info('f2 > getSendingFromParams');\r\n        console.log('f2 > param > ', this.navParams.get('sending'));\r\n        this.sending = this.navParams.get('sending');\r\n    }\r\n\r\n    private showTimeRangeToast(input:string, newTime:string) {\r\n        let toast = this.toastCtrl.create({\r\n            message: 'Se ajustó horario de \"' + input + '\" a \"' + newTime + '\", para mantener 2 horas de margen',\r\n            duration: 6000,\r\n            position: 'bottom',\r\n            showCloseButton: true,\r\n            closeButtonText: 'OK'\r\n        });\r\n        toast.present();    \r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sending-create-2/sending-create-2.ts","import { DateService } from '../../providers/date-service/date-service';\r\nimport { Subscription } from 'rxjs/Rx';\r\nimport { AccountService } from '../../providers/account-service/account-service';\r\nimport { UserAccount, UserAccountOperator } from '../../models/user-model';\r\nimport { AlertController, ToastController } from 'ionic-angular';\r\nimport { ShipmentsService } from '../../providers/shipments-service/shipments-service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, ViewController } from 'ionic-angular';\r\nimport { ShipmentDetailPage } from '../shipment-detail/shipment-detail';\r\nimport { ShipmentCreatePage } from '../shipment-create/shipment-create';\r\nimport { FirebaseListObservable } from 'angularfire2/database';\r\n\r\n@Component({\r\n    selector: 'page-shipments',\r\n    templateUrl: 'shipments.html',\r\n})\r\nexport class ShipmentsPage implements OnInit{\r\n\r\n    // operatorAuth flags\r\n    operatorAuthUnchecked:any;\r\n    // account\r\n    accountSubs: Subscription;\r\n    account: UserAccount;\r\n    operator: UserAccountOperator;\r\n    // list\r\n    shipments:FirebaseListObservable<any>;\r\n\r\n    constructor(private navCtrl: NavController,\r\n        public shipmentSrv:ShipmentsService,\r\n        public viewCtrl: ViewController,\r\n        public alertCtrl: AlertController,\r\n        private accountSrv: AccountService,\r\n        private toastCtrl: ToastController,\r\n        private dateSrv: DateService) {}\r\n\r\n    ngOnInit() {\r\n        console.info('__shipment__');\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        this.operatorAuthUnchecked = true;\r\n        this.init();  \r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        console.log('shipments leaving ..');\r\n        this.shipments = null;\r\n        if(this.accountSubs) {\r\n            console.log('unsubscribed');\r\n            this.accountSubs.unsubscribe();\r\n        }\r\n    }\r\n\r\n    goToDetail(data:any) {\r\n        console.log('go to detail > ', data.shipmentId);\r\n        this.navCtrl.push(ShipmentDetailPage, { \r\n            shipmentId: data.shipmentId,\r\n            sendingId: data.sendingId,\r\n        });         \r\n    }\r\n\r\n    goToCreate() {\r\n        if(this.operator.active) {\r\n            this.navCtrl.setRoot(ShipmentCreatePage);\r\n        }else{\r\n            this.toastNotAvailable();\r\n        }\r\n    }\r\n\r\n    getStatusMessage(currentStageStatus) {\r\n        let message = '';\r\n        switch(currentStageStatus){\r\n            case 'live_gotoperator':\r\n            case 'live_waitpickup':\r\n                message = 'Retirar';\r\n                break;\r\n            case 'live_pickedup':                \r\n            case 'live_inroute':\r\n                message = 'Entregar';\r\n                break;                \r\n            case 'live_dropped':\r\n            case 'closed_completed':\r\n                message = 'Entregado';\r\n                break;                             \r\n        }\r\n        return message;\r\n    }    \r\n\r\n    /**\r\n     *  PRIVATE\r\n     */  \r\n\r\n    private init() {\r\n        this.setAccount()\r\n            .then(() => {\r\n                this.getAllActive();\r\n            });\r\n    }\r\n\r\n    private getAllActive() {\r\n        this.shipments = this.shipmentSrv.getAllActiveObs();\r\n    }     \r\n\r\n    private setAccount(): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            let obs = this.accountSrv.getObs(true);\r\n            this.accountSubs = obs.subscribe((snap) => {\r\n                this.account = snap.val();\r\n                this.operator = this.account.operator;\r\n                this.operatorAuthUnchecked = false;\r\n                console.log('set account', this.account, this.operator, this.operatorAuthUnchecked);\r\n                resolve();\r\n            },\r\n            err => {\r\n                console.log(err);\r\n                reject();\r\n            });\r\n        });\r\n    }\r\n\r\n    private toastNotAvailable() {\r\n        let toast = this.toastCtrl.create({\r\n                message: 'Función no disponible',\r\n                duration: 2000\r\n            });\r\n        toast.present();\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shipments/shipments.ts","import { AccountService } from '../../providers/account-service/account-service';\r\nimport { UserProfileData } from '../../models/user-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NumberValidator } from '../../validators/number.validator';\r\n\r\n@Component({\r\n    selector: 'modal-user-edit-phone',\r\n    templateUrl: 'modal-user-edit-phone.html'\r\n})\r\nexport class ModalUserEditPhonePage implements OnInit{\r\n\r\n    editForm: FormGroup;\r\n    user: firebase.User;\r\n    accountData: UserProfileData;\r\n    changeInProcess: boolean;\r\n    showError: boolean;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public viewCtrl: ViewController,\r\n        public alertCtrl: AlertController,\r\n        public formBuilder: FormBuilder,\r\n        public params:NavParams,\r\n        private accountSrv: AccountService) {\r\n            this.accountData = this.params.get('accountData');\r\n            this.changeInProcess = false;\r\n    }\r\n\r\n    ngOnInit() {\r\n        // form init\r\n        this.showError = false;\r\n        this.editForm = this.formBuilder.group({\r\n            'phonePrefix':  [this.accountData.phonePrefix, Validators.compose([Validators.required, Validators.maxLength(100)])],\r\n            'phoneMobile':  [this.accountData.phoneMobile, Validators.compose([Validators.required, Validators.maxLength(100), NumberValidator.isNumber])],\r\n        });\r\n    }\r\n\r\n    dismiss(updated:boolean = false) {\r\n        let data = { update: updated };\r\n        this.viewCtrl.dismiss(data);\r\n    }\r\n\r\n    submit() {\r\n        console.info('modal edit phone');\r\n        if(!this.editForm.valid) {\r\n            this.showError = true;\r\n            return;\r\n        }\r\n        this.showError = false;\r\n        this.accountData.phonePrefix = this.editForm.value.phonePrefix;\r\n        this.accountData.phoneMobile = this.editForm.value.phoneMobile;\r\n        this.accountSrv.updateProfileData(this.accountData)\r\n            .then(() => {\r\n                console.log('success');\r\n                // show alert\r\n                let alert = this.alertCtrl.create({\r\n                    title: 'Modificado',\r\n                    subTitle: 'Tu número de móvil ha modificado correctamente.',\r\n                    buttons: [\r\n                        {\r\n                            text: 'Cerrar',\r\n                            handler: data => {\r\n                                this.dismiss(true);\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                alert.present();\r\n            })\r\n            .catch((error) => {\r\n                console.log('error', error);\r\n                console.groupEnd();\r\n            });\r\n    }        \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-user-edit-phone/modal-user-edit-phone.ts","import { FormControl } from '@angular/forms';\r\n\r\nexport interface ValidationResult {\r\n    [key: string]: boolean;\r\n}\r\n\r\nexport class NumberValidator {\r\n\r\n    public static nonZero(control: FormControl): ValidationResult {\r\n        let valid = control.value <= 0;\r\n        if (valid) {\r\n            return { nonZero: true };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static isNumber(control: FormControl): ValidationResult {\r\n        let input = new Number(control.value);\r\n        let valid = input>0;\r\n        if (!valid) {\r\n            return { isNumber: true };\r\n        }\r\n        return null;\r\n    }    \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/validators/number.validator.ts","import { Subscription } from 'rxjs/Rx';\r\nimport { SendingService } from '../../providers/sending-service/sending-service';\r\nimport { Alert, LoadingController } from 'ionic-angular';\r\nimport { SendingRequest } from '../../models/sending-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ViewController, NavController, NavParams, Platform, ToastController, AlertController, ActionSheetController } from 'ionic-angular';\r\n\r\nimport { CheckoutPage } from '../checkout/checkout';\r\n\r\n@Component({\r\n    selector: 'page-sending-detail',\r\n    templateUrl: 'sending-detail.html',\r\n})\r\nexport class SendingDetailPage implements OnInit {\r\n\r\n    sendingtab:string = \"notifications\";\r\n    sendingId:string;\r\n    sending:SendingRequest;\r\n    sendingSubs:Subscription;\r\n    notifications:Array<any>;\r\n    private _platform: Platform;\r\n    private _isAndroid: boolean;\r\n    private _isiOS: boolean;\r\n    private _isCore: boolean;\r\n\r\n    constructor(public platform: Platform,\r\n        public navCtrl: NavController,\r\n        public navParams: NavParams,\r\n        public alertCtrl: AlertController,\r\n        public actionShCtrl: ActionSheetController,\r\n        public viewCtrl: ViewController,\r\n        public loadingCtrl: LoadingController,\r\n        public sendingsSrv: SendingService,\r\n        public toastCtrl: ToastController) {\r\n        this._platform = platform;\r\n        this._isAndroid = platform.is('android');\r\n        this._isiOS = platform.is('ios');\r\n        this._isCore = platform.is('core');           \r\n    }\r\n\r\n    ngOnInit() {\r\n        console.log('_onInit');\r\n        this.getParams();                      \r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        console.log('_willEnter');\r\n        let loader = this.loadingCtrl.create({ content: \"Cargando ...\" });\r\n        loader.present();  \r\n        let obs = this.sendingsSrv.getByIdObs(this.sendingId, true);\r\n        this.sendingSubs = obs.subscribe((snap) => {\r\n                                this.sending = snap.val();\r\n                                this.setNotificationsAsArray();\r\n                                loader.dismiss();                                \r\n                            }, err => {\r\n                                console.log('err', err);\r\n                            });\r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        console.log('_willLeave');\r\n        if(this.sendingSubs) {\r\n            this.sendingSubs.unsubscribe();\r\n        }\r\n    }\r\n\r\n    private getParams() {\r\n        console.info('__PRM__  getParams');\r\n        this.sendingId = this.navParams.get('sendingId');\r\n        console.log('__PRM__', this.sendingId);\r\n    }\r\n\r\n    private setNotificationsAsArray() {\r\n        this.notifications = [];\r\n        let notifis = this.sending._notifications;\r\n        for(let key in notifis) {\r\n            //console.log(key, notifis[key]);\r\n            let item = {\r\n                key: key,\r\n                data: notifis[key]\r\n            };\r\n            this.notifications.push(item);\r\n        }\r\n        //console.log(this.notifications);\r\n    }\r\n\r\n    goToCheckout() {\r\n        console.log('go to checkout > ');\r\n        this.navCtrl.push(CheckoutPage, { sending: this.sending });\r\n    }\r\n\r\n    openActionSh() {\r\n        let actionSh = this.actionShCtrl.create({\r\n            title: 'Acciones ',\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar servicio',\r\n                    icon: 'close',\r\n                    handler: () => {\r\n                        actionSh.dismiss()\r\n                            .then(() => {\r\n                                this.showAlertNotifyAction('cancelService');\r\n                            })\r\n                            .catch(err => console.log(err));\r\n                            return false;\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        actionSh.present();\r\n    }\r\n\r\n    private showAlertNotifyAction(action:string) {\r\n        let content = {\r\n            set: false,\r\n            title: '',\r\n            message: '',\r\n            cancelBtnTxt: '',\r\n            confirmBtnTxt: ''\r\n        }\r\n        switch(action) {\r\n            case 'cancelService':\r\n                    content.set = true;\r\n                    content.title = 'Seguro deseas cancelar el Servicio?';\r\n                    content.message = 'El servicio será cancelado y ya no estará disponible';  \r\n                    content.cancelBtnTxt = 'No';\r\n                    content.confirmBtnTxt = 'Sí, cancelarlo';\r\n                break;                \r\n        }\r\n        if(!content.set) {\r\n            console.error('AlertController action param invalid');\r\n            return;\r\n        }\r\n        let alert = this.alertCtrl.create({\r\n            title: content.title,\r\n            message: content.message,\r\n            buttons: [\r\n                {\r\n                    text: content.cancelBtnTxt,\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('Cancel clicked');\r\n                    }\r\n                },\r\n                {\r\n                    text: content.confirmBtnTxt,\r\n                    handler: () => {\r\n                        console.log('confirmed');\r\n                        switch(action) {\r\n                            case 'cancelService':\r\n                                this.runSendingCancelation();           \r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n\r\n    private runSendingCancelation() {\r\n        let loading = this.loadingCtrl.create({ content: 'cancelando ...'});\r\n        this.sendingsSrv.setCanceledbysender(this.sendingId)\r\n            .then(() => {\r\n                console.log('sending canceled ok');\r\n                let alert:Alert = this.alertCtrl.create({\r\n                    title: 'Cancelación en proceso',\r\n                    subTitle: 'La cancelación del servicio se ha iniciado correctamente.',\r\n                    buttons: ['Cerrar']\r\n                });\r\n                loading.dismiss()\r\n                    .then(() => {\r\n                        console.log('loading dismissed');\r\n                        alert.present();\r\n                        return alert.onDidDismiss(() => {\r\n                            console.log('alert dismissed');\r\n                            this.navCtrl.pop();\r\n                        });\r\n                    })\r\n                    .catch(err => console.log(err));\r\n            })\r\n            .catch(err => {\r\n                console.log('sending canceled error', err.error);\r\n                let alert = this.alertCtrl.create({\r\n                    title: 'Error',\r\n                    subTitle: 'Ocurrió un error, no se pudo iniciar la cancelación del servicio, vuelve a intentarlo.',\r\n                    buttons: ['Cerrar']\r\n                });\r\n                loading.dismiss()\r\n                    .then(() => {\r\n                        alert.present();\r\n                    })\r\n                    .catch(err => console.log(err));\r\n            });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sending-detail/sending-detail.ts","import { AuthService } from '../auth-service/auth-service';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport * as hashids from 'Hashids';\r\n\r\n@Injectable()\r\nexport class HashService {\r\n\r\n    hashids:any;\r\n    userSalt:any;\r\n\r\n    constructor(private authSrv: AuthService) {\r\n        this.userSalt = this.authSrv.fbuser.uid;\r\n    }\r\n\r\n    /**\r\n     *  HASHIDS \r\n     *  http://hashids.org/\r\n     *  \r\n     */\r\n\r\n    /**\r\n     *  generates a unique hashed ID based on\r\n     * - unix seconds\r\n     * - random(10)\r\n     */\r\n    genId():string {\r\n        this.hashids = new hashids(this.userSalt, 6, '1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ');\r\n        let date = Date.now()/1000;\r\n        let random1 = Math.round(date);\r\n        let random2 = Math.floor((Math.random() * 10) + 1);          \r\n        let hashid:string = this.hashids.encode(random1, random2);      \r\n        return hashid;\r\n    }\r\n\r\n    genSecurityCode():string {\r\n        this.hashids = new hashids(this.userSalt, 4, '1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ');\r\n        let random = Math.floor((Math.random() * 10) + 1);           \r\n        let hashid:string = this.hashids.encode(random);      \r\n        return hashid;        \r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/hash-service/hash-service.ts","import { Observable } from 'rxjs';\r\nimport { CardTokenData, PrepaymentData } from '../payment-gateways/mercadopago-model';\r\nimport { MercadopagoService } from '../payment-gateways/mercadopago-service';\r\nimport { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable()\r\nexport class SendingPaymentService {\r\n\r\n    constructor(public mpagoSrv: MercadopagoService) {}\r\n\r\n\r\n    /**\r\n     *  MERCADOPAGO API\r\n     */\r\n\r\n    checkoutMP(prepaymentData:PrepaymentData):Observable<any> {\r\n        return this.mpagoSrv.checkout(prepaymentData);        \r\n    }\r\n\r\n    guessPaymentTypeMP(input:string): Promise<any> {\r\n        return this.mpagoSrv.guessPaymentMethod(input);\r\n    }\r\n\r\n    createCardTokenMP(form:CardTokenData): Promise<any> {\r\n        return this.mpagoSrv.createCardToken(form);    \r\n    }\r\n\r\n    getCardTokenErrorMsgMP(statusCode:number, cause:Array<any>):any {\r\n        return this.mpagoSrv.getCardTokenErrorMsg(statusCode, cause);\r\n    }\r\n\r\n    clearSessionMP() {\r\n        return this.mpagoSrv.clearSession();\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-payment-service.ts","import { FirebaseListObservable } from 'angularfire2/database/firebase_list_observable';\r\nimport { APP_CFG } from '../../models/app-model';\r\nimport { App, LoadingController } from 'ionic-angular';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ViewController } from 'ionic-angular';\r\nimport { SendingCreatePage } from '../sending-create/sending-create';\r\nimport { SendingDetailPage } from '../sending-detail/sending-detail';\r\nimport { CheckoutPage } from '../checkout/checkout';\r\nimport { SendingService } from '../../providers/sending-service/sending-service';\r\n\r\n@Component({\r\n    selector: 'page-sendings-active',\r\n    templateUrl: 'sendings-active.html',\r\n})\r\nexport class SendingsActivePage implements OnInit {\r\n\r\n    sendings: FirebaseListObservable<any>;\r\n    appName:string = APP_CFG.ENVIRONMENTS[APP_CFG.CURRENT_ENV].APP_NAME;\r\n\r\n    constructor(public viewCtrl: ViewController,\r\n        public loadingCtrl: LoadingController,\r\n        public sendingSrv: SendingService,\r\n        private app: App) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.info('_sendings_');\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        console.log('_willEnter');\r\n        this.getAllActive();  \r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        console.log('_willLeave');\r\n        this.unbind();\r\n    }\r\n\r\n    goToDetail(key: string) {\r\n        console.log('_goToDetail()', key);\r\n        // console.log('using getRootNavs()', this.app.getRootNavs());\r\n        this.app.getRootNavs()[0].push(SendingDetailPage, { sendingId: key });\r\n    }\r\n\r\n    goToCheckout(key: string) {\r\n        console.log('_goToCheckout()', key);\r\n        // loader\r\n        let loader = this.loadingCtrl.create({\r\n            content: \"Cargando ...\",\r\n        });\r\n        loader.present();        \r\n        // get\r\n        let obs = this.sendingSrv.getByIdObs(key, true);\r\n        let subsc = obs.subscribe(snap => {\r\n            loader.dismiss();\r\n            subsc.unsubscribe();\r\n            this.app.getRootNavs()[0].push(CheckoutPage, { sending: snap.val() });\r\n        });\r\n    }    \r\n\r\n    createSending() {\r\n        this.app.getRootNavs()[0].setRoot(SendingCreatePage);\r\n    }\r\n\r\n    getStatusMessage(currentStageStatus) {\r\n        let data:any = {\r\n            message: '',\r\n            color: 'primary',\r\n            mode: 'note'\r\n        };\r\n        switch (currentStageStatus) {\r\n            case 'created_registered':\r\n                data.message = 'PAGAR';\r\n                data.color = 'danger';\r\n                data.mode = 'button';\r\n                break;\r\n            case 'created_paid':\r\n                data.message = 'Verificando pago';\r\n                break;\r\n            case 'created_enabled':\r\n            case 'live_waitoperator':\r\n                data.message = 'Aguardar Operador';\r\n                break;\r\n            case 'live_gotoperator':\r\n            case 'live_waitpickup':\r\n                data.message = 'Aguardar Retiro';\r\n                break;\r\n            case 'live_pickedup':\r\n            case 'live_inroute':\r\n                data.message = 'En transito';\r\n                break;\r\n            case 'live_dropped':\r\n            case 'closed_completed':\r\n                data.message = 'Entregado';\r\n                break;\r\n        }\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     *  PRIVATE\r\n     */\r\n\r\n    private getAllActive() {\r\n        console.log('_getAll');\r\n        this.sendings = this.sendingSrv.getAllActiveObs();\r\n    }\r\n\r\n    private unbind() {\r\n        this.sendings = null;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sendings-active/sendings-active.ts","import { SendingRequest } from '../../models/sending-model';\r\nimport { Subscription } from 'rxjs/Rx';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AccountService } from '../../providers/account-service/account-service';\r\nimport { UserAccount } from '../../models/user-model';\r\nimport { NavController, AlertController, NavParams, ModalController, ToastController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { EmailValidator } from '../../validators/email.validator';\r\nimport { GoogleMapsService } from '../../providers/google-maps-service/google-maps-service';\r\nimport { DateService, DATE_DEFAULTS, DATES_NAMES } from '../../providers/date-service/date-service';\r\nimport { SendingsTabsPage } from '../sendings-tabs/sendings-tabs';\r\nimport { SendingCreate2Page} from '../sending-create-2/sending-create-2';\r\nimport { SendingCreate4Page} from '../sending-create-4/sending-create-4';\r\nimport { ModalSearchMapAddressPage } from '../modal-search-map-address/modal-search-map-address';\r\n\r\nconst MIN_TIMEDIFF_MINUTES = DATE_DEFAULTS.PICKUP_DROP_MIN_DIFF_IN_MINUTES;\r\nconst DATES_TXT = DATES_NAMES;\r\n\r\n@Component({\r\n    selector: 'page-sending-create-3',\r\n    templateUrl: 'sending-create-3.html'\r\n})\r\nexport class SendingCreate3Page implements OnInit{\r\n\r\n    // sending model\r\n    sending: SendingRequest;\r\n    // user\r\n    account: UserAccount;\r\n    accountSubs: Subscription;\r\n    // form\r\n    form: FormGroup;\r\n    dropAddressFullText: any;\r\n    dropAddressLine2: any;    \r\n    dropTimeFrom: any;\r\n    dropTimeTo: any;\r\n    dropPersonName: any;\r\n    dropPersonPhone: any;\r\n    dropPersonEmail: any;\r\n    // form aux\r\n    showErrors:boolean = false;\r\n    monthNames: any = DATES_TXT.monthNames.es;\r\n    monthShortNames: any = DATES_TXT.monthShortNames.es;\r\n    dayNames: any = DATES_TXT.dayNames.es;\r\n    dayShortNames: any = DATES_TXT.dayShortNames.es;\r\n    timeLimits:any;\r\n    addressModal:any;\r\n    // map\r\n    map: any;\r\n    mapMarkers = [];\r\n    placeDetails: any; \r\n\r\n    constructor(private navCtrl: NavController,\r\n        private navParams: NavParams,\r\n        private formBuilder: FormBuilder,\r\n        private alertCtrl: AlertController,\r\n        private modalCtrl: ModalController,\r\n        private toastCtrl: ToastController,\r\n        private gmapsService: GoogleMapsService,\r\n        private dateSrv: DateService,\r\n        private accountSrv: AccountService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.log('f3 > init');\r\n        console.group('f3');        \r\n        this.setAccount();\r\n        this.initPlaceDetails();\r\n        this.initMap();        \r\n        // init form\r\n        this.initForm();\r\n        // set sending from param\r\n        this.getSendingFromParams();\r\n        // populate page\r\n        this.initAndPopulatePage();\r\n        this.setTimeLimits();        \r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        if(this.accountSubs) {\r\n            this.accountSubs.unsubscribe();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * MAIN ACTIONS\r\n     */\r\n\r\n    goBack() {\r\n        this.update();\r\n        this.goBacktoStep2();\r\n    }\r\n\r\n    resetAddress() {\r\n        this.resetAddressElements();\r\n    }\r\n\r\n    submit() {\r\n        this.submitForm();\r\n    }\r\n\r\n    cancel() {\r\n        this.cancelSending();\r\n    }\r\n\r\n    showAddressSearchModal() {\r\n        this.openAddressModal();\r\n    }\r\n\r\n    populateContactWithUserData() {\r\n        this.setPickupPersonData();\r\n    }\r\n\r\n    changeDropTimeFrom() {\r\n        this.runDropTimeFromChange();\r\n    }\r\n\r\n    changeDropTimeTo() {\r\n        this.runDropTimeToChange();\r\n    }  \r\n\r\n\r\n    /// PRIVATE METHODS\r\n\r\n    /**\r\n     *  DROP DATE\r\n     */\r\n\r\n    /**\r\n     *  DROP TIME-FROM\r\n     */\r\n\r\n    private runDropTimeFromChange() {\r\n        console.group('runDropTimeFromChange');\r\n        let newTo;\r\n        let from = this.dropTimeFrom.value;\r\n        let to = this.dropTimeTo.value\r\n        let diff = this.dateSrv.getDiff(from, to);\r\n        if(diff < MIN_TIMEDIFF_MINUTES) {\r\n            newTo = this.dateSrv.addMinutes(from, MIN_TIMEDIFF_MINUTES);\r\n            this.setDropTimeTo(newTo);\r\n            this.showTimeRangeToast('Hasta', this.dateSrv.getTimeFromDate(newTo));\r\n        }\r\n        console.log('diff, from, to, newTo', diff, from, to, newTo);              \r\n        console.groupEnd();\r\n    }\r\n\r\n    private setDropTimeFrom(isoDate: string) {\r\n        this.setFormDropTimeFrom(isoDate);\r\n        this.setSendingDropTimeFrom(isoDate);\r\n    }\r\n    private setFormDropTimeFrom(isoDate: string) {\r\n        this.dropTimeFrom.setValue(isoDate);\r\n    }\r\n    private setSendingDropTimeFrom(isoDate:string) {\r\n        this.sending.dropTimeFrom = isoDate;\r\n    }\r\n\r\n    /**\r\n     *  DROP TIME-TO\r\n     */\r\n\r\n    private runDropTimeToChange() {\r\n        console.group('runDropTimeToChange');\r\n        let newFrom;\r\n        let from = this.dropTimeFrom.value;\r\n        let to = this.dropTimeTo.value\r\n        let diff = this.dateSrv.getDiff(from, to);\r\n        if(diff < MIN_TIMEDIFF_MINUTES) {\r\n            newFrom = this.dateSrv.subtractMinutes(to, MIN_TIMEDIFF_MINUTES);\r\n            this.setDropTimeFrom(newFrom);\r\n            this.showTimeRangeToast('Desde', this.dateSrv.getTimeFromDate(newFrom));\r\n        }\r\n        console.log('diff, from, to, newFrom', diff, from, to, newFrom);              \r\n        console.groupEnd();\r\n    }\r\n\r\n    private setDropTimeTo(isoDate: string) {\r\n        this.setFormDropTimeTo(isoDate);\r\n        this.setSendingDropTimeTo(isoDate);\r\n    }\r\n    private setFormDropTimeTo(isoDate: string) {\r\n        this.dropTimeTo.setValue(isoDate);\r\n    }\r\n    private setSendingDropTimeTo(isoDate:string) {\r\n        this.sending.dropTimeTo = isoDate;\r\n    }\r\n\r\n    /**\r\n     *  DATETIME HELPERS\r\n     */\r\n\r\n    private isAdateOlderThanBdate(a:any, b:any) {\r\n        let isOld = this.dateSrv.isBeforeThan(a, b);\r\n        console.log('isAdateOlderThanBdate', isOld, a, b);\r\n        return isOld;\r\n    }\r\n\r\n    // set TimeFrom = pickupDate\r\n    // set TimeTo = TimeFrom+2hr\r\n    private setTimeLimits() {\r\n        console.group('setTimeLimits');\r\n        let fromMin = this.sending.pickupDate;\r\n        let toMin = this.dateSrv.addMinutes(fromMin, MIN_TIMEDIFF_MINUTES);\r\n        this.timeLimits = {\r\n            from: {\r\n                min: fromMin,\r\n            },\r\n            to: {\r\n                min: toMin,\r\n            }\r\n        }\r\n        console.log('timeLimits', this.timeLimits);\r\n        console.groupEnd();\r\n    }\r\n\r\n   /**\r\n     *  FORM HELPERS\r\n     */\r\n\r\n    private submitForm() {\r\n        console.log('f3 > submit');\r\n        if(!this.form.valid) {\r\n            console.log('f3 > submit > invalid');\r\n            this.showErrors = true;\r\n        }else{\r\n            console.log('f3 > submit > valid');\r\n            this.showErrors = false;\r\n            this.update();\r\n            this.goToNextStep();\r\n        }    \r\n    }\r\n\r\n    private cancelSending() {\r\n        console.info('f3 > cancelSending');        \r\n        let alert = this.alertCtrl.create({\r\n            title: '¿Cancelar Envío?',\r\n            message: 'Se perderán todos los datos ingresados del Nuevo Envío.',\r\n            buttons: [\r\n                {\r\n                    text: 'No',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('f3 > cancel form > no, continue');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Si',\r\n                    handler: () => {\r\n                        console.log('f3 > cancel form > yes, cancel');\r\n                        this.navCtrl.setRoot(SendingsTabsPage);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    private initForm() {\r\n        this.form = this.formBuilder.group({\r\n            'dropAddressFullText': ['', Validators.compose([Validators.required])],\r\n            'dropAddressLine2': ['', Validators.compose([Validators.maxLength(100)])],\r\n            'dropTimeFrom': ['', Validators.compose([Validators.required])],\r\n            'dropTimeTo': ['', Validators.compose([Validators.required])],\r\n            'dropPersonName': ['', Validators.compose([Validators.required, Validators.minLength(3), Validators.maxLength(50)])],\r\n            'dropPersonPhone': ['', Validators.compose([Validators.required])],\r\n            'dropPersonEmail': ['', Validators.compose([EmailValidator.isValid])],\r\n        });\r\n        this.dropAddressFullText = this.form.controls['dropAddressFullText'];\r\n        this.dropAddressLine2 = this.form.controls['dropAddressLine2'];        \r\n        this.dropTimeFrom = this.form.controls['dropTimeFrom'];\r\n        this.dropTimeTo = this.form.controls['dropTimeTo'];\r\n        this.dropPersonName = this.form.controls['dropPersonName'];\r\n        this.dropPersonPhone = this.form.controls['dropPersonPhone'];\r\n        this.dropPersonEmail = this.form.controls['dropPersonEmail'];        \r\n    }\r\n\r\n    private initAndPopulatePage() {\r\n        console.log('f3 > populate form with this.sending');\r\n        // map\r\n        if(this.sending.dropAddressSet==true) {\r\n            console.info('f3 > populatePage > set map');\r\n            var latlng = {\r\n                lat: this.sending.dropAddressLat,\r\n                lng: this.sending.dropAddressLng,\r\n            }\r\n            console.log('f3 > populatePage > latlng > ', latlng);\r\n            this.setMapCenter(latlng);\r\n            this.addMapMarker(latlng);\r\n        }\r\n        // address\r\n        this.dropAddressFullText.setValue(this.sending.dropAddressFullText);\r\n        this.dropAddressLine2.setValue(this.sending.dropAddressLine2);          \r\n        //datetime\r\n        this.dropTimeFrom.setValue(this.sending.dropTimeFrom);\r\n        this.dropTimeTo.setValue(this.sending.dropTimeTo);\r\n        // contact\r\n        this.dropPersonName.setValue(this.sending.dropPersonName);\r\n        this.dropPersonPhone.setValue(this.sending.dropPersonPhone);\r\n        this.dropPersonEmail.setValue(this.sending.dropPersonEmail);\r\n\r\n        // DATE AUX\r\n        let from = this.sending.pickupDate;\r\n        if(this.sending.dropTimeFrom=='') {\r\n            // not set, set with now\r\n            this.setDropTimeFrom(from);\r\n        }else{\r\n            if(this.isAdateOlderThanBdate(this.sending.dropTimeFrom, from)) {\r\n                this.setDropTimeFrom(from);\r\n                let toast = this.toastCtrl.create({\r\n                    message: 'ATENCIÓN: horario de Entrega fue ajustado',\r\n                    duration: 3000,\r\n                    position: 'bottom',\r\n                    showCloseButton: true,\r\n                    closeButtonText: 'OK'\r\n                });\r\n                toast.present();                \r\n            }else{\r\n                this.setDropTimeFrom(this.sending.dropTimeFrom);\r\n            }\r\n        }\r\n        if(this.sending.dropTimeTo=='') {\r\n            // not set, set with from+2hr\r\n            let fromPlus = this.dateSrv.addMinutes(from, MIN_TIMEDIFF_MINUTES);\r\n            this.setDropTimeTo(fromPlus);\r\n        }else{\r\n            let diff = this.dateSrv.getDiff(this.sending.dropTimeFrom, this.sending.dropTimeTo);\r\n            if(diff<MIN_TIMEDIFF_MINUTES){\r\n                let fromPlus = this.dateSrv.addMinutes(from, MIN_TIMEDIFF_MINUTES);\r\n                this.setDropTimeTo(fromPlus);\r\n            }else{\r\n                this.setDropTimeTo(this.sending.dropTimeTo);\r\n            }\r\n        }        \r\n\r\n    }\r\n\r\n    private populateAddressInput(fullAddress:string) {\r\n        console.log('f2 > populateAddressInput > ', fullAddress);\r\n        this.dropAddressFullText.setValue(fullAddress);\r\n    }\r\n\r\n    private setPickupPersonData() {\r\n        console.log('f3 > populate dropContact with current user');\r\n        let name = `${this.account.profile.data.firstName} ${this.account.profile.data.lastName}`;\r\n        let phone = `${this.account.profile.data.phonePrefix} ${this.account.profile.data.phoneMobile}`;\r\n        let email = this.account.profile.data.email;        \r\n        this.dropPersonName.setValue(name);\r\n        this.dropPersonPhone.setValue(phone);\r\n        this.dropPersonEmail.setValue(email);\r\n    }\r\n\r\n    private resetAddressElements() {\r\n        console.info('f3 > resetAddressElements');\r\n        this.initMap();\r\n        this.populateAddressInput('');\r\n        this.dropAddressLine2.setValue('');\r\n        this.initPlaceDetails();\r\n        // reset all sending address related\r\n        this.sending.dropAddressSet = false;\r\n        this.sending.dropAddressIsComplete = false;\r\n        this.sending.dropAddressUserForcedValidation = false;\r\n        this.sending.dropAddressPlaceId = '';\r\n        this.sending.dropAddressLat = 0;\r\n        this.sending.dropAddressLng = 0;            \r\n        this.sending.dropAddressFullText = '';\r\n        this.sending.dropAddressStreetShort = '';\r\n        this.sending.dropAddressStreetLong = '';\r\n        this.sending.dropAddressNumber = '';\r\n        this.sending.dropAddressPostalCode = '';            \r\n        this.sending.dropAddressCityAreaShort = '';\r\n        this.sending.dropAddressCityAreaLong = '';\r\n        this.sending.dropAddressCityShort = '';\r\n        this.sending.dropAddressCityLong = '';\r\n        this.sending.dropAddressStateAreaShort = '';\r\n        this.sending.dropAddressStateAreaLong = '';        \r\n        this.sending.dropAddressStateShort = '';\r\n        this.sending.dropAddressStateLong = '';\r\n        this.sending.dropAddressCountry = '';         \r\n    } \r\n\r\n    /**\r\n     *  NAVIGATION\r\n     */\r\n\r\n    private goToNextStep() {\r\n        console.log('f3 > go to f4, include this.sending in params');\r\n        console.groupEnd();        \r\n        this.navCtrl.setRoot(SendingCreate4Page, {\r\n            sending: this.sending\r\n        });\r\n    }\r\n\r\n    private goBacktoStep2() {\r\n        console.log('f3 > go to f2, include this.sending in params');\r\n        console.groupEnd();        \r\n        this.navCtrl.setRoot(SendingCreate2Page, {\r\n            sending: this.sending\r\n        });\r\n    }\r\n\r\n    /**\r\n     * SUBMIT UPDATES\r\n     */\r\n\r\n    private updateAddressDetails():void {\r\n        console.info('f3 > updateSendingAddressPlaceDetails > save address values in this.sending');           \r\n        this.sending.dropAddressFullText = this.placeDetails.full_address;\r\n        this.sending.dropAddressSet = this.placeDetails.set;\r\n        this.sending.dropAddressIsComplete = this.placeDetails.complete;\r\n        this.sending.dropAddressUserForcedValidation = this.placeDetails.forced;\r\n        this.sending.dropAddressPlaceId = this.placeDetails.place_id;\r\n        this.sending.dropAddressLat = this.placeDetails.lat;\r\n        this.sending.dropAddressLng = this.placeDetails.lng;            \r\n        this.sending.dropAddressStreetShort = this.placeDetails.components.route.short;\r\n        this.sending.dropAddressStreetLong = this.placeDetails.components.route.long;\r\n        this.sending.dropAddressNumber = this.placeDetails.components.street_number.long;\r\n        this.sending.dropAddressPostalCode = this.placeDetails.components.postal_code.long + this.placeDetails.components.postal_code_suffix.long;            \r\n        this.sending.dropAddressCityAreaShort = this.placeDetails.components.sublocality_level_1.short;\r\n        this.sending.dropAddressCityAreaLong = this.placeDetails.components.sublocality_level_1.long;\r\n        this.sending.dropAddressCityShort = this.placeDetails.components.locality.short;\r\n        this.sending.dropAddressCityLong = this.placeDetails.components.locality.long;\r\n        this.sending.dropAddressStateAreaShort = this.placeDetails.components.administrative_area_level_2.short;\r\n        this.sending.dropAddressStateAreaLong = this.placeDetails.components.administrative_area_level_2.long;        \r\n        this.sending.dropAddressStateShort = this.placeDetails.components.administrative_area_level_1.short;\r\n        this.sending.dropAddressStateLong = this.placeDetails.components.administrative_area_level_1.long;\r\n        this.sending.dropAddressCountry = this.placeDetails.components.country.long;           \r\n        console.log('f3 > this.sending > ', this.sending);\r\n    }\r\n\r\n    private update() {\r\n        console.log('f3 > save form values in this.sending');\r\n        this.sending.dropAddressLine2 = this.dropAddressLine2.value;\r\n        this.sending.dropTimeFrom = this.dropTimeFrom.value;\r\n        this.sending.dropTimeTo = this.dropTimeTo.value;\r\n        this.sending.dropPersonName = this.dropPersonName.value;\r\n        this.sending.dropPersonPhone = this.dropPersonPhone.value;\r\n        this.sending.dropPersonEmail = this.dropPersonEmail.value;\r\n        console.log('f3 > this.sending > ', this.sending);\r\n    }\r\n\r\n    /**\r\n     *  GOOGLE MAPS HELPERS\r\n     */\r\n\r\n    private openAddressModal() {\r\n        // reset \r\n        this.resetAddressElements();          \r\n        if(!this.addressModal) {\r\n            // set\r\n            this.addressModal = this.modalCtrl.create(ModalSearchMapAddressPage, {\r\n                            'modalTitle': 'Dirección de Retiro'\r\n                        });                 \r\n            // open\r\n            this.addressModal.present();\r\n            // on close\r\n            this.addressModal.onDidDismiss(data => {\r\n                console.log('onDidDismiss() param ', data);\r\n                this.processAddressSearchResult(data);  \r\n                this.addressModal = null;\r\n            });\r\n        }else{\r\n            console.error('modal has been call twice, why?');\r\n        }\r\n    }\r\n\r\n    private initPlaceDetails() {\r\n        console.info('f3 > initPlaceDetails');\r\n        this.placeDetails = this.gmapsService.initPlaceDetails();\r\n    }\r\n\r\n    private processAddressSearchResult(item:any) {\r\n        console.info('f3 > processAddressSearchResult');\r\n        if(item){            \r\n            // get place details with place_id\r\n            this.setPlaceDetails(item.place_id);\r\n        }else{\r\n            // item is undefined, cant process\r\n            console.error('f2 > processAddressSearchResult > item selected in modal is undefined > ', item);\r\n        }    \r\n    }\r\n\r\n    private setPlaceDetails(place_id:string) {\r\n        console.info('f3 > setPlaceDetails > init');\r\n        this.gmapsService.getPlaceDetails(place_id, this.map)\r\n            .then((place) => {\r\n                let details = this.gmapsService.inspectPlaceDetails(place);\r\n                console.log('details extracted > ', details);\r\n                let isComplete:any = this.gmapsService.isPlaceAddressComplete(details);\r\n                console.log('isComplete', isComplete);\r\n                if(isComplete.passed) {\r\n                    let latlng = this.gmapsService.setlatLng(details.lat, details.lng);\r\n                    this.setMapCenter(latlng);\r\n                    this.addMapMarker(latlng); \r\n                    // populate0\r\n                    this.placeDetails = details;\r\n                    this.placeDetails.set = true;\r\n                    this.placeDetails.complete = true;\r\n                    this.populateAddressInput(details.full_address);\r\n                    // save\r\n                    this.updateAddressDetails();                           \r\n                }else{\r\n                     console.error('f3 > address incomplete ');\r\n                    // alert user\r\n                    let failedTxt = isComplete.failed.toString();\r\n                    let alert = this.alertCtrl.create({\r\n                        title: 'Dirección incompleta',\r\n                        subTitle: `Debe indicarse una dirección de retiro exacta,\r\n                                   que incluya nombre de calle, númeración y ciudad. \r\n                                   Vuelve a intentarlo. (Datos faltantes: ${failedTxt})`,\r\n                        buttons: ['Cerrar']\r\n                    });\r\n                    alert.present();                    \r\n                    this.placeDetails.set = false;\r\n                    this.placeDetails.complete = false;                    \r\n                }    \r\n            })\r\n            .catch((error) => {\r\n                console.error('f3 > setPlaceDetails > error > ', error);\r\n            });\r\n    }\r\n\r\n    private setMapCenter(latlng: any):void {\r\n        console.info('f3 > setMapCenter');\r\n        this.map.setCenter(latlng);\r\n        this.map.setZoom(15);       \r\n    }\r\n\r\n    private addMapMarker(latlng:any):void {\r\n        console.info('f3 > addMapMarker');\r\n        let marker = this.gmapsService.addMapMarker(latlng, this.map);\r\n        this.mapMarkers.push(marker);\r\n    } \r\n\r\n    private initMap() {\r\n        console.info('f3 > initMap');\r\n        let latlng = this.gmapsService.setlatLng(-34.603684, -58.381559);\r\n        let divMap = (<HTMLInputElement>document.getElementById('mapf3'));\r\n        this.map = this.gmapsService.initMap(latlng, divMap);\r\n    }    \r\n\r\n\r\n    /**\r\n     * AUX HELPERS\r\n     */\r\n\r\n    private setAccount() {\r\n        let obs = this.accountSrv.getObs(true);\r\n        this.accountSubs = obs.subscribe((snap) => {\r\n                                this.account = snap.val();\r\n                            }, err => {\r\n                                console.log('error', err);\r\n                            });\r\n    }    \r\n\r\n    private getSendingFromParams() {\r\n        console.log('f3 > get navParams > this.sending');\r\n        console.log('f3 > param > ', this.navParams.get('sending'));\r\n        this.sending = this.navParams.get('sending');\r\n    }\r\n\r\n    private showTimeRangeToast(input:string, newTime:string) {\r\n        let toast = this.toastCtrl.create({\r\n            message: 'Indica al menos 2 hs de margen horario, se ajustó \"' + input + '\" a \"' + newTime + '\"',\r\n            duration: 6000,\r\n            position: 'bottom',\r\n            showCloseButton: true,\r\n            closeButtonText: 'OK'\r\n        });\r\n        toast.present();    \r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sending-create-3/sending-create-3.ts","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\r\n\r\nimport { GoogleMapsService } from '../../providers/google-maps-service/google-maps-service';\r\n\r\n\r\n@Component({\r\n    selector: 'page-modal-search-map-address',\r\n    templateUrl: 'modal-search-map-address.html'\r\n})\r\nexport class ModalSearchMapAddressPage implements OnInit{\r\n\r\n    modalTitle:string = '';\r\n    autocompleteItems: any;\r\n    autocomplete: any;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public params:NavParams,\r\n        public viewCtrl:ViewController,\r\n        public alertCtrl: AlertController,\r\n        public gmapsSrv: GoogleMapsService) { \r\n    }\r\n\r\n    ngOnInit() {\r\n        this.modalTitle = this.params.get('modalTitle');\r\n        this.autocompleteItems = [];\r\n        this.autocomplete = {\r\n            query: ''\r\n        };        \r\n    }\r\n\r\n    \r\n    dismiss() {\r\n        console.log('modal > dismiss');\r\n        this.viewCtrl.dismiss();\r\n    }\r\n\r\n    selectItem(item: any) {\r\n        console.info('modal > selectItem');\r\n        console.log('modal > chooseItem > item > ', item);\r\n        // check item has a place_id\r\n        let place_id = item.place_id ? item.place_id : false;\r\n        if(place_id) {\r\n            console.log('modal > chooseItem > place_id ok > ', place_id);\r\n            this.viewCtrl.dismiss(item);\r\n        }else{\r\n            console.error('modal > chooseItem > place_id false > ', item.place_id);\r\n            let alert = this.alertCtrl.create({\r\n                title: 'Error',\r\n                subTitle: 'Ocurrió un error con el item seleccionado, por favor vuelve a intentarlo.',\r\n                buttons: ['Cerrar']\r\n            });\r\n            alert.present();            \r\n        }\r\n\r\n    }\r\n\r\n    updateSearch() {\r\n        console.info('modal > updateSearch');        \r\n        if (this.autocomplete.query == '') {\r\n            this.autocompleteItems = [];\r\n            return;\r\n        }\r\n        let self = this;\r\n        this.gmapsSrv.getPlacePredictions(this.autocomplete.query)\r\n            .then((predictions) => {\r\n                console.log('modal > updateSearch > predictions count > ', predictions.length);\r\n                self.autocompleteItems = [];\r\n                if(predictions && predictions.length > 0) {            \r\n                    predictions.forEach(function (prediction) {              \r\n                        self.autocompleteItems.push(prediction);\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log('modal > updateSearch > error > ', error);\r\n            });\r\n    }\r\n\r\n    showAlertHelp() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Ayuda',\r\n            subTitle: 'A medida que escribas la dirección en el campo de búsqueda, se listaran coincidencias mas abajo, cuando encuentres la dirección correspondiente, seleccionala. En general es suficiente con escribir la calle, numeración y localidad. Ejemplo: Av Corrientes 555, Buenos Aires',\r\n            buttons: ['Cerrar']\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-search-map-address/modal-search-map-address.ts","import { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport { AuthService } from '../auth-service/auth-service';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ShipmentsService {\r\n\r\n    constructor(private authSrv:AuthService,\r\n        private afDb: AngularFireDatabase) {\r\n    }\r\n\r\n    getAllActiveObs(snapshot: boolean = false): FirebaseListObservable<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        return this.afDb.list(`userShipments/${accountId}/active`, { preserveSnapshot: snapshot });\r\n    }\r\n\r\n    getObs(shipmentId:string, snapshot:boolean = true): FirebaseObjectObservable<any> {\r\n        return this.afDb.object(`shipments/${shipmentId}`, {\r\n            preserveSnapshot: snapshot,\r\n        });          \r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/shipments-service/shipments-service.ts","import { Subscription } from 'rxjs/Rx';\r\nimport { SendingRequestLiveSummary } from '../../models/sending-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AlertController, LoadingController, NavController, ViewController } from 'ionic-angular';\r\nimport { ShipmentsPage } from '../shipments/shipments';\r\nimport { ShipmentCreate2Page } from '../shipment-create-2/shipment-create-2';\r\nimport { SendingService } from '../../providers/sending-service/sending-service';\r\nimport {\r\n    GMAP_CFG,\r\n    GoogleMapsService,\r\n    MapsMapOptions,\r\n    MapsMapPolylineOptions\r\n} from '../../providers/google-maps-service/google-maps-service';\r\nimport { DateService } from '../../providers/date-service/date-service';\r\n\r\n@Component({\r\n    selector: 'page-shipment-create',\r\n    templateUrl: 'shipment-create.html',\r\n})\r\nexport class ShipmentCreatePage implements OnInit {\r\n\r\n    vacants;\r\n    vacantSubs:Subscription;\r\n    // map\r\n    map: any;\r\n    mapMarkers = {\r\n        list:[],\r\n        selected:''\r\n    };\r\n    routeLine: any;\r\n    checkeredMarker: any;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public gmapsService: GoogleMapsService,\r\n        public dateSrv: DateService,\r\n        public sendingSrv:SendingService,\r\n        public alertCtrl: AlertController,\r\n        public loaderCtrl: LoadingController,\r\n        public viewCtrl: ViewController) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.initMap();         \r\n    }\r\n\r\n    ionViewWillEnter() {      \r\n        this.getVacants(); \r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        if(this.vacantSubs) {\r\n            this.vacantSubs.unsubscribe();\r\n        }\r\n        this.vacants = null;\r\n    }\r\n\r\n    select(sendingVacantId:string, sendingVacantData:any) {\r\n        // init loader\r\n        let loader = this.loaderCtrl.create({\r\n            content: 'verificando disponibilidad ...'\r\n        });\r\n        loader.present();\r\n        // process attempt\r\n        this.sendingSrv.attemptToLockVacant(sendingVacantId)\r\n            .then((result) => {\r\n                console.log('attempt result > ', result);\r\n                if(result.didLock===true) {\r\n                    loader.dismiss()\r\n                        .then(() => {\r\n                            this.goToConfirm(sendingVacantId, sendingVacantData);\r\n                        });\r\n                }else if(result.isTaken===true) {\r\n                    let title = 'Servicio tomado';\r\n                    let message = `El servicio ya ha sido tomado y esta siendo procesado. Por favor selecciona otro servicio.`;\r\n                    loader.dismiss()\r\n                        .then(() => {\r\n                            this.showAlertAndCancel(title, message);\r\n                        });                    \r\n                }else if(result.didLock===false) {\r\n                    let timeLeft = Math.round(result.lockTimeLeft);\r\n                    let title = 'No disponible';\r\n                    let message = `El servicio esta siendo visualizado por otro operador en este preciso momento. \r\n                                    Si el otro operador no lo confirma podras volver a intentarlo en ${timeLeft} segundos`;\r\n                    loader.dismiss()\r\n                        .then(() => {\r\n                            this.showAlertAndCancel(title, message);\r\n                        });                    \r\n                }\r\n            })\r\n            .catch((result)=> {\r\n                console.log('attempt error > ', result);\r\n                let title = 'Error';\r\n                let message = 'Ocurrió un error al intentar seleccionar el servicio, por favor vuelve a intentarlo';\r\n                loader.dismiss()\r\n                    .then(() => {\r\n                        this.showAlertAndCancel(title, message);\r\n                    });\r\n            });      \r\n\r\n    }\r\n\r\n    goBack() {\r\n        this.navCtrl.setRoot(ShipmentsPage);\r\n    }\r\n\r\n    selectedToggle(vacant:any) {\r\n        // toggle: if already selected, de-selelect\r\n        if(this.mapMarkers.selected !== vacant.key) {\r\n            let sendingId = vacant.key;\r\n            let live:SendingRequestLiveSummary = vacant.data;\r\n            let pickupLatLng = this.gmapsService.setlatLng(live.pickupAddressLat, live.pickupAddressLng);\r\n            let dropLatLng = this.gmapsService.setlatLng(live.dropAddressLat, live.dropAddressLng);            \r\n            // center map and zoom\r\n            this.map.panTo({\r\n                lat: live.pickupAddressLat,\r\n                lng: live.pickupAddressLng\r\n            })\r\n            // position map to show complete polyline\r\n            let bounds = this.gmapsService.initLatLngBounds();\r\n            bounds.extend(pickupLatLng);\r\n            bounds.extend(dropLatLng);\r\n            this.map.fitBounds(bounds);\r\n            //this.map.setZoom(12);\r\n            // set current marker selected\r\n            this.setMarkerSelected(sendingId);\r\n            this.addMapMarkerCheckered(dropLatLng);\r\n            // draw polyline\r\n            let coordinates = [pickupLatLng, dropLatLng];\r\n            let routeLineCfg: MapsMapPolylineOptions = {\r\n                path: coordinates,\r\n                geodesic: true,\r\n                strokeColor: 'red',\r\n                strokeOpacity: 0.8,\r\n                strokeWeight: 3\r\n            };\r\n            this.routeLine = this.gmapsService.initPolyline(routeLineCfg);\r\n            this.routeLine.setMap(this.map); \r\n        }else{\r\n            this.resetSelected();\r\n            this.resetMapCenter();\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  GET\r\n     */\r\n\r\n    private getVacants() {\r\n        let obs = this.sendingSrv.getLiveVacantObs(true);\r\n        this.vacantSubs = obs.subscribe(snaps => {\r\n            this.vacants = [];\r\n            if(snaps) {\r\n                snaps.forEach(snap => {\r\n                    let key = snap.key;\r\n                    let value = snap.val();\r\n                    //console.log('vacants', key, value);\r\n                    let item = {\r\n                        key: key,\r\n                        data: value\r\n                    }\r\n                    this.vacants.push(item);\r\n                    //add markers to map\r\n                    let latlng = {\r\n                        lat: value.pickupAddressLat,\r\n                        lng: value.pickupAddressLng,\r\n                    }\r\n                    this.addMapMarker(latlng, key);                    \r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private goToConfirm(sendingId:string, sendingData:any) {\r\n        this.navCtrl.setRoot(ShipmentCreate2Page, {\r\n            sendingId: sendingId,\r\n            sending: sendingData\r\n        });        \r\n    }\r\n\r\n    /**\r\n     *  MAP\r\n     */\r\n\r\n    private setMarkerSelected(key) {\r\n        this.resetSelected();\r\n        this.mapMarkers.selected = key;\r\n        this.mapMarkers.list[key].setIcon(GMAP_CFG.ICONS.SELECTED);\r\n    }\r\n\r\n    private resetSelected() {\r\n        if(this.mapMarkers.selected!=='') {\r\n            this.mapMarkers.list[this.mapMarkers.selected].setIcon(GMAP_CFG.ICONS.DEFAULT);\r\n            this.mapMarkers.selected = '';\r\n            this.routeLine.setMap(null);\r\n            this.removeMapMarkerCheckered();\r\n        }        \r\n    }\r\n\r\n    private removeMapMarkerCheckered() {\r\n        this.checkeredMarker.setMap(null);\r\n    }\r\n\r\n    private addMapMarkerCheckered(latLng:any):void {\r\n        this.checkeredMarker = this.gmapsService.addMapMarker(latLng, this.map, GMAP_CFG.ICONS.CHECKERED);\r\n    }\r\n\r\n    private addMapMarker(latlng:any, key:string):void {\r\n        console.info('addMapMarker');\r\n        let marker = this.gmapsService.addMapMarker(latlng, this.map);\r\n        this.mapMarkers.list[key] = marker;\r\n    }  \r\n\r\n    private getMapDefaultSettings():MapDefaultSettings{\r\n        let settings:MapDefaultSettings = {\r\n            latlng: this.gmapsService.setlatLng(GMAP_CFG.POINTS.CABA.LAT, GMAP_CFG.POINTS.CABA.LNG),\r\n            zoom: 11                \r\n        }\r\n        return settings;\r\n    }\r\n\r\n    private resetMapCenter():void {\r\n        let settings = this.getMapDefaultSettings();\r\n        this.map.setCenter(settings.latlng);\r\n        this.map.setZoom(settings.zoom);\r\n    }\r\n\r\n    private initMap() {\r\n        console.info('initMap');\r\n        let settings = this.getMapDefaultSettings()\r\n        let latlng = settings.latlng;\r\n        let divMap = (<HTMLInputElement>document.getElementById('maps1'));\r\n        let options:MapsMapOptions = {\r\n            zoom: 11,\r\n            maxZoom: 16, \r\n            minZoom: 8,\r\n            draggable:true\r\n        }\r\n        // init map\r\n        this.map = this.gmapsService.initMap(latlng, divMap, options);\r\n    }\r\n\r\n    /**\r\n     *  HELPERS\r\n     */\r\n\r\n    private showAlertAndCancel(title:string, message:string):void {\r\n        let alert = this.alertCtrl.create({\r\n            title: title,\r\n            message: message,\r\n            buttons: ['Cerrar']\r\n        });\r\n        alert.present();\r\n    }  \r\n\r\n}\r\n\r\nexport class MapDefaultSettings {\r\n    latlng:any;\r\n    zoom: number;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shipment-create/shipment-create.ts","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\r\n\r\n\r\n@Injectable()\r\nexport class ConfigService {\r\n\r\n    constructor(public afDb: AngularFireDatabase) {}\r\n\r\n    // get Terms Of Service\r\n    getCurrentToS(): FirebaseObjectObservable<any> {\r\n        return this.afDb.object(`config/tos/current`, { preserveSnapshot: true });        \r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/config-service/config-service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 258;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 258\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 301;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 301\n// module chunks = 0","import { Observable } from 'rxjs/Rx';\r\nimport { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n\r\n    fbuser: firebase.User;\r\n\r\n    constructor(public afAuth: AngularFireAuth) {\r\n        this.subscribeState();\r\n    }    \r\n\r\n    subscribeState() {\r\n        // subscribe to user change\r\n        this.firebaseAuthObservable().subscribe( user => {\r\n            if(user) {\r\n                this.setFbuser();\r\n            }\r\n        });\r\n    }\r\n\r\n    reload() {\r\n        this.fbuser.reload()\r\n            .then(() => {\r\n                this.setFbuser();\r\n            });\r\n    }\r\n\r\n    updateEmail(newEmail: string): firebase.Promise<any>  {\r\n        return this.fbuser.updateEmail(newEmail);\r\n    }\r\n\r\n    private setFbuser() {\r\n        this.fbuser = this.afAuth.auth.currentUser;\r\n    }\r\n\r\n    /**\r\n     *  Firebase Authentication\r\n     */    \r\n\r\n    // AuthState Observable\r\n    // SHARED: http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-share\r\n    firebaseAuthObservable(): Observable<firebase.User> {\r\n        return this.afAuth.authState.share();\r\n    }\r\n\r\n    /**\r\n     *  CREATE\r\n     */\r\n\r\n    createUserWithEmailAndPassword(email: string, password: string): firebase.Promise<any> {\r\n        return firebase.auth().createUserWithEmailAndPassword(email, password);\r\n    }\r\n\r\n\r\n    /**\r\n     *  SIGNIN/OUT\r\n     */\r\n\r\n    // signin firebase user with email and password\r\n    signInWithEmailAndPassword(email: string, password: string): firebase.Promise<any> {\r\n        return firebase.auth().signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    // Signout firebase user\r\n    // AUTH STATE CHANGE WATCHER will send user to start page\r\n    signOut() {\r\n        firebase.auth().signOut();\r\n        this.fbuser = null;\r\n    }\r\n\r\n    // Sends a password reset email to the given email address.\r\n    sendPasswordResetEmail(email: string): firebase.Promise<any> {\r\n        return firebase.auth().sendPasswordResetEmail(email);\r\n    }\r\n    \r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-service/auth-service.ts","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport firebase from 'firebase';\r\nimport { AccountEmailVerificationService } from '../account-email-verification-service/account-email-verification-service';\r\nimport { AuthService } from '../auth-service/auth-service';\r\nimport { UserAccount, UserAccountSettings, UserProfileData } from '../../models/user-model';\r\n\r\n@Injectable()\r\nexport class AccountService {\r\n\r\n    constructor(public afDb: AngularFireDatabase,\r\n        private authSrv: AuthService,\r\n        private emailVerification: AccountEmailVerificationService) {}\r\n    \r\n    /**\r\n     *  GET\r\n     */\r\n\r\n    // get account Observable\r\n    getObs(snapshot:boolean = false): FirebaseObjectObservable<any> {\r\n        // console.log('uid', this.authSrv.fbuser);\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        return this.afDb.object(`userAccount/${accountId}`, { preserveSnapshot: snapshot });\r\n    }  \r\n\r\n\r\n    /**\r\n     *  UPDATE\r\n     */\r\n\r\n    updatePhoto(downloadURL:string, fullPath:string):firebase.Promise<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        let updates = {};\r\n        updates[`userAccount/${accountId}/profile/data/photoURL`] = downloadURL;\r\n        updates[`userAccount/${accountId}/profile/data/photoPath`] = fullPath;\r\n        return firebase.database().ref().update(updates);\r\n    }\r\n\r\n    updateProfileData(profileData: UserProfileData): firebase.Promise<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        let updates = {};\r\n        updates[`userAccount/${accountId}/profile/data`] = profileData;\r\n        return firebase.database().ref().update(updates);\r\n    }\r\n\r\n    updateSettings(settings: UserAccountSettings): firebase.Promise<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        let updates = {};\r\n        updates[`userAccount/${accountId}/settings`] = settings;\r\n        return firebase.database().ref().update(updates);\r\n    }\r\n\r\n    /**\r\n     *  CLOSE ACCOUNT\r\n     */    \r\n\r\n    terminateAccount(): firebase.Promise<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        let updates = {};\r\n        // update user\r\n        updates[`userAccount/${accountId}/terminatedAt`] = firebase.database.ServerValue.TIMESTAMP;\r\n        updates[`userAccount/${accountId}/active`] = false;\r\n        // set userTask\r\n        let tKey = firebase.database().ref(`userTask`).push().key;\r\n        let userTask = {\r\n            origin: 'app',\r\n            task: 'terminate_account',\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            userId: accountId\r\n        };\r\n        updates[`taskUser/${tKey}`] = userTask;        \r\n        return firebase.database().ref().update(updates);        \r\n    }\r\n\r\n\r\n    /**\r\n     *  ACCOUNT SIMPLE CHECKERS\r\n     */\r\n\r\n    exist(): Promise<{getId:boolean, exist:boolean}> {\r\n        let result = {\r\n            getId: false,\r\n            exist: false,\r\n        }\r\n        // get user id or die\r\n        let accountId = this.authSrv.fbuser ? this.authSrv.fbuser.uid : null;\r\n        if(!accountId) {\r\n            // die\r\n            return Promise.resolve(result);\r\n        }\r\n        result.getId = true;\r\n        // get account\r\n        return new Promise((resolve, reject) => {\r\n            firebase.database().ref(`userAccount/${accountId}`).once('value')\r\n                .then(snap => {\r\n                    console.log('account', snap.val());\r\n                    result.exist = snap.val() ? true : false;\r\n                    resolve(result);\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                    resolve(result);\r\n                });\r\n        });  \r\n    }\r\n\r\n    // is Account Active\r\n    isActive(account:UserAccount):boolean {\r\n        return account.active;\r\n    }\r\n    // is Account Basic Profile Complete\r\n    isBasicProfileComplete(account: UserAccount):boolean {\r\n        return account.profile.status.basic.fieldsComplete;\r\n    }\r\n    // is Account Basic Profile Verified\r\n    isBasicProfileVerified(account: UserAccount):boolean {\r\n        return account.profile.status.basic.verificationsComplete;\r\n    }    \r\n\r\n\r\n    /**\r\n     *  EMAIL\r\n     */\r\n\r\n    // trigger email verification process\r\n    resendEmailVerification(): firebase.Promise<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        return this.emailVerification.resend(accountId);\r\n    }\r\n\r\n    /**\r\n     * Update user email, steps:\r\n     * 1 update auth user email\r\n     * 2 update account:\r\n     *    - email and set onChange\r\n     *    - set validation false\r\n     * 3 trigger CF\r\n     */\r\n    changeEmail(newEmail: string): Promise<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        return new Promise((resolve, reject) => {\r\n            this.authSrv.updateEmail(newEmail)\r\n                .then(() => {\r\n                    console.log('auth updateEmail success');\r\n                    let updates = {};\r\n                    // update account verifications\r\n                    updates[`userAccount/${accountId}/profile/verifications/email/verified`] = false;\r\n                    updates[`userAccount/${accountId}/profile/verifications/email/verifiedAddress`] = '';\r\n                    updates[`userAccount/${accountId}/profile/verifications/email/verifiedTimestamp`] = '';                    \r\n                    // update account data email\r\n                    updates[`userAccount/${accountId}/profile/data/email`] = newEmail;\r\n                    updates[`userAccount/${accountId}/profile/data/emailOnChange`] = true;\r\n                    return firebase.database().ref().update(updates);\r\n                })\r\n                .then(() => {\r\n                    console.log('CF_Trigger: send email verification');\r\n                    return this.resendEmailVerification();\r\n                })\r\n                .then(() => {\r\n                    resolve();                    \r\n                })\r\n                .catch((error:any) => {\r\n                    console.log('auth updateEmail error', error.code);\r\n                    reject(error.code);\r\n                });\r\n        });\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/account-service/account-service.ts","import { Injectable } from '@angular/core';\r\nimport * as moment from 'moment';\r\n\r\nconst defaultUTCzone = '-0300';  // Argentina\r\n\r\n@Injectable()\r\nexport class DateService {\r\n\r\n    constructor() {\r\n        moment.locale('es');\r\n    }\r\n\r\n    getTimeDiff(from:any, to:any) {\r\n        // console.info('getTimeDiff()');\r\n        let diff:number;\r\n        // console.log('t1/t2', from, to);\r\n        diff = to.diff(from, \"minutes\");      \r\n        // console.log('diff: ', diff, ' minutes');        \r\n        return diff;\r\n    }\r\n\r\n    getDiff(from:any, to:any) {\r\n        let a = moment(to);\r\n        let b = moment(from);\r\n        // diff is greater diff smaller\r\n        return a.diff(b, 'minutes');\r\n    }\r\n\r\n    // set moment from string format > HH:mm\r\n    setTimeMoment(timeString:string): any{\r\n        // console.info('setTimeMoment');\r\n        let timeArray:Array<any> = timeString.split(\":\");\r\n        // console.log('timeArray > ', timeArray);\r\n        let time = moment()\r\n                    .hour(timeArray[0])\r\n                    .minute(timeArray[1])\r\n                    .seconds(0);                                             \r\n        return time;                      \r\n    }\r\n\r\n    setTimeToDate(date:string, hour:number, minute:number) {\r\n        return moment(date).hour(hour).minute(minute).format();\r\n    }\r\n\r\n\r\n    getTimestamp():any {\r\n        return moment();\r\n    }\r\n\r\n    // outputs the number of milliseconds since the Unix Epoch\r\n    getUnixTimestamp():any {\r\n        return moment().valueOf();\r\n    }    \r\n\r\n    getIsoString(utcOffset:string = defaultUTCzone) {\r\n        return moment().utcOffset(utcOffset).format();\r\n    }\r\n\r\n    /**\r\n     *  HELPERS\r\n     */\r\n\r\n    // transform a timestamp to date\r\n    transformTimestampToHuman(timestamp:string, utcOffset:string = defaultUTCzone):string {\r\n        //console.info('transformTimestampToHuman');\r\n        moment(timestamp);\r\n        let human = moment().utcOffset(utcOffset).format('DD/MM/YYYY HH:mm');\r\n        return human;\r\n    }\r\n\r\n    // display moment string in a specific format\r\n    // ref: https://momentjs.com/docs/#/displaying/format/\r\n    displayFormat(momentString:string, format:string = 'DD/MM/YYYY') {\r\n        return moment(momentString).format(format);\r\n    }\r\n\r\n\r\n    // momentInput: timestamp, ISO8601 string date\r\n    getHourNum(date:any): number {\r\n        return moment(date).get('hour');\r\n    }    \r\n    getMinuteNum(date:any): number {\r\n        return moment(date).minutes();\r\n    }        \r\n    getMonthStr(momentInput:any):string{\r\n        let day = moment(momentInput);\r\n        return day.format('MM').toString();\r\n    }\r\n    getMonthNum(momentInput:any):number{\r\n        let day = moment(momentInput);\r\n        return day.month();\r\n    }    \r\n    getYearStr(momentInput:any):string{\r\n        let day = moment(momentInput);\r\n        return day.format('YYYY').toString();\r\n    }\r\n    getYearNum(momentInput:any):number{\r\n        let day = moment(momentInput);\r\n        return day.year();\r\n    }        \r\n    getTimeFromDate(date:any) {\r\n        return moment(date).format('HH:mm');\r\n    }\r\n\r\n    addTsYears(timestamp:number, years:number):number {\r\n        let date = moment(timestamp);\r\n        return date.add(years, 'y').valueOf();\r\n    }\r\n\r\n    addDays(date:string, days:number)  {\r\n        return moment(date).add(days, 'days').format();\r\n    }\r\n\r\n    addHours(date:string, hours:number)  {\r\n        return moment(date).add(hours, 'hours').format();\r\n    } \r\n\r\n    addMinutes(date:string, minutes:number)  {\r\n        return moment(date).add(minutes, 'minutes').format();\r\n    }    \r\n\r\n    subtractMinutes(date:string, minutes:number)  {\r\n        return moment(date).subtract(minutes, 'minutes').format();\r\n    }            \r\n\r\n    //  ISO 8601 datetime format standard\r\n    readISO8601FromTimestamp(timestamp:number):string {\r\n        let day = moment(timestamp);\r\n        return day.format('YYYY-MM-DD')\r\n    }        \r\n\r\n    isDateToday(date:any): boolean {\r\n        let isToday:boolean;\r\n        let today = moment().date();\r\n        if(moment(date).date()==today) {\r\n            isToday = true;\r\n        }else{\r\n            isToday = false;\r\n        }\r\n        // console.log('isDateToday', date, today, isToday);\r\n        return isToday;\r\n    }\r\n\r\n    isBeforeThan(date:any, compareWith:any): boolean {\r\n        return moment(date).isBefore(compareWith);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport const DATE_DEFAULTS = {\r\n    PICKUP_TIME_FROM: {\r\n        txt: '09:00',\r\n        hour: 9,\r\n        minute: 0\r\n    },\r\n    PICKUP_TIME_TO: {\r\n        txt: '12:00',\r\n        hour: 12,\r\n        minute: 0\r\n    },\r\n    DROP_TIME_FROM: {\r\n        txt: '13:00',\r\n        hour: 13,\r\n        minute: 0\r\n    },\r\n    DROP_TIME_TO: {\r\n        txt: '17:00',\r\n        hour: 17,\r\n        minute: 0\r\n    },  \r\n    PICKUP_DIFF_DAYS: 5,\r\n    PICKUP_DROP_MIN_DIFF_IN_MINUTES: 120,  \r\n}\r\n\r\nexport const DATES_NAMES = {\r\n    monthNames: {\r\n        'es': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre']\r\n    },\r\n    monthShortNames: { \r\n        'es': ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\r\n    },\r\n    dayNames: {\r\n        'es': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\r\n    },\r\n    dayShortNames: {\r\n        'es': ['dom', 'lun', 'mar', 'mie', 'jue', 'vie', 'sab'],\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/date-service/date-service.ts","import { Injectable } from '@angular/core';\r\nimport firebase from 'firebase';\r\n\r\n\r\n@Injectable()\r\nexport class AccountEmailVerificationService {\r\n\r\n    dbRef = firebase.database().ref();\r\n\r\n    constructor() {}\r\n\r\n    // resend email verification\r\n    // writes to list in DB \r\n    // Trigger CF that runs the email sending\r\n    resend(userId:string): firebase.Promise<any> {\r\n        console.info('emailVerification:resend');\r\n        let timestamp = firebase.database.ServerValue.TIMESTAMP;\r\n        let key = this.dbRef.child('userVerifyEmailResend').push().key;\r\n        let data = {\r\n            userId: userId,\r\n            timestamp: timestamp \r\n        }\r\n        let updates = {};\r\n        // push to list, to trigger CF\r\n        updates[`userVerifyEmailResend/${key}`] = data;\r\n        return this.dbRef.update(updates);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/account-email-verification-service/account-email-verification-service.ts","import { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { HomePage } from '../home/home';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, AlertController, ModalController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators, AbstractControl } from '@angular/forms';\r\nimport { EmailValidator } from '../../validators/email.validator';\r\nimport { ModalAuthResetPasswordPage } from '../modal-auth-reset-password/modal-auth-reset-password';\r\n\r\n@Component({\r\n    selector: 'page-login',\r\n    templateUrl: 'login.html'\r\n})\r\nexport class LoginPage {\r\n\r\n    signinForm: FormGroup;\r\n    email: AbstractControl;\r\n    password: AbstractControl;\r\n    loader:any;\r\n\r\n    constructor(private navCtrl: NavController,\r\n        private formBuilder: FormBuilder,\r\n        private loadingCtrl: LoadingController,\r\n        private alertCtrl: AlertController,\r\n        private modalCtrl: ModalController,\r\n        private authSrv: AuthService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.signinForm = this.formBuilder.group({\r\n            'email':  ['', Validators.compose([Validators.required, EmailValidator.isValid])],\r\n            'password': ['', Validators.compose([Validators.required, Validators.minLength(6)])]\r\n        });\r\n        this.email = this.signinForm.controls['email'];\r\n        this.password = this.signinForm.controls['password'];\r\n    }\r\n\r\n    /**\r\n     * Signup Form Submit\r\n     */\r\n    login(form: any):void {\r\n        if(!this.signinForm.valid) {\r\n            console.log('login, form invalid');\r\n        }else{\r\n            // loader\r\n            this.loader = this.loadingCtrl.create({\r\n                content: 'Iniciando sesión ...'\r\n            });\r\n            this.loader.present();  \r\n            // signin\r\n            this.authSrv.signInWithEmailAndPassword(form.email, form.password)\r\n                .then((user) => {\r\n                    console.log('login success');\r\n                    // close loader\r\n                    this.loader.dismiss()\r\n                        .then(() => {\r\n                            this.navCtrl.setRoot(HomePage);\r\n                        })\r\n                        .catch((error) => console.log('error', error)); \r\n                })\r\n                .catch((error:any) => {\r\n                    console.log('login error', error);\r\n                    this.loader.dismiss()\r\n                        .then(() => {\r\n                            this.presentErrorAlert(error);\r\n                        })\r\n                        .catch((error) => console.log('error', error)); \r\n                });\r\n        }\r\n    }\r\n\r\n    presentModalPasswordReset() {\r\n        let modal = this.modalCtrl.create(ModalAuthResetPasswordPage);\r\n        modal.present();\r\n    }\r\n\r\n    /**\r\n     *  PRIVATE METHODS\r\n     */\r\n    \r\n    // error:{code:string, message:string}\r\n    private presentErrorAlert(error:any):void {\r\n        // set strings\r\n        var msg: string;\r\n        var context: string;\r\n        switch(error.code){\r\n            case 'auth/account-exists-with-different-credential':\r\n                context = 'Atención';\r\n                msg = 'Prueba ingresar con tu cuenta de Google o Facebook.';\r\n                break;\r\n            case 'auth/invalid-credential':\r\n                context = 'Error';\r\n                msg = 'Esta cuenta tiene las credenciales inválidas o vencidas.';\r\n                break;\r\n            case 'auth/operation-not-allowed':\r\n                context = 'Error';\r\n                msg = 'Esta operación no es válida';\r\n                break;\r\n            case 'auth/user-disabled':\r\n                context = 'Cuenta inhabilitada';\r\n                msg = 'Esta cuenta se encuentra inhabilitada';\r\n                break;\r\n            case 'auth/user-not-found':\r\n            case 'auth/wrong-password':\r\n                context = 'Datos incorrectos';\r\n                msg = 'La combinación de dirección de correo y contraseña no coincide con ninguna cuenta, vuelve a intentarlo';\r\n                break;\r\n            default:\r\n                context = 'Error';\r\n                msg = 'Un error inesperado ha ocurrido, vuelve a intentarlo';\r\n        }\r\n        // create alert\r\n        let alertError = this.alertCtrl.create({\r\n            title: context,\r\n            subTitle: msg,\r\n            buttons: [{\r\n                text: 'Cerrar',\r\n                role: 'cancel'\r\n            }]\r\n        });\r\n        // show\r\n        alertError.present();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, ViewController, AlertController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators, AbstractControl } from '@angular/forms';\r\n\r\nimport { EmailValidator } from '../../validators/email.validator';\r\n\r\n@Component({\r\n    selector: 'modal-auth-reset-password',\r\n    templateUrl: 'modal-auth-reset-password.html'\r\n})\r\nexport class ModalAuthResetPasswordPage implements OnInit{\r\n\r\n    editForm: FormGroup;\r\n    email: AbstractControl;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public viewCtrl: ViewController,\r\n        public formBuilder: FormBuilder,\r\n        public alertCtrl: AlertController,\r\n        public authSrv: AuthService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        // form init\r\n        this.editForm = this.formBuilder.group({\r\n            'email':  ['', Validators.compose([Validators.required, EmailValidator.isValid, Validators.maxLength(100)])],\r\n        });\r\n        this.email = this.editForm.controls['email'];\r\n    }\r\n\r\n    dismiss() {\r\n        this.viewCtrl.dismiss();\r\n    }\r\n\r\n    submit(formValue: any) {\r\n        console.log('reset password > ' + formValue.email + ' > init ...');\r\n        this.authSrv.sendPasswordResetEmail(formValue.email)\r\n            .then(() => {\r\n                console.log('password reset > ok');\r\n                let alert = this.alertCtrl.create({\r\n                    title: 'Reseteo de clave iniciado',\r\n                    message: 'Te hemos enviado un email con los pasos para resetear la clave, por favor revisa tu correo.',\r\n                    buttons: [\r\n                        {\r\n                            text: 'Cerrar',\r\n                            role: 'cancel',\r\n                            handler: () => {\r\n                                this.dismiss();\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                alert.present();\r\n            })\r\n            .catch((error:any) => {\r\n                console.log('reset password error > ', error);\r\n                this.editForm.get('email').setValue('');\r\n                this.showAlert(error);\r\n            });\r\n    }\r\n\r\n\r\n    /**\r\n     *  PRIVATE\r\n     */\r\n\r\n    private showAlert(error:any): void {\r\n        // init\r\n        let title: string;\r\n        let msg: string;\r\n        // switch\r\n        switch(error.code) {\r\n\r\n            case 'auth/invalid-email':\r\n                title = 'Dirección inválida';\r\n                msg = 'La dirección de correo es inválida, ingrese una dirección de correo válida y vuelva a intentar.';\r\n                this.presentAlert(title, msg);\r\n                break;\r\n\r\n            case 'auth/user-not-found':\r\n                title = 'Solicitud recibida';\r\n                msg = 'Si la dirección ingresada corresponde a un usuario registrado, se enviará un correo con los datos para la recuperación de contraseña.';\r\n                this.presentAlert(title, msg);\r\n                break;\r\n\r\n            default:\r\n                title = 'Error';\r\n                msg = 'Ocurrió un error inesperado, vuelve a intentarlo.';\r\n                this.presentAlert(title, msg);\r\n        }\r\n    }\r\n\r\n    private presentAlert(title, msg) {\r\n        let alert = this.alertCtrl.create({\r\n            title: title,\r\n            subTitle: msg,\r\n            buttons: ['Cerrar']\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-auth-reset-password/modal-auth-reset-password.ts","import { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController, AlertController  } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { EmailValidator } from '../../validators/email.validator';\r\n\r\n@Component({\r\n    selector: 'page-signup',\r\n    templateUrl: 'signup.html'\r\n})\r\nexport class SignupPage implements OnInit {\r\n\r\n    form: FormGroup;\r\n    showErrors:boolean;\r\n    loader:any;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public formBuilder: FormBuilder,\r\n        public loadingCtrl: LoadingController,\r\n        public toastCtrl: ToastController,\r\n        public alertCtrl: AlertController,\r\n        public authSrv: AuthService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.showErrors =  false;\r\n        this.form = this.formBuilder.group({\r\n            'email':  ['', [Validators.required, EmailValidator.isValid]],\r\n            'password': ['', [Validators.required, Validators.minLength(6)]]\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Signup Form Submit\r\n     */\r\n    submit():void {\r\n        console.info('__SUB__ submit()');\r\n        console.log('__SUB__ form.valid',this.form.valid)\r\n        if(!this.form.valid) {\r\n            this.showErrors = true;\r\n            let alertError = this.alertCtrl.create({\r\n                title: 'Campos incompletos',\r\n                subTitle: 'Por favor ingresa tu correo y crea una contraseña',\r\n                buttons: [{\r\n                    text: 'Cerrar',\r\n                    role: 'cancel'\r\n                }]\r\n            });\r\n            alertError.present();            \r\n        }else{\r\n            this.createUser();\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  HELPERS\r\n     */\r\n\r\n    /**\r\n     *  CREATE NEW USER\r\n     *  1- create firebase user with email and password\r\n     *  2- create account in database, with user id and email\r\n     *  3- send email verification\r\n     */\r\n    private createUser(): void {\r\n        console.info('_createUser_');           \r\n        // loader effect\r\n        this.loader = this.loadingCtrl.create({\r\n            content: 'Registrando tu cuenta ...'\r\n        });\r\n        this.loader.present();   \r\n        // form\r\n        let email = this.form.get('email').value;\r\n        let password = this.form.get('password').value;           \r\n        this.authSrv.createUserWithEmailAndPassword(email, password)\r\n            .then((fbuser) => {\r\n                console.log('create user success', fbuser.uid);\r\n                // CLOUD FUNCTIONS TRIGGER\r\n                console.log('CF_Trigger:createUserAccount|user().onCreate()');\r\n                this.loader.dismiss();\r\n            })\r\n            .catch((error:any) => {\r\n                console.error('create user error', error);\r\n                this.loader.dismiss()\r\n                    .then(() => {\r\n                        this.presentErrorAlert(error);\r\n                    });\r\n        });\r\n    }\r\n\r\n    private presentErrorAlert(error:any):void {\r\n        // set strings\r\n        var msg: string;\r\n        var context: string;\r\n        switch(error.code){\r\n            case 'auth/email-already-in-use':\r\n                context = 'Dirección en uso';\r\n                msg = 'La dirección de correo ya esta en uso, vuelve a intentarlo';\r\n                break;\r\n            case 'auth/invalid-email':\r\n                context = 'Dirección inválido';\r\n                msg = 'La dirección de email es inválida, vuelve a intentarlo por favor';\r\n                break;\r\n            case 'auth/operation-not-allowed':\r\n                context = 'Error';\r\n                msg = 'Esta acción no esta permitida';\r\n                break;\r\n            case 'auth/weak-password':\r\n                context = 'Contraseña débil';\r\n                msg = 'La contraseña creada es muy débil';\r\n                break;\r\n            default:\r\n                context = 'Error';\r\n                msg = 'Un error inesperado ha ocurrido, vuelve a intentarlo';\r\n        }\r\n        // create alert\r\n        let alertError = this.alertCtrl.create({\r\n            title: context,\r\n            subTitle: msg,\r\n            buttons: [{\r\n                text: 'Cerrar',\r\n                role: 'cancel'\r\n            }]\r\n        });\r\n        // show\r\n        alertError.present();\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { Subscription } from 'rxjs/Rx';\r\nimport { AccountService } from '../../providers/account-service/account-service';\r\nimport { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { StartPage } from '../start/start';\r\nimport { UserAccount, UserAccountSettings, UserProfileData, UserProfileVerifications } from '../../models/user-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController, PopoverController, ViewController, AlertController } from 'ionic-angular';\r\nimport { SettingsPopoverPage } from '../settings-popover/settings-popover';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport firebase from 'firebase';\r\n\r\nconst STRG_USER_FILES = 'userFiles/';\r\n\r\n@Component({\r\n    selector: 'page-settings',\r\n    templateUrl: 'settings.html'\r\n})\r\nexport class SettingsPage implements OnInit{\r\n\r\n    fbuser: firebase.User;\r\n    account: UserAccount;\r\n    accountSub: Subscription;\r\n    accountData: UserProfileData;\r\n    accountVerifications: UserProfileVerifications;\r\n    accountStatus: any;\r\n    accountOperator: any;\r\n    accountSettings: UserAccountSettings;\r\n    profileBgDefault: string = 'assets/img/mooven_avatar.png';\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public loadingCtrl: LoadingController,\r\n        public toastCtrl: ToastController,\r\n        public popoverCtrl: PopoverController,\r\n        public viewCtrl: ViewController,\r\n        public alertCtrl: AlertController,\r\n        public cameraPlugin: Camera,\r\n        public authSrv: AuthService,\r\n        public accountSrv: AccountService) {\r\n        }\r\n\r\n    ngOnInit() {\r\n        console.log('ngOnInit');\r\n        this.setAccount();\r\n        this.fbuser = this.authSrv.fbuser;\r\n    }\r\n\r\n    ionViewWillUnload() {\r\n        console.log('unloading ...');\r\n        this.resetData();\r\n    }\r\n\r\n    /**\r\n     *  CLICK METHODS\r\n     */\r\n\r\n    presentPopover(myEvent):void {\r\n        this.openPopover(myEvent);\r\n    }\r\n\r\n    reverifyEmail() {\r\n        this.confirmReverifyEmail();\r\n    }\r\n\r\n    updateSettings() {\r\n        this.runUpdateSettings();\r\n    }\r\n\r\n    signOut() {\r\n        this.userSignout();\r\n    }\r\n\r\n    updatePicture() {\r\n        this.takePictureAndUpdate();\r\n    }\r\n\r\n    terminateAccount() {\r\n        this.confirmTerminateAccount();\r\n    }\r\n\r\n    /**\r\n     * ----------------\r\n     * PRIVATE METHODS\r\n     * ----------------\r\n     */\r\n\r\n    private resetData() {\r\n        this.accountSub.unsubscribe();\r\n        this.account = null;\r\n        this.accountData = null;\r\n        this.accountOperator = null;\r\n        this.accountStatus = null;\r\n        this.accountVerifications = null;\r\n        this.accountSettings = null;\r\n        this.fbuser = null;\r\n    }\r\n\r\n    private confirmReverifyEmail() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Validar Email',\r\n            message: 'Si aun no has recibido un correo electrónico con un link para validar tu dirección de email, prueba reenviarlo.',\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        //console.log('Cancel clicked');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Reenviar',\r\n                    handler: () => {\r\n                        this.resendEmailVerification();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();        \r\n    }\r\n\r\n    private resendEmailVerification() {\r\n        this.accountSrv.resendEmailVerification()\r\n            .then((result) => {\r\n                console.log('resend', result);\r\n            })\r\n            .catch((error) => {\r\n                console.error('resend', error);\r\n            });\r\n    }\r\n\r\n    private userSignout() {\r\n        // loader effect\r\n        let loader = this.loadingCtrl.create({\r\n            content: 'Cerrando sesión ...',\r\n        });\r\n        loader.present();\r\n        setTimeout(() => {\r\n            this.authSrv.signOut();\r\n            this.navCtrl.setRoot(StartPage);\r\n        }, 1000);\r\n\r\n        setTimeout(() => {\r\n            loader.dismiss();\r\n        }, 3000); \r\n    }\r\n\r\n    private openPopover(myEvent:any):void {\r\n        let popover = this.popoverCtrl.create(SettingsPopoverPage, { \r\n            accountData: this.accountData\r\n        });\r\n        popover.present({\r\n            ev: myEvent\r\n        });\r\n        popover.onDidDismiss((data) => {\r\n            // check on popover>dismiss, if account update is required\r\n            if(data) {\r\n                console.log('popover closed > update ? ', data);\r\n            }\r\n        });    \r\n    }\r\n\r\n    private setAccount() {\r\n        // loader\r\n        let loading = this.loadingCtrl.create({\r\n            content: 'Cargando perfil ...'\r\n        });\r\n        loading.present();\r\n        // get\r\n        let obs = this.accountSrv.getObs(true);\r\n        this.accountSub = obs.subscribe(snap => {\r\n            loading.dismiss();\r\n            this.account = snap.val();\r\n            this.accountData = snap.val().profile.data;\r\n            this.accountOperator = snap.val().operator;\r\n            this.accountVerifications = snap.val().profile.verifications;\r\n            this.accountStatus = snap.val().profile.status;\r\n            this.accountSettings = snap.val().settings;\r\n        }, (error) => {\r\n            console.log(error);\r\n            loading.dismiss();\r\n        });         \r\n    }   \r\n\r\n    private runUpdateSettings() {\r\n        console.log('updateSettings', this.accountSettings);\r\n        this.accountSrv.updateSettings(this.accountSettings)\r\n            .then(() => {\r\n                console.log('updateSettings > success');\r\n            })\r\n            .catch((error) => console.log('error', error));  \r\n    }\r\n  \r\n    private confirmTerminateAccount() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Confirma que deseas terminar tu cuenta',\r\n            message: 'Estas por iniciar el proceso para cerrar tu cuenta de Mooven, te enviaremos un correo para confirmar el inicio del proceso.',\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        //console.log('Cancel clicked');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Cerrar mi Cuenta',\r\n                    handler: () => {\r\n                        this.accountSrv.terminateAccount()\r\n                            .then(() =>  {\r\n                                console.log('terminated success');\r\n                            })\r\n                            .catch(err => console.log(err));\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();        \r\n    }\r\n\r\n\r\n    /**\r\n     *  IMAGE HELPERS\r\n     */\r\n\r\n    private uploadProfileImage(imageData: string): Promise<any> {\r\n        console.log('uploadProfileImage', this.fbuser.uid);\r\n        const storageRef = firebase.storage().ref(STRG_USER_FILES);\r\n        return new Promise((resolve, reject) => {\r\n            // upload \r\n            let uploadTask = storageRef\r\n                    .child(this.fbuser.uid)\r\n                    .child('profileImage.jpg')\r\n                    .putString(imageData, firebase.storage.StringFormat.DATA_URL, {contentType: 'image/jpeg'});\r\n            uploadTask.on('state_changed', function(snapshot:any) {\r\n                let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                console.info('Upload is ' + progress + '% done');\r\n            }, function (error:any) {\r\n                // error\r\n                console.log('failed > ', error.code);\r\n                reject(error);\r\n            }, function() {\r\n                // success\r\n                resolve(uploadTask.snapshot);\r\n                console.log('uploadProfileImage > success');\r\n            });\r\n        });\r\n    }\r\n\r\n    private takePictureAndUpdate() {\r\n        console.info('settings > updatePicture');\r\n        let steps = {\r\n            get: false,\r\n            upload: false,\r\n            update: false\r\n        }\r\n        this.cameraPlugin.getPicture({\r\n            quality: 95,\r\n            destinationType: this.cameraPlugin.DestinationType.DATA_URL,\r\n            sourceType: this.cameraPlugin.PictureSourceType.CAMERA,\r\n            allowEdit: true,\r\n            encodingType: this.cameraPlugin.EncodingType.JPEG,\r\n            targetWidth: 900,\r\n            targetHeight: 900,\r\n            saveToPhotoAlbum: true,\r\n            correctOrientation: true\r\n        })\r\n        .then((imageData) => {\r\n            console.log('getPicture > success');\r\n            steps.get = true;\r\n            let base64Image: string;\r\n            base64Image = \"data:image/jpeg;base64,\" + imageData;\r\n            return this.uploadProfileImage(base64Image);\r\n        })\r\n        .then((snapshot) => {\r\n            console.log('updatePicture > uploadProfileImage > success');\r\n            steps.upload = true;\r\n            let downloadURL = snapshot.downloadURL;\r\n            let fullPath = snapshot.ref.fullPath;\r\n            return this.accountSrv.updatePhoto(downloadURL, fullPath);\r\n        })        \r\n        .then((result) => {\r\n            steps.update = true;\r\n            console.log('updateAccount > success', steps);\r\n            let toast = this.toastCtrl.create({\r\n                message: 'Tu foto de perfil fue actualizada!',\r\n                duration: 1500,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n        })\r\n        .catch((error) => {\r\n            console.log('updatePicture > error > ' + error, steps);\r\n            let alert = this.alertCtrl.create({\r\n                title: 'Error',\r\n                subTitle: 'Ocurrió un error, por favor vuelve a intentarlo',\r\n                buttons: ['Cerrar']\r\n            });\r\n            alert.present();\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { UserProfileData } from '../../models/user-model';\r\nimport { Component } from '@angular/core';\r\nimport { ViewController, ModalController, NavParams } from 'ionic-angular';\r\n\r\nimport { ModalUserEditEmailPage } from '../modal-user-edit-email/modal-user-edit-email';\r\nimport { ModalUserEditPhonePage } from '../modal-user-edit-phone/modal-user-edit-phone';\r\nimport { ModalUserEditNamePage } from '../modal-user-edit-name/modal-user-edit-name';\r\n\r\n@Component({\r\n    templateUrl: \"settings-popover.html\"\r\n})\r\nexport class SettingsPopoverPage {\r\n\r\n    accountData:UserProfileData;\r\n\r\n    constructor(public viewCtrl: ViewController,\r\n        public modalCtrl: ModalController,\r\n        public params:NavParams) { \r\n            this.accountData = params.data.accountData;\r\n        }\r\n\r\n    close(update:boolean = false) {\r\n        console.info('closing popover');\r\n        let data = {\r\n            update: update\r\n        };\r\n        this.viewCtrl.dismiss(data);\r\n    }\r\n\r\n    presentModalEditEmail() {\r\n        let modal = this.modalCtrl.create(ModalUserEditEmailPage, {\r\n            accountData: this.accountData\r\n        });\r\n        modal.present(); \r\n        modal.onDidDismiss(data => {\r\n            console.info('closing modal edit name > updated ', data.update);\r\n            this.close(data.update);\r\n        });              \r\n    }\r\n\r\n    presentModalEditPhone() {\r\n        let modal = this.modalCtrl.create(ModalUserEditPhonePage, {\r\n            accountData: this.accountData\r\n        });\r\n        modal.present();\r\n        modal.onDidDismiss(data => {\r\n            console.info('closing modal edit name > updated ', data.update);\r\n            this.close(data.update);\r\n        });           \r\n    }\r\n\r\n    presentModalEditName() {      \r\n        let modal = this.modalCtrl.create(ModalUserEditNamePage, {\r\n            accountData: this.accountData\r\n        });\r\n        modal.present();\r\n        modal.onDidDismiss(data => {\r\n            console.info('closing modal edit name > updated ', data.update);\r\n            this.close(data.update);\r\n        });           \r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings-popover/settings-popover.ts","import { AccountService } from '../../providers/account-service/account-service';\r\nimport { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { StartPage } from '../start/start';\r\nimport { UserProfileData } from '../../models/user-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, ViewController, AlertController, NavParams } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators, AbstractControl } from '@angular/forms';\r\nimport { EmailValidator } from '../../validators/email.validator';\r\n\r\n\r\n@Component({\r\n    selector: 'modal-user-edit-email',\r\n    templateUrl: 'modal-user-edit-email.html'\r\n})\r\nexport class ModalUserEditEmailPage implements OnInit {\r\n\r\n    editForm: FormGroup;\r\n    email: AbstractControl;\r\n    accountData: UserProfileData;\r\n    changeInProcess: boolean;\r\n    sameEmailError:boolean;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public viewCtrl: ViewController,\r\n        public alertCtrl: AlertController,\r\n        public formBuilder: FormBuilder,\r\n        public params: NavParams,\r\n        public authSrv: AuthService,\r\n        private accountSrv: AccountService) {\r\n        this.accountData = this.params.get('accountData');\r\n        this.changeInProcess = this.accountData.emailOnChange;\r\n    }\r\n\r\n    ngOnInit() {\r\n        // form init\r\n        this.sameEmailError = false;\r\n        this.editForm = this.formBuilder.group({\r\n            'email':  ['', Validators.compose([Validators.required, EmailValidator.isValid, Validators.maxLength(100)])],\r\n        });\r\n        this.email = this.editForm.controls['email'];\r\n    }\r\n\r\n    submit() {\r\n        console.log('submit');\r\n        this.sameEmailError = false;\r\n        if(!this.editForm.valid) {\r\n            return;\r\n        }\r\n        if(this.editForm.value.email == this.accountData.email) {\r\n            console.log('sorry, same email');\r\n            this.sameEmailError = true;\r\n            return;\r\n        }\r\n        this.accountSrv.changeEmail(this.editForm.value.email)\r\n            .then(() => {\r\n                console.log('email updated!');\r\n                let alert = this.alertCtrl.create({\r\n                    title: 'Email modificado',\r\n                    message: 'Hemos enviado un email a la nueva dirección con un link de confirmación para validar y finalizar el proceso de cambio.',\r\n                    buttons: [\r\n                        {\r\n                            text: 'Cerrar',\r\n                            role: 'cancel',\r\n                            handler: data => {\r\n                                this.dismiss(true);\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                alert.present();\r\n\r\n            })\r\n            .catch((errorcode) => {\r\n                console.log('email update failed', errorcode);\r\n                this.showAlert(errorcode);\r\n            });\r\n    }\r\n\r\n    dismiss(updated:boolean = false) {\r\n        let data = { update: updated };\r\n        this.viewCtrl.dismiss(data);\r\n    }\r\n\r\n    /**\r\n     * PRIVATE\r\n     */\r\n\r\n    private showAlert(code) {\r\n        // init\r\n        let title: string;\r\n        let msg: string;\r\n        // switch\r\n        switch(code) {\r\n\r\n            case 'auth/invalid-email':\r\n                title = 'Error';\r\n                msg = 'La dirección de correo es inválida, ingrese una dirección válida y vuelva a intentar.';\r\n                this.presentAlert(title, msg);\r\n                break;\r\n\r\n            case 'auth/email-already-in-use':\r\n                title = 'Error';\r\n                msg = 'Es posible que la dirección ingresada este en uso, ingrese otra dirección válida y vuelva a intentar.';\r\n                this.presentAlert(title, msg);\r\n                break;\r\n\r\n            case 'auth/requires-recent-login':\r\n                title = 'Se requiere reingresar';\r\n                msg = 'Por razones de seguridad se requiere un login reciente para modificar la dirección de correo, por favor salga, vuelva a ingresar y reintente cambiar la dirección inmediatamente.';\r\n                this.presentConfirm(title, msg);\r\n                break;\r\n\r\n            default:\r\n                title = 'Error';\r\n                msg = 'Ocurrió un error inesperado, vuelve a intentarlo.';\r\n                this.presentAlert(title, msg);\r\n        }\r\n    }\r\n\r\n    private presentConfirm(title: string, msg: string): void {\r\n        let alert = this.alertCtrl.create({\r\n            title: title,\r\n            message: msg,\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        this.dismiss();\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Reingresar',\r\n                    handler: () => {\r\n                        this.dismiss();\r\n                        this.navCtrl.setRoot(StartPage)\r\n                            .then(() => {\r\n                                this.authSrv.signOut();                                \r\n                            });                        \r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    private presentAlert(title, msg) {\r\n        let alert = this.alertCtrl.create({\r\n            title: title,\r\n            subTitle: msg,\r\n            buttons: ['Cerrar']\r\n        });\r\n        alert.present();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-user-edit-email/modal-user-edit-email.ts","import { AccountService } from '../../providers/account-service/account-service';\r\nimport { UserProfileData } from '../../models/user-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport firebase from 'firebase';\r\n\r\n@Component({\r\n    selector: 'modal-user-edit-name',\r\n    templateUrl: 'modal-user-edit-name.html'\r\n})\r\nexport class ModalUserEditNamePage implements OnInit{\r\n\r\n    mform: FormGroup;\r\n    user: firebase.User;\r\n    accountData: UserProfileData;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public viewCtrl: ViewController,\r\n        public fb: FormBuilder,\r\n        public alertCtrl: AlertController,\r\n        public params: NavParams,\r\n        private accountSrv: AccountService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.log(this.params.data);\r\n        this.accountData = this.params.data.accountData;\r\n        // form init\r\n        this.mform = this.fb.group({\r\n            firstName: ['', [Validators.required, Validators.maxLength(50)]],\r\n            lastName: ['', [Validators.required, Validators.maxLength(50)]],\r\n        });\r\n        // set initial value\r\n        this.mform.controls['firstName'].setValue(this.accountData.firstName);\r\n        this.mform.controls['lastName'].setValue(this.accountData.lastName);\r\n    }\r\n\r\n    dismiss(updated:boolean = false) {\r\n        let data = { update: updated };\r\n        this.viewCtrl.dismiss(data);\r\n    }\r\n\r\n    submit() {\r\n        console.info('submit')\r\n        this.accountData.firstName = this.mform.value.firstName;\r\n        this.accountData.lastName = this.mform.value.lastName;\r\n        this.accountSrv.updateProfileData(this.accountData)\r\n            .then(() => {\r\n                console.log('success');\r\n                // show alert\r\n                let alert = this.alertCtrl.create({\r\n                    title: 'Modificado',\r\n                    subTitle: 'Tu nombre se ha modificado correctamente',\r\n                    buttons: [\r\n                        {\r\n                            text: 'Cerrar',\r\n                            handler: data => {\r\n                                this.dismiss(true);\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                alert.present();\r\n            })\r\n            .catch((err) => {\r\n                console.log('err', err);\r\n            });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-user-edit-name/modal-user-edit-name.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n    selector: 'page-sendings-notifications',\r\n    templateUrl: 'sendings-notifications.html',\r\n})\r\nexport class SendingsNotificationsPage {\r\n\r\n    constructor(public navCtrl: NavController) {\r\n\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sendings-notifications/sendings-notifications.ts","import { FirebaseListObservable } from 'angularfire2/database/firebase_list_observable';\r\nimport { APP_CFG } from '../../models/app-model';\r\nimport { App, LoadingController } from 'ionic-angular';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ViewController } from 'ionic-angular';\r\nimport { SendingDetailPage } from '../sending-detail/sending-detail';\r\n\r\nimport { SendingService } from '../../providers/sending-service/sending-service';\r\n\r\n@Component({\r\n    selector: 'page-sendings-closed',\r\n    templateUrl: 'sendings-closed.html',\r\n})\r\nexport class SendingsClosedPage implements OnInit {\r\n\r\n    sendings: FirebaseListObservable<any>;\r\n    appName:string = APP_CFG.ENVIRONMENTS[APP_CFG.CURRENT_ENV].APP_NAME;\r\n\r\n    constructor(public viewCtrl: ViewController,\r\n        public loadingCtrl: LoadingController,\r\n        public sendingSrv: SendingService,\r\n        private app: App) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.info('_sendings_');\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        console.log('_willEnter');\r\n        this.getAllClosed();  \r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        console.log('_willLeave');\r\n        this.unbind();\r\n    }\r\n\r\n    goToDetail(key: string) {\r\n        console.log('_goToDetail()', key);\r\n        this.app.getRootNavs()[0].push(SendingDetailPage, { sendingId: key });\r\n    }\r\n\r\n    getStatusMessage(currentStageStatus) {\r\n        let data:any = {\r\n            message: '',\r\n            color: 'primary',\r\n            mode: 'note'\r\n        };\r\n        switch (currentStageStatus) {\r\n            case 'created_registered':\r\n                data.message = 'PAGAR';\r\n                data.color = 'danger';\r\n                data.mode = 'button';\r\n                break;\r\n            case 'created_paid':\r\n                data.message = 'Verificando pago';\r\n                break;\r\n            case 'created_enabled':\r\n            case 'live_waitoperator':\r\n                data.message = 'Aguardar Operador';\r\n                break;\r\n            case 'live_gotoperator':\r\n            case 'live_waitpickup':\r\n                data.message = 'Aguardar Retiro';\r\n                break;\r\n            case 'live_pickedup':\r\n            case 'live_inroute':\r\n                data.message = 'En transito';\r\n                break;\r\n            case 'live_dropped':\r\n            case 'closed_completed':\r\n                data.message = 'Entregado';\r\n                break;\r\n        }\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     *  PRIVATE\r\n     */\r\n\r\n    private getAllClosed() {\r\n        console.log('_getAll');\r\n        this.sendings = this.sendingSrv.getAllClosedObs();\r\n    }\r\n\r\n    private unbind() {\r\n        this.sendings = null;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sendings-closed/sendings-closed.ts","import { Injectable } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class SendingSetCanceledbyoperatorService{\r\n\r\n    private sendingId:string;\r\n    private userId:string;\r\n    private taskCF:any;\r\n    private dbRef: firebase.database.Reference;\r\n\r\n    constructor() {}\r\n\r\n    run(sendingId:string, userId:string): Promise<any> {\r\n        this.dbRef = firebase.database().ref();\r\n        this.sendingId = sendingId;\r\n        this.userId = userId;\r\n        return this.write();        \r\n    }\r\n\r\n    private write() {\r\n        this.setTaskCF();\r\n        return new Promise((resolve, reject) => {\r\n            // write cf task\r\n            let updates = {};        \r\n            let taskKey = this.dbRef.child('sendingsTask/').push().key;\r\n            // create task\r\n            updates[`sendingsTask/${taskKey}`] = this.taskCF;\r\n            // write\r\n            this.dbRef.update(updates)\r\n                .then((result) => {\r\n                    resolve();\r\n                })\r\n                .catch(error => {\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n\r\n    // set task for Cloud Functions\r\n    private setTaskCF() {\r\n        this.taskCF = {\r\n            sendingId: this.sendingId,\r\n            userId: this.userId,\r\n            task: 'set_canceledbyoperator',\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            origin: 'app'\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-set-canceledbyoperator-service.ts","import { Injectable } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class SendingSetCanceledbysenderService{\r\n\r\n    private sendingId:string;\r\n    private userId:string;\r\n    private taskCF:any;\r\n    private dbRef: firebase.database.Reference;\r\n\r\n    constructor() {}\r\n\r\n    run(sendingId:string, userId:string): Promise<any> {\r\n        this.dbRef = firebase.database().ref();\r\n        this.sendingId = sendingId;\r\n        this.userId = userId;\r\n        return this.write();        \r\n    }\r\n\r\n    private write() {\r\n        this.setTaskCF();\r\n        return new Promise((resolve, reject) => {\r\n            // write cf task\r\n            let updates = {};        \r\n            let taskKey = this.dbRef.child('sendingsTask/').push().key;\r\n            // create task\r\n            updates[`sendingsTask/${taskKey}`] = this.taskCF;\r\n            // write\r\n            this.dbRef.update(updates)\r\n                .then((result) => {\r\n                    resolve();\r\n                })\r\n                .catch(error => {\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n\r\n    // set task for Cloud Functions\r\n    private setTaskCF() {\r\n        this.taskCF = {\r\n            sendingId: this.sendingId,\r\n            userId: this.userId,\r\n            task: 'set_canceledbysender',\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            origin: 'app'\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-set-canceledbysender-service.ts","import { SendingSetCanceledbyoperatorService } from './sending-set-canceledbyoperator-service';\r\nimport { SendingSetCanceledbysenderService } from './sending-set-canceledbysender-service';\r\nimport { DateService } from '../date-service/date-service';\r\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport { AuthService } from '../auth-service/auth-service';\r\nimport { SendingSetDroppedService } from './sending-set-dropped-service';\r\nimport { SendingSetPickedupService } from './sending-set-pickedup-service';\r\nimport { SendingSetGotoperatorService } from './sending-set-gotoperator-service';\r\nimport { SendingCreateService } from './sending-create-service';\r\nimport { FirebaseListObservable } from 'angularfire2/database';\r\nimport { SendingPaymentService } from './sending-payment-service';\r\nimport { SendingNotificationsService } from './sending-notifications-service';\r\nimport { Injectable } from '@angular/core';\r\nimport { HashService } from '../hash-service/hash-service';\r\nimport { SendingRequest } from '../../models/sending-model';\r\nimport { SHIPMENT_CFG } from '../../models/shipment-model';\r\n\r\nimport firebase from 'firebase';\r\n\r\nconst VACANT_LOCK_TIMEOUT = SHIPMENT_CFG.CONFIRM_TIMEOUT + SHIPMENT_CFG.WAIT_AFTER_UNLOCK; // ADDED SECONDS TO AVOID COLISSIONS\r\n\r\n\r\n@Injectable()\r\nexport class SendingService {\r\n\r\n    dbRef = firebase.database().ref();\r\n\r\n    constructor(public hashSrv: HashService,\r\n        public notificationsSrv:SendingNotificationsService,\r\n        public paySrv: SendingPaymentService,\r\n        private createSrv: SendingCreateService,\r\n        private setGotoperSrv: SendingSetGotoperatorService,\r\n        private setPickSrv: SendingSetPickedupService,\r\n        private setDropSrv: SendingSetDroppedService,\r\n        private setCanceledUsr: SendingSetCanceledbysenderService,\r\n        private setCanceledOpr: SendingSetCanceledbyoperatorService,\r\n        private authSrv: AuthService,\r\n        private afDb: AngularFireDatabase,\r\n        private dateSrv: DateService) {}\r\n\r\n\r\n    /**\r\n     * Create / Update\r\n    */\r\n\r\n    initObj() {\r\n        return this.createSrv.new();\r\n    }\r\n\r\n    create(sending:SendingRequest): Promise<any> {\r\n        return this.createSrv.run(sending, this.authSrv.fbuser.uid);\r\n    }\r\n\r\n    setOperator(sendingId:string) {\r\n        return this.setGotoperSrv.run(sendingId, this.authSrv.fbuser.uid);\r\n    }\r\n\r\n    setPickedup(sendingId:string) {\r\n        return this.setPickSrv.run(sendingId, this.authSrv.fbuser.uid);\r\n    }\r\n\r\n    setDropped(sendingId:string) {\r\n        return this.setDropSrv.run(sendingId, this.authSrv.fbuser.uid);\r\n    }    \r\n\r\n    setCanceledbysender(sendingId:string): Promise<any> {\r\n        return this.setCanceledUsr.run(sendingId, this.authSrv.fbuser.uid);\r\n    }\r\n\r\n    setCanceledbyoperator(sendingId:string): Promise<any> {\r\n        return this.setCanceledOpr.run(sendingId, this.authSrv.fbuser.uid);\r\n    }    \r\n\r\n    /**\r\n     *  READ\r\n     */\r\n\r\n    // get sending Observable\r\n    getByIdObs(sendingId:string, snapshot:boolean = false): FirebaseObjectObservable<any> {\r\n        return this.afDb.object(`sendings/${sendingId}`,  { \r\n                preserveSnapshot: snapshot \r\n            });\r\n    }\r\n\r\n    // get account active sendings Observable\r\n    getAllActiveObs(snapshot:boolean = false): FirebaseListObservable<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        return this.afDb.list(`userSendings/${accountId}/active`, { preserveSnapshot: snapshot });\r\n    } \r\n\r\n    // get account closedd sendings Observable\r\n    getAllClosedObs(snapshot:boolean = false): FirebaseListObservable<any> {\r\n        let accountId = this.authSrv.fbuser.uid;\r\n        return this.afDb.list(`userSendings/${accountId}/closed`, { preserveSnapshot: snapshot });\r\n    }     \r\n\r\n    /**\r\n     *  SendingLiveVacants\r\n     */\r\n\r\n    // get all sendings Vacants, in \"waitoperator\" status\r\n    getLiveVacantObs(snapshot:boolean = false) {\r\n        return this.afDb.list('_sendingsLive/', {\r\n            query: {\r\n                orderByChild: '_currentStatus',\r\n                equalTo: 'waitoperator'\r\n            }, \r\n            preserveSnapshot: snapshot,\r\n        });         \r\n    }\r\n\r\n    attemptToLockVacant(sendingId:string):Promise<any> {\r\n        let userId = this.authSrv.fbuser.uid;\r\n        return this.writeAttemptToLockVacant(sendingId, userId);\r\n    }\r\n\r\n    unlockVacant(sendingId:string): firebase.Promise<any> {\r\n        return this.writeUnlockVacant(sendingId);\r\n    }\r\n\r\n    /**\r\n     *  NOTIFICATIONS\r\n     */\r\n\r\n    // send notifications to user, based on setttings\r\n    sendNotifications(sendingId:string, contentLog:any):void {\r\n        this.notificationsSrv.sendLocalNotification(sendingId, contentLog);\r\n    }\r\n\r\n\r\n    /**\r\n     *  VACANT WRITES\r\n     */\r\n\r\n    private writeUnlockVacant(sendingId:string):firebase.Promise<any> {\r\n        let updates = {};\r\n        updates[`_sendingsLive/${sendingId}/_locked`] = null;\r\n        return this.dbRef.update(updates); \r\n    }\r\n\r\n    private writeAttemptToLockVacant(sendingId:string, userId:string):Promise<any> {\r\n        console.info('writeAttemptToLockVacant > init');\r\n        let result = {\r\n            didLock: false,\r\n            hadError: false,\r\n            lockTimeLeft: 0,\r\n            isTaken: false,\r\n            snapshot: {},\r\n            error: {}            \r\n        };\r\n        let lockNode = {\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            userId: userId,\r\n            taken: false\r\n        };\r\n        let ref = this.dbRef.child(`_sendingsLive/${sendingId}/_locked`);\r\n        return new Promise((resolve, reject)=> {\r\n            ref.transaction(currentData => {\r\n                console.log('currentData', currentData);\r\n                if(currentData === null) {\r\n                    return lockNode;\r\n                }else{\r\n                    console.log('lockNode already exists, is it taken?');                    \r\n                    if(currentData.taken==true) {\r\n                        console.log('has been taken');\r\n                        result.isTaken = true;\r\n                        return;\r\n                    }\r\n                    console.log('lockNode already exists, has expired?');                    \r\n                    let lockTimestamp = currentData.timestamp;\r\n                    let nowTimestamp = this.dateSrv.getUnixTimestamp();\r\n                    let diff = (nowTimestamp - lockTimestamp) / 1000;\r\n                    if(diff > VACANT_LOCK_TIMEOUT) {\r\n                        console.log('it has expired, update');\r\n                        return lockNode;\r\n                    }else{\r\n                        console.log('did not expired, diff ', diff);\r\n                        result.lockTimeLeft = VACANT_LOCK_TIMEOUT - diff;\r\n                        return;\r\n                    }\r\n                }\r\n            }, (error, committed, snapshot) => {\r\n                result.snapshot = snapshot.val();                \r\n                if(error) {\r\n                    console.error('transaction failed > ', error);\r\n                    result.hadError = true;\r\n                    result.error = error;\r\n                    reject(result);\r\n                } else if (!committed) {\r\n                    console.log('transaction aborted, lockNode exists');\r\n                    result.didLock = false;\r\n                } else {\r\n                    console.log('transaction success');\r\n                    result.didLock = true;\r\n                }\r\n                console.log('lockNode data > ', snapshot.val());\r\n                resolve(result);                \r\n            });\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-service.ts","import { Injectable } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class SendingSetDroppedService{\r\n\r\n    private sendingId:string;\r\n    private userId:string;\r\n    private taskCF:any;\r\n    private dbRef: firebase.database.Reference;\r\n\r\n    constructor() {\r\n        this.dbRef = firebase.database().ref();\r\n    }\r\n\r\n    run(sendingId:string, userId:string): Promise<any> {\r\n        this.sendingId = sendingId;\r\n        this.userId = userId;\r\n        return this.write();   \r\n    }\r\n\r\n    private write() {\r\n        this.setTaskCF();\r\n        return new Promise((resolve, reject) => {\r\n            // write cf task\r\n            let updates = {};        \r\n            let taskKey = this.dbRef.child('sendingsTask/').push().key;\r\n            // create task\r\n            updates[`sendingsTask/${taskKey}`] = this.taskCF;\r\n            // write\r\n            this.dbRef.update(updates)\r\n                .then((result) => {\r\n                    resolve();\r\n                })\r\n                .catch(error => {\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n\r\n    // set task for Cloud Functions\r\n    private setTaskCF() {\r\n        this.taskCF = {\r\n            sendingId: this.sendingId,\r\n            userId: this.userId,\r\n            task: 'set_dropped',\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            origin: 'app'\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-set-dropped-service.ts","import { Injectable } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class SendingSetPickedupService{\r\n\r\n    private sendingId:string;\r\n    private userId:string;\r\n    private taskCF:any;\r\n    private dbRef: firebase.database.Reference;\r\n\r\n    constructor() {}\r\n\r\n    run(sendingId:string, userId:string): Promise<any> {\r\n        this.dbRef = firebase.database().ref();\r\n        this.sendingId = sendingId;\r\n        this.userId = userId;\r\n        return this.write();   \r\n    }\r\n\r\n    private write() {\r\n        this.setTaskCF();\r\n        return new Promise((resolve, reject) => {\r\n            // write cf task\r\n            let updates = {};        \r\n            let taskKey = this.dbRef.child('sendingsTask/').push().key;\r\n            // create task\r\n            updates[`sendingsTask/${taskKey}`] = this.taskCF;\r\n            // write\r\n            this.dbRef.update(updates)\r\n                .then((result) => {\r\n                    resolve();\r\n                })\r\n                .catch(error => {\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n\r\n    // set task for Cloud Functions\r\n    private setTaskCF() {\r\n        this.taskCF = {\r\n            sendingId: this.sendingId,\r\n            userId: this.userId,\r\n            task: 'set_pickedup',\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            origin: 'app'\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-set-pickedup-service.ts","import { Injectable } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class SendingSetGotoperatorService{\r\n\r\n    private sendingId:string;\r\n    private userId:string;\r\n    private taskCF:any;\r\n    private lockNode:any;\r\n    private dbRef: firebase.database.Reference;\r\n\r\n    constructor() {}\r\n\r\n    run(sendingId:string, userId:string): Promise<any> {\r\n        this.dbRef = firebase.database().ref();\r\n        this.sendingId = sendingId;\r\n        this.userId = userId;\r\n        return this.write();        \r\n    }\r\n\r\n    private write() {\r\n        this.setTaskCF();\r\n        this.setLockNode();\r\n        return new Promise((resolve, reject) => {\r\n            // write cf task\r\n            let updates = {};        \r\n            let taskKey = this.dbRef.child('sendingsTask/').push().key;\r\n            // update lockNode\r\n            updates[`_sendingsLive/${this.sendingId}/_locked`] = this.lockNode;\r\n            // create task\r\n            updates[`sendingsTask/${taskKey}`] = this.taskCF;\r\n            // write\r\n            this.dbRef.update(updates)\r\n                .then((result) => {\r\n                    resolve();\r\n                })\r\n                .catch(error => {\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n\r\n    // set task for Cloud Functions\r\n    private setTaskCF() {\r\n        this.taskCF = {\r\n            sendingId: this.sendingId,\r\n            userId: this.userId,\r\n            task: 'set_gotoperator',\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            origin: 'app'\r\n        }\r\n    }\r\n\r\n    private setLockNode() {\r\n        this.lockNode = {\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            userId: this.userId,\r\n            taken: true\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-set-gotoperator-service.ts","import { StorageService } from '../storage-service/storage-service';\r\nimport { HashService } from '../hash-service/hash-service';\r\nimport { SendingRequest } from '../../models/sending-model';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class SendingCreateService{\r\n\r\n    sending: SendingRequest;\r\n    taskCF: any; // cloud function task data\r\n    userId: string;\r\n    dbRef: firebase.database.Reference;\r\n\r\n    constructor(private hashSrv: HashService,\r\n        private storageSrv: StorageService) {}\r\n\r\n    // create sending\r\n    run(sending:SendingRequest, userId:string): Promise<any> {\r\n        this.setDbRef();\r\n        this.sending = sending;\r\n        this.userId = userId;\r\n        return this.create();\r\n    }\r\n\r\n    new() {\r\n        return this.getNew();\r\n    }\r\n\r\n    /**\r\n     *  METHODS\r\n     */\r\n\r\n    private create():Promise<SendingRequest> {\r\n        console.info('__CRS__ create sending');\r\n        // populate\r\n        this.setPublicId();\r\n        this.setTimestamp();\r\n        this.setUserId();\r\n        // security codes\r\n        this.setPickupSecurityCode()\r\n        this.setDropSecurityCode();\r\n        // uid\r\n        this.setSendingId();\r\n        // upload sending image\r\n        // write sending to db\r\n        // CF >> set task, init stage status, log notification (CF)\r\n        return new Promise((resolve, reject) => {\r\n            this.uploadImage()\r\n                .then(result => {\r\n                    console.log('uploadImage result', result);\r\n                    // if image uploaded, update sending\r\n                    if(result.imageSet && result.uploaded) {\r\n                        this.setSendingImageUploadedData(result);\r\n                    }\r\n                    this.setTaskCF();\r\n                    return this.writeToDb();\r\n                })\r\n                .then(result => {\r\n                    console.log('writeToDb success', result);\r\n                    resolve(this.sending);\r\n                })\r\n                .catch(error => {\r\n                    console.log('__CRS__', error)\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     *  STORAGE\r\n     */\r\n\r\n    private getStorageRef() {\r\n        return this.storageSrv.getSendingImageRef(this.userId, this.sending.sendingId);\r\n    }\r\n\r\n    private getImageFormatAndType() {\r\n        let data = this.storageSrv.getImageStringFormatAndType();\r\n        return data;\r\n    }\r\n\r\n    private isImageSet() {\r\n        return this.sending.objectImageSet;\r\n    }\r\n\r\n    private uploadImage():  Promise<any> {\r\n        //console.info('uploadImage');\r\n        let result = {\r\n            imageSet: null,\r\n            uploaded: null,\r\n            imageUrl: null,\r\n            imageName: null,\r\n            fullPath: null,\r\n            error: null\r\n        }\r\n        if(!this.isImageSet()) {\r\n            // no image to upload\r\n            result.imageSet = false;\r\n            return Promise.resolve(result);\r\n        }\r\n        result.imageSet = true;\r\n        // image is set, upload\r\n        let format = this.getImageFormatAndType().format;\r\n        let type = this.getImageFormatAndType().type;\r\n        let imageDataURL = this.sending.objectImageUrlTemp;\r\n        let storageRef = this.getStorageRef();\r\n        let uploadTask = storageRef.putString(imageDataURL, format, {contentType: type});\r\n        return new Promise((resolve, reject) => {\r\n            // upload\r\n            uploadTask.on('state_changed', function(snapshot) {\r\n                    //let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                    //console.info('Upload is ' + progress + '% done');\r\n                }, function (error:any) {\r\n                    //console.log('failed > ', error.code);\r\n                    result.uploaded = false;\r\n                    result.error = error;\r\n                    reject(result);\r\n                }, function() {\r\n                    // success\r\n                    result.uploaded = true;\r\n                    result.imageUrl = uploadTask.snapshot.downloadURL;\r\n                    result.imageName = uploadTask.snapshot.ref.name;\r\n                    result.fullPath = uploadTask.snapshot.ref.fullPath;\r\n                    //console.log('uploadImage > success');\r\n                    resolve(result);\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     *  DATABASE\r\n     */\r\n    \r\n    private setDbRef() {\r\n        this.dbRef = firebase.database().ref();\r\n    }\r\n\r\n    private writeToDb() {\r\n        //console.info('writeToDb');\r\n        let updates = {};\r\n        // write sending\r\n        updates[`sendings/${this.sending.sendingId}`] = this.sending;\r\n        // write cf task\r\n        let key = this.dbRef.child('sendingsTask/').push().key;\r\n        updates[`sendingsTask/${key}`] = this.taskCF;\r\n        return this.dbRef.update(updates);\r\n    }\r\n\r\n    /**\r\n     *  CLOUD FUNCTION TASK\r\n     */\r\n    \r\n    // set task for Cloud Functions\r\n    private setTaskCF() {\r\n        this.taskCF = {\r\n            sendingId: this.sending.sendingId,\r\n            task: 'set_registered',\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            origin: 'app'\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *  HELPERS\r\n     */\r\n\r\n    private setPublicId() {\r\n        this.sending.publicId = this.hashSrv.genId();\r\n    }\r\n\r\n    private setTimestamp() {\r\n        this.sending.timestamp = firebase.database.ServerValue.TIMESTAMP;\r\n    }\r\n\r\n    private setUserId() {\r\n        this.sending.userUid = this.userId;\r\n    }\r\n\r\n    private setPickupSecurityCode() {\r\n        this.sending.pickupSecurityCode = this.hashSrv.genSecurityCode();\r\n    }\r\n\r\n    private setDropSecurityCode() {\r\n        this.sending.dropSecurityCode = this.hashSrv.genSecurityCode();\r\n    }\r\n\r\n    private setSendingId() {\r\n        this.sending.sendingId = this.dbRef.child('sendings/').push().key;\r\n    }\r\n\r\n    private setSendingImageUploadedData(uploadResult) {      \r\n        this.sending.objectImageDownloadUrl = uploadResult.imageUrl;\r\n        this.sending.objectImageName = uploadResult.imageName;\r\n        this.sending.objectImageFullPathRef = uploadResult.fullPath;\r\n        // reset temp\r\n        this.sending.objectImageUrlTemp = '';\r\n    }\r\n\r\n    /**\r\n     *  INIT\r\n     */\r\n\r\n    private getNew():SendingRequest {\r\n        let data:SendingRequest = {\r\n            sendingId: '',\r\n            publicId: '',\r\n            timestamp: 0,\r\n            userUid: '',         \r\n            price: 0,   \r\n            priceMinFareApplied: false,\r\n            priceItems: [],               \r\n            routeDistanceMt: 0,\r\n            routeDistanceKm: 0,\r\n            routeDistanceTxt: '',\r\n            routeDurationMin: 0,\r\n            routeDurationTxt: '',\r\n            objectShortName: '',\r\n            objectImageSet: false,\r\n            objectImageUrlTemp: '',\r\n            objectImageDownloadUrl: '',\r\n            objectImageName: '',\r\n            objectImageFullPathRef: '',\r\n            objectType: '',\r\n            objectNoValueDeclared: false,\r\n            objectDeclaredValue: 0,\r\n            pickupAddressSet: false,\r\n            pickupAddressIsComplete: false,\r\n            pickupAddressUserForcedValidation: false,\r\n            pickupAddressPlaceId: '',\r\n            pickupAddressLat: 0,\r\n            pickupAddressLng: 0,            \r\n            pickupAddressFullText: '',\r\n            pickupAddressLine2: '',\r\n            pickupAddressStreetShort: '',\r\n            pickupAddressStreetLong: '',\r\n            pickupAddressNumber: '',\r\n            pickupAddressPostalCode: '',\r\n            pickupAddressCityAreaShort: '',\r\n            pickupAddressCityAreaLong: '',            \r\n            pickupAddressCityShort: '',\r\n            pickupAddressCityLong: '',\r\n            pickupAddressStateAreaShort: '',\r\n            pickupAddressStateAreaLong: '',            \r\n            pickupAddressStateShort: '',\r\n            pickupAddressStateLong: '',\r\n            pickupAddressCountry: '',\r\n            pickupDate: '',\r\n            pickupTimeFrom: '',\r\n            pickupTimeTo: '',\r\n            pickupPersonName: '',\r\n            pickupPersonPhone: '',\r\n            pickupPersonEmail: '',\r\n            pickupSecurityCode: '',\r\n            dropAddressSet: false,\r\n            dropAddressIsComplete: false,\r\n            dropAddressUserForcedValidation: false,\r\n            dropAddressPlaceId: '',\r\n            dropAddressLat: 0,\r\n            dropAddressLng: 0,            \r\n            dropAddressFullText: '',\r\n            dropAddressLine2: '',\r\n            dropAddressStreetShort: '',\r\n            dropAddressStreetLong: '',\r\n            dropAddressNumber: '',\r\n            dropAddressPostalCode: '',\r\n            dropAddressCityAreaShort: '',\r\n            dropAddressCityAreaLong: '',            \r\n            dropAddressCityShort: '',\r\n            dropAddressCityLong: '',\r\n            dropAddressStateAreaShort: '',\r\n            dropAddressStateAreaLong: '',            \r\n            dropAddressStateShort: '',\r\n            dropAddressStateLong: '',\r\n            dropAddressCountry: '',\r\n            dropDate: '',\r\n            dropTimeFrom: '',\r\n            dropTimeTo: '',\r\n            dropPersonName: '',\r\n            dropPersonPhone: '',\r\n            dropPersonEmail: '',\r\n            dropSecurityCode: ''\r\n        }\r\n        return data;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-create-service.ts","import { Injectable } from '@angular/core';\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class StorageService {\r\n\r\n\r\n    constructor() {\r\n    }\r\n\r\n    // get storage reference for sending image\r\n    getSendingImageRef(userId:string, sendingId:string, fileExtension:string = '.jpg') {\r\n        return firebase.storage().ref('userFiles/')\r\n                        .child(userId)\r\n                        .child(sendingId + fileExtension);\r\n    }\r\n\r\n    // get stotage  object format and type to be used\r\n    getImageStringFormatAndType(): {format:string; type:string} {\r\n        return {\r\n            format: firebase.storage.StringFormat.DATA_URL,\r\n            type: 'image/jpeg'\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage-service/storage-service.ts","import {\r\n    CardTokenData,\r\n    MERCADOPAGO_REF,\r\n    PaymentData,\r\n    paymentMethod,\r\n    PrepaymentData\r\n} from '../payment-gateways/mercadopago-model';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Http, Headers, Response } from '@angular/http';\r\n\r\ndeclare var Mercadopago:any;\r\n\r\nconst CFG = MERCADOPAGO_REF;\r\n// SANDBOX\r\nconst MERCADOPAGO_KEY = CFG.PUBLIC_KEY.SANDBOX.PUBLIC_KEY;\r\n// DEV URL\r\n//const SERVER_PAYMENT_URL = CFG.BACKEND_SERVER.LOCAL_URL.PAYMENT;\r\nconst SERVER_PAYMENT_URL = CFG.BACKEND_SERVER.DEV_URL.PAYMENT;\r\n\r\n@Injectable()\r\nexport class MercadopagoService {\r\n\r\n    mpago:any;\r\n\r\n    constructor(private http:Http) {\r\n        this.init();\r\n    }\r\n\r\n    // generate payment with the corresponding data\r\n    // from backend servers (PHP SDK)\r\n    // https://www.mercadopago.com.ar/developers/en/api-docs/custom-checkout/create-payments/\r\n    checkout(prepaymentData:PrepaymentData):Observable<any> {\r\n        let paymentData = this.generatePaymentData(prepaymentData);\r\n            return this.runServerPayment(paymentData);\r\n    }\r\n\r\n    // Retrieves information about available payment methods\r\n    //https://www.mercadopago.com.ar/developers/en/api-docs/custom-checkout/payment-methods/\r\n    guessPaymentMethod(input:string) {\r\n        let self = this;\r\n        let result:paymentMethod;\r\n        return new Promise((resolve, reject) => {\r\n        Mercadopago.getPaymentMethod({\r\n                \"bin\": input\r\n            }, function (status, response){\r\n                //console.log('guessPaymentMethod > status ', status);\r\n                if(status==200 || status==400) {\r\n                    result = self.getPaymentMethodResponse(status, response);\r\n                    resolve(result);\r\n                }else{\r\n                    reject(status);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    // create card token for payment\r\n    // https://www.mercadopago.com.ar/developers/en/api-docs/custom-checkout/card-tokens/\r\n    createCardToken(form:CardTokenData):Promise<any> {\r\n        let self = this;\r\n        return new Promise((resolve, reject) => {\r\n            //console.log('MP>>', Mercadopago);\r\n            Mercadopago.createToken(form, function(status, response) {\r\n                //console.log('createCardToken > status ', status, response);\r\n                if(status==200 || status==201 || status==400) {\r\n                    let result = self.getCardTokenResponse(status, response);\r\n                    resolve(result);\r\n                }else{\r\n                    reject(status);\r\n                }                \r\n            });\r\n        });          \r\n    }\r\n\r\n    // get error message text for card token error, given by API\r\n    getCardTokenErrorMsg(statusCode:number, cause:Array<any>):string {\r\n        return this.groupCardTokenApiErrorsMsgByStatuscode(statusCode, cause);\r\n    }\r\n\r\n    clearSession() {\r\n        return Mercadopago.clearSession();\r\n    }\r\n\r\n\r\n    /**\r\n     *  HELPERS\r\n     */\r\n\r\n    private init():void {\r\n        Mercadopago.setPublishableKey(MERCADOPAGO_KEY);\r\n    }\r\n\r\n\r\n    /**\r\n     *   CREATE PAYMENT\r\n     */\r\n\r\n    private generatePaymentData(preData:PrepaymentData) {\r\n        //console.log('preData > ', preData);\r\n        let data:PaymentData = {\r\n            transactionAmount:preData.transactionAmount,\r\n            token: preData.cardToken,\r\n            description:preData.description,\r\n            installments: 1, // will use 1 by default (?)\r\n            paymentMethodId: preData.paymentMethodId,\r\n            payerEmail: preData.payerEmail,\r\n            externalReference: preData.externalReference,\r\n            suid: preData.suid,\r\n            uid: preData.uid\r\n        }\r\n        //console.log('paymentData > ', data);\r\n        return data;\r\n    }\r\n\r\n    // send payment data to server\r\n    // expect response with transaction result\r\n    private runServerPayment(data:PaymentData):Observable<any> {\r\n        // set header\r\n        let headers = new Headers();\r\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n        let tokendata = 'transactionAmount='+data.transactionAmount\r\n                        +'&token='+data.token\r\n                        +'&description='+data.description\r\n                        +'&installments='+data.installments\r\n                        +'&paymentMethodId='+data.paymentMethodId\r\n                        +'&payerEmail='+data.payerEmail\r\n                        +'&externalReference='+data.externalReference\r\n                        +'&suid='+data.suid\r\n                        +'&uid='+data.uid;\r\n        return this.http.post(SERVER_PAYMENT_URL, tokendata, {headers:headers})\r\n                    .map((response) => {\r\n                        //console.log('payment response', response);          \r\n                        let paymentResult = this.extractPaymentResult(response);\r\n                        console.log('paymentResult', paymentResult);  \r\n                        return paymentResult;\r\n                    })\r\n                    .catch(this.handleHttpError);\r\n    }\r\n\r\n    /**\r\n     *  PROCESS RESPONSES\r\n     */\r\n\r\n    private extractPaymentResult(res) {\r\n        let body = res.json();\r\n        return body.payment_result || { };\r\n    }\r\n\r\n    private getPaymentMethodResponse(status:number, response:any) {\r\n        let result:paymentMethod = {\r\n            id:'',\r\n            name:'',\r\n            payment_type_id:'',    \r\n            status:'',\r\n            secure_thumbnail:'',            \r\n            thumbnail:'',\r\n            deferred_capture:'',\r\n            additional_info_needed:[],\r\n            min_allowed_amount:0,            \r\n            max_allowed_amount:0,\r\n            accreditation_time:0,\r\n            financial_institutions:[],    \r\n            _response_status: 0,\r\n            _error:'',     \r\n            _message:''       \r\n        }        \r\n        switch(status) {\r\n            case 200:\r\n                for(let index in result) {\r\n                    if(response[0][index]!=='undefined') {\r\n                        result[index] = response[0][index];\r\n                    }\r\n                }\r\n                break;\r\n            case 400:\r\n                for(let index in result) {\r\n                    if(response[index]!=='undefined') {\r\n                        result[index] = response[index];\r\n                    }\r\n                }\r\n                break;                \r\n        }\r\n        // set status\r\n        result._response_status = status;\r\n        return result;\r\n    }\r\n\r\n    private getCardTokenResponse(status:number, response:any) {\r\n        let result:any = {\r\n            id:'',\r\n            public_key:'',\r\n            cause: [],\r\n            error:'',     \r\n            message:'',\r\n            _response_status: 0\r\n        }        \r\n        switch(status) {\r\n            case 200:\r\n            case 201:\r\n                for(let index in result) {\r\n                    if(response[index]!=='undefined') {\r\n                        result[index] = response[index];\r\n                    }\r\n                }\r\n                break;\r\n            // all errors\r\n            default:\r\n                result.cause = response.cause;\r\n                result.error = response.error;\r\n                result.message = response.message;\r\n                break;                \r\n        }\r\n        // set status\r\n        result._response_status = status;\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     *  RESPONSES HELPERS\r\n     */\r\n\r\n    private handleHttpError (error: Response | any) {\r\n        // In a real world app, we might use a remote logging infrastructure\r\n        let err = {\r\n            msg:'',\r\n            status: 0,\r\n            body:''\r\n        };\r\n        if (error instanceof Response) {\r\n            err.body = error.text();\r\n            err.status = error.status\r\n            err.msg = `Error ${err.status}: ${error.statusText || ''}. ${err.body}`;\r\n        } else {\r\n            err.msg = error.message ? error.message : error.toString();\r\n        }\r\n        return Observable.throw(err);\r\n    }\r\n\r\n    // private extractData(res: Response) {\r\n    //     let body = res.json();\r\n    //     return body || { };\r\n    // }\r\n\r\n    /**\r\n     *  API ERROR CODES\r\n     */\r\n\r\n    // group error messages given by CardToken API\r\n    private groupCardTokenApiErrorsMsgByStatuscode(statusCode:number, cause:Array<any>):any {       \r\n        let result = {\r\n            errorCodes: [],\r\n            msg: '',\r\n        };\r\n        for(let index in cause) {\r\n            let code = cause[index].code;\r\n            result.errorCodes.push(code);\r\n            result.msg+= this.getMessageForCardTokenErrorCode(code) + '. ';\r\n        }\r\n        //console.log('groupCardTokenApiErrorsMsgByStatuscode > result', result);\r\n        return result;\r\n    }\r\n\r\n    // set error message given error code bt CardToken API   \r\n    // https://www.mercadopago.com.ar/developers/es/api-docs/custom-checkout/card-tokens/\r\n    private getMessageForCardTokenErrorCode(errorcode:string):string {\r\n        let msg:string = '';\r\n        switch(errorcode) {\r\n            case '301':\r\n                msg = 'Fecha expiración inválida';\r\n                break;\r\n            case '316':\r\n                msg = 'Nombre del Titular de tarjeta inválido';\r\n                break;                \r\n            case '324':\r\n                msg = 'Número de DNI inválido';\r\n                break;  \r\n            case 'E202':\r\n                msg = 'Número de tarjeta inválido';\r\n                break;\r\n            case 'E203':\r\n                msg = 'Código de seguridad inválido';\r\n                break;            \r\n            case 'E301':\r\n                msg = 'Error en el Número de Tarjeta';\r\n                break;                \r\n            case 'E302':\r\n                msg = 'Revisa el código de seguridad';\r\n                break;\r\n            case 'E305':\r\n                msg = 'Cantidad de caracteres del DNI inválido';\r\n                break;    \r\n            default:\r\n                msg = `No hay ayuda disponible (${errorcode})`;            \r\n        }\r\n        return msg;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/payment-gateways/mercadopago-service.ts","import { DateService } from '../date-service/date-service';\r\nimport {\r\n    NOTIFICATIONS_CFG,\r\n    SENDING_DB,\r\n    SendingNotifications,\r\n    SendingRequest\r\n} from '../../models/sending-model';\r\nimport { Injectable } from '@angular/core';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\n\r\nconst CFG = NOTIFICATIONS_CFG;\r\nconst DB = SENDING_DB;\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Injectable()\r\nexport class SendingNotificationsService {\r\n\r\n    // DATABASE REF\r\n    db: any = firebase.database();\r\n    dbRef: firebase.database.Reference = firebase.database().ref();\r\n\r\n    constructor(public dateSrv: DateService,\r\n        private localNotifications: LocalNotifications) {\r\n    }\r\n\r\n    // check if currentStage_Status exist in CFG object with notification settings\r\n    logCurrentStageStatus(currentStageStatus:string) {\r\n        return CFG.hasOwnProperty(currentStageStatus);\r\n    }\r\n\r\n    notifyCurrentStageStatus(currentStageStatus:string) {\r\n        let exist = CFG.hasOwnProperty(currentStageStatus);\r\n        console.log('notifyCurrentStageStatus: ', currentStageStatus, exist, CFG[currentStageStatus].NOTIFY);\r\n        if(exist) {\r\n            return CFG[currentStageStatus].NOTIFY;\r\n        }else{\r\n            console.log('notifyCurrentStageStatus > not exist', currentStageStatus);\r\n            return false;\r\n        }\r\n    }    \r\n\r\n    // new notifications list key\r\n    newKey(sendingId:string):any {\r\n        return this.dbRef.child(DB.ALL.REF + sendingId + DB.ALL._CHILD.NOTIFICATIONS).push().key;\r\n    }\r\n\r\n    logToDB(sendingId:string, contentLog:any):firebase.Promise<any> {\r\n        // key for new item in array\r\n        let newKey = this.newKey(sendingId);\r\n        // set paths\r\n        let updates = {};\r\n        updates[DB.ALL.REF + sendingId + DB.ALL._CHILD.NOTIFICATIONS + newKey] = contentLog;\r\n        updates[DB.NOTIFICATIONS_ALL.REF + newKey] = contentLog;\r\n        return this.dbRef.update(updates);\r\n    }\r\n\r\n    sendLocalNotification(sendingId:string, contentLog:any) {\r\n        this.localNotifications.schedule({\r\n            title: contentLog.title,\r\n            text: contentLog.msg,\r\n            at: new Date(new Date().getTime() + 5 * 1000),\r\n        });\r\n    }\r\n\r\n    setlogContent(sending:SendingRequest):any {\r\n        // LANGUAGE SELECTOR\r\n        const LANG = 'es';\r\n        // aux\r\n        let currentStage = sending._currentStage;\r\n        let currentStatus = sending._currentStatus;\r\n        let currentStageStatus = `${currentStage}_${currentStatus}`;\r\n        let timestamp = sending._stages[currentStage].status[currentStatus].timestamp;\r\n        let humanDate = this.dateSrv.transformTimestampToHuman(timestamp);\r\n        // content\r\n        let content:SendingNotifications = {\r\n            sendingId:sending.sendingId,\r\n            publicId: sending.publicId,\r\n            timestamp: timestamp,\r\n            currentStage: currentStage,\r\n            currentStatus: currentStatus,\r\n            currentStage_Status: currentStageStatus,\r\n            title: CFG[currentStageStatus].TITLE[LANG],\r\n            msg: CFG[currentStageStatus].MSG[LANG],\r\n            icon: CFG[currentStageStatus].ICON \r\n        }\r\n        // set content\r\n        switch(currentStageStatus) {\r\n            case 'created_registered': \r\n                content.msg = content.msg.replace('{DATE}', humanDate);\r\n                content.msg = content.msg.replace('{PUBLICID}', sending.publicId);\r\n                break;\r\n            case 'created_paid':\r\n                content.msg = content.msg.replace('{PRICE}', sending.price.toString());\r\n                break;\r\n            case 'created_enabled':\r\n                // no vars to replace\r\n                break;\r\n            case 'live_waitoperator':\r\n                // no vars to replace\r\n                break;             \r\n            case 'live_gotoperator':\r\n                content.msg = content.msg.replace('{OPERATOR_NAME}', sending._operator.displayName);\r\n                content.msg = content.msg.replace('{DATE}', humanDate);\r\n                break;    \r\n            case 'live_waitpickup':\r\n                content.msg = content.msg.replace('{CODE}', sending.pickupSecurityCode);\r\n                break;           \r\n            case 'live_pickedup':\r\n                content.msg = content.msg.replace('{DATE}', humanDate);\r\n                break;         \r\n            case 'live_inroute':\r\n                content.msg = content.msg.replace('{CODE}', sending.dropSecurityCode);\r\n                break;            \r\n            case 'live_dropped':\r\n                content.msg = content.msg.replace('{DATE}', humanDate);\r\n                break;        \r\n            case 'closed_complete':\r\n                content.msg = content.msg.replace('{DATE}', humanDate);\r\n                break;           \r\n            case 'closed_canceledbysender':\r\n                content.msg = content.msg.replace('{DATE}', humanDate);\r\n                break;                  \r\n            case 'closed_canceledbyoperator':\r\n                content.msg = content.msg.replace('{DATE}', humanDate);\r\n                break;                     \r\n            case 'closed_gotoperatorexpired':\r\n                content.msg = content.msg.replace('{DATE}', humanDate);\r\n                break;                                                                                                                                                                                          \r\n        }\r\n        return content;        \r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sending-service/sending-notifications-service.ts","\r\n/**\r\n * MODEL CONFIGURATIONS\r\n */\r\n\r\nexport const SENDING_CFG = {\r\n    STAGE: {\r\n        CREATED: {\r\n            ID: 'created',\r\n            STATUS: {\r\n                _LIST: ['registered', 'paid', 'enabled'],\r\n                REGISTERED: 'registered',\r\n                PAID: 'paid', // paid done, not yet confirmed\r\n                ENABLED: 'enabled', // payment confirmed\r\n            },\r\n            SUMMARY_FIELDS: [\r\n                'pickupAddressStreetShort',\r\n                'pickupAddressNumber',\r\n                'pickupAddressCityShort',\r\n                'dropAddressStreetShort',\r\n                'dropAddressNumber',\r\n                'dropAddressCityShort',\r\n                'objectShortName',\r\n                'timestamp',\r\n                'publicId',\r\n                '_currentStage',\r\n                '_currentStatus',\r\n                '_currentStage_Status',\r\n                'pickupAddressLat',\r\n                'pickupAddressLng',\r\n                'dropAddressLat',\r\n                'dropAddressLng'\r\n            ]\r\n        },\r\n        LIVE: {\r\n            ID: 'live',\r\n            STATUS: {\r\n                _LIST: ['waitoperator', 'gotoperator', 'waitpickup', 'pickedup', 'inroute', 'dropped','notificationsexpired'],\r\n                WAITOPERATOR: 'waitoperator',\r\n                GOTOPERATOR: 'gotoperator',\r\n                WAITPICKUP: 'waitpickup',\r\n                PICKEDUP: 'pickedup',\r\n                INROUTE: 'inroute',\r\n                DROPPED: 'dropped',\r\n                NOTIFICATIONSEXPIRED: 'notificationsexpired'\r\n            },\r\n            SUMMARY_FIELDS: [\r\n                'pickupAddressStreetShort',\r\n                'pickupAddressNumber',\r\n                'pickupAddressCityShort',\r\n                'dropAddressStreetShort',\r\n                'dropAddressNumber',\r\n                'dropAddressCityShort',\r\n                'objectShortName',\r\n                'timestamp',\r\n                'publicId',\r\n                '_currentStage',\r\n                '_currentStatus',\r\n                '_currentStage_Status',\r\n                'pickupAddressLat',\r\n                'pickupAddressLng',\r\n                'dropAddressLat',\r\n                'dropAddressLng',\r\n                'pickupTimeFrom',\r\n                'pickupTimeTo',\r\n                'dropTimeFrom',\r\n                'dropTimeTo',\r\n                'objectType',\r\n                'objectImageDownloadUrl',\r\n                'price',\r\n                'routeDistanceKm',\r\n                'objectDeclaredValue'\r\n            ]\r\n        },\r\n        CLOSED: {\r\n            ID: 'closed',\r\n            STATUS: {\r\n                _LIST: ['complete', 'canceledbysender', 'canceledbyoperator', 'gotoperatorexpired','payexpired'],\r\n                COMPLETE: 'complete',\r\n                CANCELEDBYSENDER: 'canceledbysender',\r\n                CANCELEDBYOPERATOR: 'canceledbyoperator',\r\n                GOTOPERATOREXPIRED: 'gotoperatorexpired',\r\n                PAYEXPIRED: 'payexpired' \r\n            }\r\n        }\r\n    },\r\n    PRICE_LIST: {\r\n        BASIC: {\r\n            MIN_FARE: {\r\n                VALUE: 100\r\n            },\r\n            PER_DISTANCE: [\r\n                { ID:'0-25', GRTR_THAN:0, SMLR_OR_EQUAL:25, VALUE_PER_KM: 10 },\r\n                { ID:'25-50', GRTR_THAN:25, SMLR_OR_EQUAL:50, VALUE_PER_KM: 8 },\r\n                { ID:'50-10000', GRTR_THAN:50, SMLR_OR_EQUAL:10000, VALUE_PER_KM: 5 },\r\n            ]                 \r\n        }\r\n    }\r\n}\r\n\r\nexport const NOTIFICATIONS_CFG = {\r\n        'created_registered': {\r\n            NOTIFY: false,\r\n            TITLE: {\r\n                'es': 'Servicio registrado',\r\n            },\r\n            MSG: {\r\n                'es': 'Registrado con ID #{PUBLICID}, el {DATE}',\r\n            },\r\n            ICON: 'checkmark'\r\n        },\r\n        'created_paid': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Pago aceptado',\r\n            },\r\n            MSG: {\r\n                'es': 'Se debitaron ${PRICE} de tu cuenta',\r\n            },\r\n            ICON: 'card'\r\n        },\r\n        'created_enabled': {    \r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Servicio habilitado',\r\n            },\r\n            MSG: {\r\n                'es': 'Servicio habilitado para ser tomado por un operador',\r\n            },\r\n            ICON: 'send'\r\n        },\r\n        'live_waitoperator': {\r\n            NOTIFY: false,\r\n            TITLE: {\r\n                'es': 'Esperando Operador',\r\n            },\r\n            MSG: {\r\n                'es': 'Aguardando ser tomado por Operador',\r\n            },\r\n            ICON: 'time'\r\n        },\r\n        'live_gotoperator': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Operador confirmado',\r\n            },\r\n            MSG: {\r\n                'es': 'El operador {OPERATOR_NAME}, fue confirmado el {DATE}',\r\n            },\r\n            ICON: 'person'\r\n        },\r\n        'live_waitpickup': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Código de seguridad: Retiro',\r\n            },\r\n            MSG: {\r\n                'es': 'El operador debe informar: {CODE}',\r\n            },\r\n            ICON: 'time'\r\n        },\r\n        'live_pickedup': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Servicio retirado',\r\n            },\r\n            MSG: {\r\n                'es': 'Retiro informado el {DATE}',\r\n            },\r\n            ICON: 'checkmark'\r\n        },\r\n        'live_inroute': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Código de seguridad: Entrega',\r\n            },\r\n            MSG: {\r\n                'es': 'Informar al operador: {CODE}',\r\n            },\r\n            ICON: 'time'\r\n        },\r\n        'live_dropped': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Servicio entregado',\r\n            },\r\n            MSG: {\r\n                'es': 'Entrega informada el {DATE}',\r\n            },\r\n            ICON: 'checkmark'\r\n        },\r\n        'closed_complete': {\r\n            NOTIFY: false,\r\n            TITLE: {\r\n                'es': 'Servicio completado',\r\n            },\r\n            MSG: {\r\n                'es': 'El servicio ha sido completado el {DATE}',\r\n            },\r\n            ICON: 'checkmark'\r\n        },\r\n        'closed_canceledbysender': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Cancelado por Solicitante',\r\n            },\r\n            MSG: {\r\n                'es': 'Has canceledo el servicio el {DATE}',\r\n            },\r\n            ICON: 'close'\r\n        },\r\n        'closed_canceledbyoperator': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Cancelado por Operador',\r\n            },\r\n            MSG: {\r\n                'es': 'Informó cancelación el {DATE}',\r\n            },\r\n            ICON: 'close'\r\n        },\r\n        'closed_gotoperatorexpired': {\r\n            NOTIFY: true,\r\n            TITLE: {\r\n                'es': 'Servicio expiró',\r\n            },\r\n            MSG: {\r\n                'es': 'El servicio no fue tomado y expiró el {DATE}',\r\n            },\r\n            ICON: 'close'\r\n        },\r\n    };\r\n\r\n/**\r\n * SENDING DATA \r\n * FIREBASE REFERENCES\r\n */\r\n\r\nexport const SENDING_DB = {\r\n    NOTIFICATIONS_ALL: {\r\n        REF: 'log_Notifications/',\r\n        _NODE: 'log_Notifications',\r\n        _CHILD: {\r\n            SENDINGID: '/sendingId/',\r\n            PUBLICID: '/publicId/',\r\n            TIMESTAMP: '/timestamp/',\r\n            CURRENT_STAGE: '/currentStage/',\r\n            CURRENT_STATUS: '/currentStatus/',\r\n            CURRENT_STAGE_STATUS: '/currentStage_Status/',\r\n            TITLE: '/title/',\r\n            MSG: '/msg/',\r\n            ICON: '/icon/',\r\n        }\r\n    },\r\n    ALL: {\r\n        REF: 'sendings/',\r\n        _NODE: 'sendings',\r\n        _CHILD: {\r\n            IMAGEURL: '/objectImageDownloadUrl/',\r\n            IMAGETEMP: '/objectImageUrlTemp/',\r\n            IMAGENAME: '/objectImageName/',\r\n            FULLPATH: '/objectImageFullPathRef/',\r\n            STAGES: '/_stages/',\r\n            CURRENT_STAGE: '/_currentStage/',\r\n            CURRENT_STATUS: '/_currentStatus/',\r\n            CURRENT_STAGE_STATUS: '/_currentStage_Status/',\r\n            OPERATOR: '/_operator/',\r\n            NOTIFICATIONS: '/_notifications/',\r\n            PAYMENTS: '/_payments/'\r\n        }\r\n    },\r\n    PUBLICID: {\r\n        REF: 'sendingsByPublicid/',\r\n        _NODE: 'sendingsByPublicid',\r\n    },\r\n    BYUSER: {\r\n        REF: 'userSendings/',\r\n        _NODE: 'userSendings',\r\n        _CHILD: {\r\n            ACTIVE: {\r\n                REF: '/active/',\r\n                _NODE: 'active'\r\n            },\r\n            CLOSED: {\r\n                REF: '/closed/',\r\n                _NODE: 'closed'\r\n            },\r\n            CURRENT_STAGE: {\r\n                REF: '/_currentStage/',\r\n                _NODE: '_currentStage'\r\n            },\r\n            CURRENT_STATUS: {\r\n                REF: '/_currentStatus/',\r\n                _NODE: '_currentStatus'\r\n            },\r\n            CURRENT_STAGE_STATUS: {\r\n                REF: '/_currentStage_Status/',\r\n                _NODE: '_currentStage_Status'\r\n            },\r\n            OPERATOR: {\r\n                REF: '/_operator/',\r\n                _NODE: '_operator'\r\n            },             \r\n        }\r\n    },    \r\n    STAGE_CREATED: {\r\n        REF: '_sendingsCreated/',\r\n        _NODE: 'sendingsCreated',\r\n        _CHILD: {\r\n            CURRENT_STAGE: {\r\n                REF: '/_currentStage/',\r\n                _NODE: '_currentStage'\r\n            },\r\n            CURRENT_STATUS: {\r\n                REF: '/_currentStatus/',\r\n                _NODE: '_currentStatus'\r\n            },\r\n            CURRENT_STAGE_STATUS: {\r\n                REF: '/_currentStage_Status/',\r\n                _NODE: '_currentStage_Status'\r\n            }  \r\n        }          \r\n    },    \r\n    STAGE_LIVE: {\r\n        REF: '_sendingsLive/',\r\n        _NODE: 'sendingsLive',\r\n        _LOCK: {\r\n                REF: '/_locked/',   \r\n                TIMESTAMP: 'timestamp',\r\n                BY_USERID: 'userid'\r\n        },\r\n        _CHILD: {\r\n            CURRENT_STAGE: {\r\n                REF: '/_currentStage/',\r\n                _NODE: '_currentStage'\r\n            },\r\n            CURRENT_STATUS: {\r\n                REF: '/_currentStatus/',\r\n                _NODE: '_currentStatus'\r\n            },\r\n            CURRENT_STAGE_STATUS: {\r\n                REF: '/_currentStage_Status/',\r\n                _NODE: '_currentStage_Status'\r\n            },\r\n            OPERATOR: {\r\n                REF: '/_operator/',\r\n                _NODE: '_operator'\r\n            },\r\n        }         \r\n    },    \r\n    STAGE_CLOSED: {\r\n        REF: 'sendingsClosed/',\r\n        _NODE: 'sendingsClosed',\r\n    },    \r\n}\r\n\r\n/**\r\n *  SENDING MODELS\r\n */\r\n\r\nexport class SendingRequestLiveSummary {\r\n    publicId: string;\r\n    timestamp: number;\r\n    price: number;           \r\n    routeDistanceKm: number;\r\n    _currentStage?: string;\r\n    _currentStatus?: string;\r\n    _currentStage_Status?: string;  \r\n    objectShortName: string;\r\n    objectImageDownloadUrl: string;\r\n    objectType: string;\r\n    pickupAddressLat: number;\r\n    pickupAddressLng: number;  \r\n    pickupAddressStreetShort: string;\r\n    pickupAddressNumber: string;\r\n    pickupAddressPostalCode: string;            \r\n    pickupAddressCityShort: string;\r\n    pickupTimeFrom: string;\r\n    pickupTimeTo: string;\r\n    dropAddressLat: number;\r\n    dropAddressLng: number;  \r\n    dropAddressStreetShort: string;\r\n    dropAddressNumber: string;            \r\n    dropAddressCityShort: string;\r\n    dropTimeFrom: string;\r\n    dropTimeTo: string;          \r\n}\r\n\r\nexport class SendingRequest {\r\n    sendingId: string;\r\n    publicId: string;\r\n    timestamp: any;\r\n    userUid: string;\r\n    price: number;   \r\n    priceMinFareApplied: boolean;  \r\n    priceItems: Array<any>;             \r\n    routeDistanceMt: number;\r\n    routeDistanceKm: number;\r\n    routeDistanceTxt: string;\r\n    routeDurationMin: number;\r\n    routeDurationTxt: string;\r\n    _stages?: SendingStages;\r\n    _currentStage?: string;\r\n    _currentStatus?: string;\r\n    _currentStage_Status?: string;  \r\n    _operator?: SendingOperator;\r\n    _shipmentId?: string;\r\n    _notifications?: Array<SendingNotifications>;\r\n    _payments?: any;\r\n    objectShortName: string;\r\n    objectImageSet: boolean;\r\n    objectImageUrlTemp: string;  // deleted once uploaded\r\n    objectImageDownloadUrl: string;\r\n    objectImageName: string;\r\n    objectImageFullPathRef: string;\r\n    objectType: string;\r\n    objectNoValueDeclared: boolean;\r\n    objectDeclaredValue: number;\r\n    pickupAddressSet: boolean;\r\n    pickupAddressIsComplete: boolean;\r\n    pickupAddressUserForcedValidation: boolean;\r\n    pickupAddressPlaceId: string;\r\n    pickupAddressLat: number;\r\n    pickupAddressLng: number;            \r\n    pickupAddressFullText: string;\r\n    pickupAddressLine2: string;\r\n    pickupAddressStreetShort: string;\r\n    pickupAddressStreetLong: string;\r\n    pickupAddressNumber: string;\r\n    pickupAddressPostalCode: string;\r\n    pickupAddressCityAreaShort: string;\r\n    pickupAddressCityAreaLong: string;            \r\n    pickupAddressCityShort: string;\r\n    pickupAddressCityLong: string;\r\n    pickupAddressStateAreaShort: string;\r\n    pickupAddressStateAreaLong: string;            \r\n    pickupAddressStateShort: string;\r\n    pickupAddressStateLong: string;\r\n    pickupAddressCountry: string;\r\n    pickupDate: string;\r\n    pickupTimeFrom: string;\r\n    pickupTimeTo: string;\r\n    pickupPersonName: string;\r\n    pickupPersonPhone: string;\r\n    pickupPersonEmail: string;\r\n    pickupSecurityCode: string;\r\n    dropAddressSet: boolean;\r\n    dropAddressIsComplete: boolean;\r\n    dropAddressUserForcedValidation: boolean;\r\n    dropAddressPlaceId: string;\r\n    dropAddressLat: number;\r\n    dropAddressLng: number;            \r\n    dropAddressFullText: string;\r\n    dropAddressLine2: string;\r\n    dropAddressStreetShort: string;\r\n    dropAddressStreetLong: string\r\n    dropAddressNumber: string;\r\n    dropAddressPostalCode: string;\r\n    dropAddressCityAreaShort: string;\r\n    dropAddressCityAreaLong: string;            \r\n    dropAddressCityShort: string;\r\n    dropAddressCityLong: string\r\n    dropAddressStateAreaShort: string;\r\n    dropAddressStateAreaLong: string;            \r\n    dropAddressStateShort: string;\r\n    dropAddressStateLong: string;\r\n    dropAddressCountry: string;\r\n    dropDate: string;\r\n    dropTimeFrom: string;\r\n    dropTimeTo: string;\r\n    dropPersonName: string;\r\n    dropPersonPhone: string;\r\n    dropPersonEmail: string;   \r\n    dropSecurityCode: string;       \r\n}\r\n\r\nexport class SendingNotifications {\r\n    sendingId:string;\r\n    publicId:string;\r\n    timestamp:number;\r\n    currentStage:string;\r\n    currentStatus:string;\r\n    currentStage_Status:string;\r\n    title:string;\r\n    msg:string;\r\n    icon:string;\r\n}\r\n\r\nexport class SendingStages {\r\n    _current: string;\r\n    created: StageCreatedNode;\r\n    live: StageLiveNode;\r\n    closed: StageClosedNode;\r\n}\r\n\r\nexport class StageCreatedNode {\r\n    _current: string;\r\n    set: boolean;\r\n    status: {\r\n        registered: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },\r\n        paid: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        }, \r\n        enabled: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },                \r\n    } \r\n}\r\n\r\nexport class StageLiveNode {\r\n    _current: string;\r\n    set: boolean;\r\n    status: {\r\n        waitoperator: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },\r\n        gotoperator: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },        \r\n        waitpickup: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        }, \r\n        pickedup: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },               \r\n        inroute: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },     \r\n        dropped: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },        \r\n        notificationsexpired: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },                  \r\n    } \r\n}\r\n\r\nexport class StageClosedNode {\r\n    _current: string;\r\n    set: boolean;\r\n    status: {\r\n        completed: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },\r\n        canceledbysender: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },        \r\n        canceledbyoperator: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },     \r\n        gotoperatorexpired: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },      \r\n        payexpired: {\r\n            set: boolean,\r\n            timestamp: number,\r\n        },                   \r\n    } \r\n}\r\n\r\nexport class SendingOperator {\r\n    userId:string;\r\n    displayName:string;\r\n    photoURL:string;\r\n    phone:string;\r\n    email:string;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/sending-model.ts","\r\n/**\r\n * MODEL CONFIGURATIONS\r\n */\r\n\r\nexport const SHIPMENT_CFG = {\r\n    CONFIRM_TIMEOUT: 40,\r\n    WAIT_AFTER_UNLOCK: 10,\r\n    SUMMARY_FIELDS: [\r\n        'objectShortName',\r\n        'pickupAddressLat',\r\n        'pickupAddressLng',  \r\n        'pickupAddressStreetShort',\r\n        'pickupAddressNumber',\r\n        'pickupAddressPostalCode',            \r\n        'pickupAddressCityShort',\r\n        'pickupTimeFrom',\r\n        'pickupTimeTo',\r\n        'dropAddressLat',\r\n        'dropAddressLng',  \r\n        'dropAddressStreetShort',\r\n        'dropAddressNumber',            \r\n        'dropAddressCityShort',\r\n        'dropTimeFrom',\r\n        'dropTimeTo', \r\n    ],\r\n    NOTIFICATIONS_TO_SHOW: {\r\n        'created_registered': false,\r\n        'created_paid': false,\r\n        'created_enabled': false,\r\n        'live_waitoperator': false,\r\n        'live_gotoperator':true,\r\n        'live_waitpickup': false,\r\n        'live_pickedup':true,\r\n        'live_inroute':true,\r\n        'live_dropped':true,\r\n        'closed_complete':true,\r\n        'closed_canceledbysender':true,\r\n        'closed_canceledbyoperator':true,\r\n        'closed_gotoperatorexpired':true\r\n    }\r\n}\r\n\r\n/**\r\n * SHIPMENT DATA \r\n * FIREBASE REFERENCES\r\n */\r\n\r\nexport const SHIPMENT_DB = {\r\n    ALL: {\r\n        REF: 'shipments/',\r\n        _NODE: 'shipments',\r\n        _CHILD: {\r\n            CURRENT_STAGE_STATUS: {\r\n                REF: '/_currentStage_Status/',\r\n                _NODE: '_currentStage_Status'\r\n            }\r\n        }\r\n    },\r\n    HASHID: {\r\n        REF: 'shipmentsByPublicid/',\r\n        _NODE: 'shipmentsByPublicid',\r\n    },\r\n    BYUSER: {\r\n        REF: 'userShipments/',\r\n        _NODE: 'userShipments',\r\n        _CHILD: {\r\n            ACTIVE: {\r\n                REF: '/active/',\r\n                _NODE: 'active'\r\n            },\r\n            CLOSED: {\r\n                REF: '/closed/',\r\n                _NODE: 'closed'\r\n            },\r\n            CURRENT_STAGE_STATUS: {\r\n                REF: '/_currentStage_Status/',\r\n                _NODE: '_currentStage_Status'\r\n            }\r\n        }\r\n    },\r\n}\r\n\r\n/**\r\n *  SHIPMENT MODELS\r\n */\r\n\r\nexport class ShipmentRequest {\r\n    shipmentId: string;\r\n    publicId: string;\r\n    timestamp: number;\r\n    userUid: string;\r\n    sendingId: string;\r\n    sendingPublicId: string;\r\n    summary: ShipmentRequestSummary;\r\n    _active: string;\r\n    _currentStage_Status: string;\r\n}\r\n\r\nexport class ShipmentRequestSummary {\r\n    objectShortName: string;\r\n    pickupAddressLat: number;\r\n    pickupAddressLng: number;  \r\n    pickupAddressStreetShort: string;\r\n    pickupAddressNumber: string;\r\n    pickupAddressPostalCode: string;            \r\n    pickupAddressCityShort: string;\r\n    pickupTimeFrom: string;\r\n    pickupTimeTo: string;\r\n    dropAddressLat: number;\r\n    dropAddressLng: number;  \r\n    dropAddressStreetShort: string;\r\n    dropAddressNumber: string;            \r\n    dropAddressCityShort: string;\r\n    dropTimeFrom: string;\r\n    dropTimeTo: string;          \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/shipment-model.ts","import { DateService } from '../date-service/date-service';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class CheckoutService {\r\n\r\n    constructor(private dateSrv: DateService) {}\r\n\r\n    generateTokenDataFromForm(formValues:any) {\r\n        return {\r\n            cardNumber: formValues.cardNumber,\r\n            securityCode: formValues.securityCode,\r\n            cardExpirationMonth: this.dateSrv.getMonthStr(formValues.cardExpiration),\r\n            cardExpirationYear: this.dateSrv.getYearStr(formValues.cardExpiration),\r\n            cardholderName: formValues.cardHolderName, // card< h OR H >olderName ???\r\n            docType: formValues.docType,\r\n            docNumber: formValues.docNumber,\r\n            paymentMethodId: formValues.paymentMethodId\r\n        }\r\n    }\r\n\r\n    getPaymentResultState(checkoutResponse) {\r\n        let state = {\r\n            title: '',\r\n            message: '',\r\n            setSendingPaid: false,\r\n            setSendingEnabled: false\r\n        }\r\n        // no response, show error and die\r\n        if (!checkoutResponse.responseSuccess) {\r\n            state.title = 'Ocurrió un Error'\r\n            state.message = `El pago no pudo procesarse, por favor intentalo de nuevo. (${checkoutResponse.responseCode})`;\r\n        }\r\n        // payment not completed, show error msg/code and die\r\n        if (!checkoutResponse.paymentCompleted) {\r\n            state.title = 'Pago incompleto';\r\n            state.message = checkoutResponse.paymentMessage;\r\n        }\r\n        // payment completed  and rejected, show error and die\r\n        if (checkoutResponse.paymentCompleted \r\n            && !checkoutResponse.paymentSuccess) {\r\n            state.title = 'Pago rechazado';\r\n            state.message = checkoutResponse.paymentMessage;\r\n        }\r\n        // payment succesfull, show if pending\r\n        if (checkoutResponse.paymentCompleted\r\n            && checkoutResponse.paymentSuccess \r\n            && checkoutResponse.paymentStatusCode == 'in_process') {\r\n            state.title = 'Pago en Proceso';\r\n            state.message = checkoutResponse.paymentMessage;\r\n            state.setSendingPaid = true;\r\n        }\r\n        // payment succesfull, show if acredited\r\n        if (checkoutResponse.paymentCompleted\r\n            && checkoutResponse.paymentSuccess \r\n            && checkoutResponse.paymentStatusCode == 'approved') {\r\n            state.title = 'Recibimos tu Pago';\r\n            state.message = checkoutResponse.paymentMessage;\r\n            state.setSendingPaid = true;\r\n            state.setSendingEnabled = true;\r\n        }        \r\n        return state;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/checkout-service/checkout-service.ts","import { PriceService } from '../../providers/price-service/price-service';\r\nimport { CheckoutPage } from '../checkout/checkout';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, NavParams, LoadingController, AlertController, ToastController } from 'ionic-angular';\r\n\r\nimport { SendingService } from '../../providers/sending-service/sending-service';\r\nimport { GoogleMapsService } from '../../providers/google-maps-service/google-maps-service';\r\n\r\nimport { SendingsTabsPage } from '../sendings-tabs/sendings-tabs';\r\nimport { SendingCreatePage } from '../sending-create/sending-create';\r\nimport { SendingCreate2Page } from '../sending-create-2/sending-create-2';\r\nimport { SendingCreate3Page } from '../sending-create-3/sending-create-3';\r\n\r\n@Component({\r\n    selector: 'page-sending-create-4',\r\n    templateUrl: 'sending-create-4.html',\r\n})\r\n\r\nexport class SendingCreate4Page implements OnInit {\r\n\r\n    sending: any;\r\n    map: any;\r\n    routeDetails: any;\r\n    price = {\r\n        value: 0,\r\n        applyMinFare: false,\r\n        items: [],\r\n        processedKms: 0\r\n    };  \r\n\r\n    constructor(public navCtrl: NavController,\r\n        public navParams: NavParams,\r\n        public alertCtrl: AlertController,\r\n        public toastCtrl: ToastController,\r\n        public loadingCtrl: LoadingController,\r\n        public sendingSrv: SendingService,\r\n        public gmapsSrv: GoogleMapsService,\r\n        public priceSrv: PriceService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.log('f4 > init');\r\n        // get sending data\r\n        this.getSendingFromParams();\r\n        // calculate distance\r\n        this.initMap();\r\n        this.initRouteDetails();\r\n        this.getRoute();\r\n    }\r\n\r\n    /** \r\n     *  MAIN ACTIONS\r\n     */\r\n\r\n    runCreate() {\r\n        this.create();\r\n    }\r\n\r\n    runPayment() {\r\n        this.pay();\r\n    }\r\n\r\n    goBack(step: number): void {\r\n        this.goBackToStep(step);\r\n    }\r\n\r\n    cancelSending() {\r\n        this.cancel();\r\n    }\r\n\r\n    goToListing() {\r\n        this.confirmGoToListing();\r\n    }    \r\n\r\n    /**\r\n     * ----------------\r\n     *  PRIVATE METHODS\r\n     * ----------------\r\n     */\r\n\r\n    /**\r\n     *  PAYMENT\r\n     */\r\n\r\n    private pay() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Pagar el Servicio',\r\n            message: 'El servicio se ha registrado correctamente, procede con el pago de $' + this.sending.price + ' para confirmarlo.',\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('f4 > submit > confirm > canceled');\r\n                        this.goToSendings();\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Pagar',\r\n                    handler: () => {\r\n                        console.log('f4 > goTo Checkout');\r\n                        this.goToCheckout();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();  \r\n    }\r\n\r\n    private goToCheckout() {\r\n        this.navCtrl.push(CheckoutPage, { sending: this.sending });        \r\n    }\r\n\r\n    /**\r\n     *  CREATE\r\n     */\r\n\r\n    private create() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Nuevo Servicio',\r\n            message: 'Confirmo que los datos ingresados estan correctos y deseo crear un nuevo servicio',\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('f4 > submit > confirm > canceled');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Confirmar',\r\n                    handler: () => {\r\n                        console.log('f4 > submit > confirm > process');\r\n                        this.createSending();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    private createSending() {\r\n        console.info('f4 > createSending > start');\r\n        // loader effect\r\n        let loader = this.loadingCtrl.create({\r\n            content: 'registrando servicio ...',\r\n        });\r\n        loader.present();\r\n        // save to db\r\n        this.create\r\n        this.sendingSrv.create(this.sending)\r\n            .then((sending) => {\r\n                console.log('create success > steps ', sending);\r\n                this.sending = sending;\r\n                loader.dismiss()\r\n                    .then(() => {\r\n                        this.runPayment();\r\n                    });\r\n            })\r\n            .catch((error) => {\r\n                console.log('f4 > create sending > error', error);\r\n                loader.dismiss()\r\n                    .then(() => {\r\n                        let alertError = this.alertCtrl.create({\r\n                            title: 'Ocurrió un error',\r\n                            subTitle: 'Ocurrió un error al intentar guardar el envío, por favor intenta nuevamente.',\r\n                            buttons: [{\r\n                                text: 'Cerrar',\r\n                                role: 'cancel'\r\n                            }]\r\n                        });\r\n                        // show\r\n                        alertError.present();\r\n                    });\r\n            });\r\n    }\r\n\r\n    private cancel() {\r\n        let alert = this.alertCtrl.create({\r\n            title: '¿Cancelar Envío?',\r\n            message: 'Se perderán todos los datos ingresados del Nuevo Envío.',\r\n            buttons: [\r\n                {\r\n                    text: 'No',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('f4 > cancel form > no, continue');\r\n\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Si',\r\n                    handler: () => {\r\n                        console.log('f4 > cancel form > yes, cancel');\r\n                        this.goToSendings();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();        \r\n    }\r\n\r\n    /**\r\n     *  NAVIGATION\r\n     */\r\n\r\n    private confirmGoToListing() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Volver al listado?',\r\n            message: 'El servicio esta creado y puedes finalizar el pago luego, hasta una hora antes de la hora de retiro.',\r\n            buttons: [\r\n                {\r\n                    text: 'No',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('f4 > cancel form > no, continue');\r\n\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Si, volver',\r\n                    handler: () => {\r\n                        console.log('f4 > cancel form > yes, cancel');\r\n                        this.goToSendings();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();        \r\n    }\r\n\r\n    private goBackToStep(step: number) {\r\n        console.log('f4 > go to f' + step + ', include this.sending in params');\r\n        let page: any;\r\n        switch (step) {\r\n            case 1:\r\n                page = SendingCreatePage;\r\n                break;\r\n            case 2:\r\n                page = SendingCreate2Page;\r\n                break;\r\n            case 3:\r\n                page = SendingCreate3Page;\r\n                break;\r\n        }\r\n        this.navCtrl.setRoot(page, {\r\n            sending: this.sending\r\n        });\r\n    }\r\n\r\n    private goToSendings() {\r\n        this.navCtrl.setRoot(SendingsTabsPage);\r\n    }\r\n\r\n    /**\r\n     *  DATA\r\n     */\r\n\r\n    private getRoute() {\r\n        console.info('f4 > getRoute > init');\r\n        // latlng\r\n        let origin = this.gmapsSrv.setlatLng(this.sending.pickupAddressLat, this.sending.pickupAddressLng);\r\n        let destination = this.gmapsSrv.setlatLng(this.sending.dropAddressLat, this.sending.dropAddressLng);\r\n        // display map\r\n        let directionsDisplay = this.gmapsSrv.getDirectionsRenderer();\r\n        directionsDisplay.setMap(this.map);\r\n        // get\r\n        this.gmapsSrv.getRouteDirections(origin, destination)\r\n            .then((response) => {\r\n                if(response.status === 'OK'){\r\n                    console.log('f4 > getRoute success > ', response);\r\n                    // show directions in map\r\n                    directionsDisplay.setDirections(response);\r\n                    // get routeDetails\r\n                    this.routeDetails = this.gmapsSrv.inspectRouteDetails(response);\r\n                    // set price\r\n                    this.setPrice();\r\n                    // update sending\r\n                    this.updateSendingPrice();\r\n                    this.updateSendingRoute();\r\n                }else{\r\n                    console.error('f4 > getRoute > response error > ', response.status);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error('f4 > getRoute > error > ', error);\r\n            });        \r\n    }\r\n\r\n    /**\r\n     * Sending\r\n     */\r\n\r\n    private setPrice():void {\r\n        console.log('setSendingPrice > ', this.routeDetails.totalDistance.kms);\r\n        this.price = this.priceSrv.setSendingPrice(this.routeDetails.totalDistance.kms);\r\n    }\r\n\r\n    private updateSendingPrice() {\r\n        this.sending.price = this.price.value;\r\n        this.sending.priceMinFareApplied = this.price.applyMinFare; \r\n        this.sending.priceItems = this.price.items;\r\n    }\r\n\r\n    private updateSendingRoute() {\r\n        this.sending.routeDistanceMt = this.routeDetails.totalDistance.meters;\r\n        this.sending.routeDistanceKm = this.routeDetails.totalDistance.kms;\r\n        this.sending.routeDistanceTxt = this.routeDetails.totalDistance.text;\r\n        this.sending.routeDurationMin = this.routeDetails.totalDuration.min;\r\n        this.sending.routeDurationTxt = this.routeDetails.totalDuration.text;               \r\n    }\r\n\r\n\r\n    /**\r\n     *  INIT \r\n     */\r\n\r\n    private getSendingFromParams() {\r\n        console.log('f4 > get navParams > this.sending');\r\n        console.log('f4 > param > ', this.navParams.get('sending'));\r\n        this.sending = this.navParams.get('sending');\r\n    }\r\n\r\n    private initRouteDetails() {\r\n        this.routeDetails = this.gmapsSrv.initRouteDetails();\r\n    }\r\n\r\n    private initMap() {\r\n        console.info('f4 > initMap');\r\n        let latlng = this.gmapsSrv.setlatLng(-34.603684, -58.381559);\r\n        let divMap = (<HTMLInputElement>document.getElementById('mapf4'));\r\n        this.map = this.gmapsSrv.initMap(latlng, divMap);\r\n    }  \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sending-create-4/sending-create-4.ts","import { SENDING_CFG } from '../../models/sending-model';\r\nimport { Injectable } from '@angular/core';\r\n\r\nconst CFG = SENDING_CFG.PRICE_LIST.BASIC;\r\n\r\n@Injectable()\r\nexport class PriceService {\r\n\r\n    constructor() {}\r\n\r\n    setSendingPrice(totalKms:number) {\r\n        console.log('setSendingPrice', totalKms);\r\n        let ranges = CFG.PER_DISTANCE;\r\n        let range;\r\n        let priceResult = {\r\n            value: null,\r\n            applyMinFare: false,\r\n            items: [],\r\n            processedKms: 0\r\n        }\r\n        // aux\r\n        let aux = {\r\n            pendingKms: totalKms,\r\n            processedKms: 0,\r\n            subtotal: 0,\r\n            items: [],\r\n        }\r\n        // iterate through all ranges of price per km\r\n        // each range has a km price, and the total is the sum of all subtotals\r\n        for(let index in ranges) {\r\n            range = ranges[index];\r\n            // calcKms\r\n            let kmsToProcess = this.calcKmsToProcessForCurrentRange(range, aux.pendingKms);\r\n            // calcSubtotal\r\n            let subtotal = this.calcSubtotalForCurrentRange(range, kmsToProcess);\r\n            aux.subtotal+= subtotal;\r\n            aux.items.push({rangeId: range.ID, pricePerKm: range.VALUE_PER_KM, kms: kmsToProcess, subtotal: subtotal });\r\n            // update Aux values\r\n            aux.pendingKms-= kmsToProcess;\r\n            aux.processedKms+= kmsToProcess;\r\n            console.log('done range:', range.ID, aux);\r\n            if(aux.pendingKms == 0) {\r\n                break;\r\n            }\r\n        }\r\n        // round price\r\n        aux.subtotal = this.roundPrice(aux.subtotal);\r\n        // calc min fare\r\n        priceResult.applyMinFare = this.isMinFareApplicable(aux.subtotal);\r\n        priceResult.value = priceResult.applyMinFare ? CFG.MIN_FARE.VALUE : aux.subtotal;\r\n        priceResult.items = aux.items;\r\n        priceResult.processedKms = aux.processedKms;\r\n        console.log('final price', priceResult);\r\n        return priceResult;\r\n    }    \r\n\r\n    private calcKmsToProcessForCurrentRange(range:any, pendingKms:number) {\r\n        let calc = 0;\r\n        let segmentSubtotal = range.SMLR_OR_EQUAL - range.GRTR_THAN;\r\n        if(pendingKms>segmentSubtotal) {\r\n            // pendingKms is greater than range Max\r\n            // calculate max kms of current range minus min range value\r\n            calc = segmentSubtotal;\r\n        }else{\r\n            // pendingKms is smaller than range Max\r\n            // calculate the pendingKms\r\n            calc = pendingKms;\r\n        }\r\n        return calc;\r\n    }\r\n\r\n    private calcSubtotalForCurrentRange(range:any, kmsToProcess) {\r\n        return range.VALUE_PER_KM * kmsToProcess;\r\n    }\r\n\r\n    private roundPrice(value) {\r\n        return Math.round(value);\r\n    }\r\n\r\n    private isMinFareApplicable(finalPrice):boolean {\r\n        let applicable:boolean;\r\n        applicable = CFG.MIN_FARE.VALUE > finalPrice ? true : false;\r\n        return applicable;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/price-service/price-service.ts","import { Subscription } from 'rxjs/Rx';\r\nimport { AccountService } from '../../providers/account-service/account-service';\r\nimport { LoadingController } from 'ionic-angular';\r\nimport { ShipmentsService } from '../../providers/shipments-service/shipments-service';\r\nimport { SendingService } from '../../providers/sending-service/sending-service';\r\nimport { SendingRequest } from '../../models/sending-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActionSheetController, AlertController, NavController, NavParams, ViewController } from 'ionic-angular';\r\n\r\n\r\n@Component({\r\n    selector: 'page-shipment-detail',  \r\n    templateUrl: 'shipment-detail.html',\r\n})\r\nexport class ShipmentDetailPage implements OnInit {\r\n\r\n    shipmenttab: string = \"notifications\";\r\n    shipmentId:string;\r\n    sendingId:string;\r\n    senderId:string;    \r\n    sending:SendingRequest;\r\n    shipment:any;\r\n    sender:any;\r\n    shipmentSubs:any;\r\n    sendingSubs:Subscription;\r\n    senderSubs:Subscription;\r\n    notifications:Array<any>;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public navParams: NavParams,\r\n        public actionShCtrl: ActionSheetController,\r\n        public alertCtrl: AlertController,\r\n        public sendingSrv: SendingService,\r\n        public shipmentSrv: ShipmentsService,\r\n        public viewCtrl: ViewController,\r\n        public loadingCtrl: LoadingController,\r\n        private accountSrv: AccountService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        console.info('get params');\r\n        this.shipmentId = this.navParams.get('shipmentId');\r\n        this.sendingId = this.navParams.get('sendingId');\r\n        // get shipment/sending \r\n        let loader = this.loadingCtrl.create({ content: \"Cargando ...\" });     \r\n        let shObs = this.shipmentSrv.getObs(this.shipmentId);\r\n        this.shipmentSubs = shObs.subscribe(snapshot => {\r\n            this.shipment = snapshot.val();\r\n            loader.dismiss();\r\n        })\r\n        let obs = this.sendingSrv.getByIdObs(this.sendingId, true);\r\n        this.sendingSubs = obs.subscribe(snapshot => {\r\n            this.sending = snapshot.val();\r\n            this.setNotificationsAsArray();\r\n            let obs = this.accountSrv.getObs(true);\r\n            this.senderSubs = obs.subscribe((snap) => {\r\n                    let account = snap.val();\r\n                    this.sender = account.profile.data;\r\n                });                \r\n        });           \r\n    }    \r\n\r\n    ionViewWillLeave() {\r\n        console.log('__SHD__didLeave()');\r\n        if(this.shipmentSubs){\r\n            this.shipmentSubs.unsubscribe();\r\n        }\r\n        if(this.sendingSubs) {\r\n            this.sendingSubs.unsubscribe();\r\n        }\r\n        this.sending = null;\r\n        this.shipment = null;\r\n    }\r\n\r\n    goToTab(tab: string) {\r\n        this.shipmenttab = tab;\r\n    }\r\n\r\n    openActionSh() {\r\n        let actionSh = this.actionShCtrl.create({\r\n            title: 'Notificar ',\r\n            buttons: [\r\n                {\r\n                    text: 'Interrumpir servicio',\r\n                    icon: 'close',\r\n                    handler: () => {\r\n                        actionSh.dismiss()\r\n                            .then(() => {\r\n                                this.showAlertNotifyAction('cancelService');\r\n                            })\r\n                            .catch(err => console.log(err));\r\n                            return false;\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        actionSh.present();\r\n    }\r\n\r\n\r\n    private setNotificationsAsArray() {\r\n        this.notifications = [];\r\n        let notifis = this.shipment._notifications || [];\r\n        for(let key in notifis) {\r\n            //console.log(key, notifis[key]);\r\n            let item = {\r\n                key: key,\r\n                data: notifis[key]\r\n            };\r\n            this.notifications.push(item);\r\n        }\r\n        //console.log(this.notifications);\r\n    }\r\n\r\n    private showAlertNotifyAction(action:string) {\r\n        let content = {\r\n            set: false,\r\n            title: '',\r\n            message: '',\r\n        }\r\n        switch(action) {\r\n            case 'pickupDone':\r\n                    content.set = true;\r\n                    content.title = 'Servicio Retirado';\r\n                    content.message = 'Confirmo que he retirado el servicio';        \r\n                break;\r\n            case 'dropDone':\r\n                    content.set = true;\r\n                    content.title = 'Servicio Entregado';\r\n                    content.message = 'Confirmo que he entregado el servicio';                \r\n                break;\r\n            case 'cancelService':\r\n                    content.set = true;\r\n                    content.title = 'Seguro deseas interrumpir el Servicio?';\r\n                    content.message = 'El Servicio se registrará como interrumpido e inconcluso, es posible que se envien notificaciones a las partes.';                \r\n                break;                \r\n        }\r\n        if(content.set) {\r\n            let alert = this.alertCtrl.create({\r\n                title: content.title,\r\n                message: content.message,\r\n                buttons: [\r\n                    {\r\n                        text: 'No',\r\n                        role: 'cancel',\r\n                        handler: () => {\r\n                            console.log('Cancel clicked');\r\n                        }\r\n                    },\r\n                    {\r\n                        text: 'Sí, confirmo',\r\n                        handler: () => {\r\n                            this.runNotifyAction(action);\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n            alert.present();\r\n        }else{\r\n            console.error('AlertController action param invalid');\r\n        }\r\n\r\n    }\r\n\r\n    private runNotifyAction(action:string):void {      \r\n        switch(action) {\r\n\r\n            case 'pickupDone':\r\n                this.sendingSrv.setPickedup(this.sending.sendingId)\r\n                    .then((result) => {\r\n                        console.log('runNotifyAction > success', result);\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('runNotifyAction > failed', error);\r\n                    });\r\n                break;\r\n\r\n            case 'dropDone':\r\n                this.sendingSrv.setDropped(this.sending.sendingId)\r\n                    .then((result) => {\r\n                        console.log('runNotifyAction > success', result);\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('runNotifyAction > failed', error);\r\n                    });\r\n                break;\r\n\r\n            case 'cancelService':\r\n                let loading = this.loadingCtrl.create({ content: 'cancelando ...'});\r\n                this.sendingSrv.setCanceledbyoperator(this.sending.sendingId)\r\n                    .then(() => {\r\n                        console.log('service canceled ok');\r\n                        let alert = this.alertCtrl.create({\r\n                            title: 'Cancelación en proceso',\r\n                            subTitle: 'La cancelación del servicio se ha iniciado correctamente.',\r\n                            buttons: ['Cerrar']\r\n                        });\r\n                        loading.dismiss()\r\n                            .then(() => {\r\n                                console.log('loading dismissed');\r\n                                alert.present();\r\n                                return alert.onDidDismiss(() => {\r\n                                    console.log('alert dismissed');\r\n                                    this.navCtrl.pop();\r\n                                });\r\n                            })\r\n                            .catch(err => console.log(err));\r\n                    })\r\n                    .catch(err => {\r\n                        console.log('sending canceled error', err.error);\r\n                        let alert = this.alertCtrl.create({\r\n                            title: 'Error',\r\n                            subTitle: 'Ocurrió un error, no se pudo iniciar la cancelación del servicio, vuelve a intentarlo.',\r\n                            buttons: ['Cerrar']\r\n                        });\r\n                        loading.dismiss()\r\n                            .then(() => {\r\n                                alert.present();\r\n                            })\r\n                            .catch(err => console.log(err));\r\n                    });                \r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shipment-detail/shipment-detail.ts","import { SendingService } from '../../providers/sending-service/sending-service';\r\nimport { SHIPMENT_CFG } from '../../models/shipment-model';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Alert, NavController, NavParams, AlertController, ToastController, LoadingController } from 'ionic-angular';\r\nimport { ShipmentsPage } from '../shipments/shipments';\r\nimport { ShipmentCreatePage } from '../shipment-create/shipment-create';\r\n\r\nconst TIMEOUT = SHIPMENT_CFG.CONFIRM_TIMEOUT;\r\n\r\n@Component({\r\n    selector: 'page-shipment-create-2',\r\n    templateUrl: 'shipment-create-2.html',\r\n})\r\nexport class ShipmentCreate2Page implements OnInit {\r\n\r\n    // sending data\r\n    sendingId:string = '';\r\n    sendingVacant:any;\r\n    // aux\r\n    timer:any;\r\n    timeout:number;\r\n    timesup:boolean;\r\n    confirmAlert:Alert;\r\n    confirmAlertOpen: boolean;\r\n    confirmCanceled: boolean;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public navParams: NavParams,\r\n        public alertCtrl: AlertController,\r\n        public toastCtrl: ToastController,\r\n        public loadingCtrl: LoadingController,\r\n        public sendingSrv: SendingService) {\r\n            this.sendingId = navParams.get('sendingId');\r\n            this.sendingVacant = navParams.get('sending');\r\n            console.log('sendingId > ', this.sendingId, this.sendingVacant);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.initTimer();\r\n        this.initConfirmAlert();\r\n    }\r\n\r\n    showConfirmAlert() {\r\n        this.confirmAlert.present();\r\n        this.confirmAlertOpen = true;\r\n    }\r\n\r\n    showTimerToast() {\r\n        this.presentTimerToast();\r\n    }\r\n\r\n    cancel() {\r\n        this.stopTimer();\r\n        this.confirmCanceled = true;\r\n        let loading = this.loadingCtrl.create({\r\n            content: 'cancelando ...'\r\n        });\r\n        loading.present();\r\n        // just try to unlock\r\n        this.unlockSending();\r\n        setTimeout(() => {\r\n            loading.dismiss()\r\n                .then(() => {\r\n                    this.navCtrl.setRoot(ShipmentCreatePage);\r\n                })\r\n        },3000);\r\n    }\r\n\r\n    private presentSuccessToast() {\r\n        let toast = this.toastCtrl.create({\r\n            message: 'Tienes una nueva carga!',\r\n            duration: 2000,\r\n            position: 'bottom'\r\n        });\r\n        toast.present();\r\n    }\r\n\r\n    private initConfirmAlert():void {\r\n        this.confirmCanceled = false;\r\n        this.confirmAlertOpen = false;\r\n        this.confirmAlert = this.alertCtrl.create({\r\n            title: 'Confirmar',\r\n            message: 'El \"Aceptar y Confirmar\" es un compromiso de realizar el servicio en los tiempos y condiciones detalladas.',\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        console.log('Cancel clicked');\r\n                    }\r\n                },\r\n                {\r\n                    text: 'Si, Acepto y Confirmo la toma del servicio',\r\n                    handler: () => {\r\n                        console.log('Confirm clicked');\r\n                        this.confirmAlertOpen = true;\r\n                        this.confirm();\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        let self = this;\r\n        this.confirmAlert.onDidDismiss(function() {\r\n            console.log('confirmAlert Dismissed');\r\n            self.confirmAlertOpen = false;\r\n        })\r\n    }\r\n\r\n    private showAlertAndDie(title:string, message:string):void {\r\n        let alert = this.alertCtrl.create({\r\n            title: title,\r\n            message: message,\r\n            buttons: [\r\n                {\r\n                    text: 'Volver',\r\n                    handler: () => {\r\n                        this.navCtrl.setRoot(ShipmentCreatePage);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }    \r\n\r\n    private confirm() {\r\n        this.stopTimer();\r\n        let loading = this.loadingCtrl.create({\r\n            content: 'Confirmando servicio ...'\r\n        });\r\n        loading.present();\r\n        // process\r\n        this.sendingSrv.setOperator(this.sendingId)\r\n            .then((result) => {\r\n                console.log('setOperator success');\r\n                // done\r\n                loading.dismiss()\r\n                    .then(() => {\r\n                        this.navCtrl.setRoot(ShipmentsPage);\r\n                        this.presentSuccessToast();                        \r\n                    });\r\n            })\r\n            .catch((error) => {\r\n                console.log('setOperator error', error);\r\n                loading.dismiss()\r\n                    .then(() => {\r\n                        let title = 'Error';\r\n                        let message = 'Ocurrió un error, por favor vuelve a intentarlo';                         \r\n                        this.showAlertAndDie(title, message);\r\n                    });\r\n            });\r\n    }\r\n\r\n    private unlockSending():firebase.Promise<any> {\r\n        return this.sendingSrv.unlockVacant(this.sendingId);\r\n    }\r\n\r\n    /**\r\n     *  TIMER\r\n     */\r\n\r\n    private initTimer() {\r\n        console.info('initTimer');\r\n        // init \r\n        this.timesup = false;\r\n        let counter = 0;\r\n        this.timer = setInterval(() => {\r\n            counter++;\r\n            console.log(counter);\r\n            this.timeout = TIMEOUT - counter;\r\n            if(this.timeout<=0) {\r\n                this.stopTimer();\r\n                this.timesup = true;\r\n                // Is Confirm Alert Open ?? close it first\r\n                if(this.confirmAlertOpen) {\r\n                    this.confirmAlert.dismiss()\r\n                        .then(() => {\r\n                            this.unlockAndShowTimesupAlert();\r\n                        })\r\n                }else{\r\n                    this.unlockAndShowTimesupAlert();\r\n                }\r\n            } \r\n        }, 1000);\r\n        this.showTimerToast();\r\n    }\r\n\r\n    private stopTimer() {\r\n        console.info('timer stopped');\r\n        clearInterval(this.timer);\r\n        \r\n    }\r\n\r\n    private presentTimerToast() {\r\n        let secs = this.timeout ? this.timeout : TIMEOUT;\r\n        let message;\r\n        if(secs > 0 && this.timesup==false) {\r\n            message = 'Dispones de ' + secs + ' segs para confirmar';\r\n        }else{\r\n            message = 'El tiempo para confirmar ha culminado';\r\n        }\r\n        let toast = this.toastCtrl.create({\r\n            message: message,\r\n            duration: 2000,\r\n            position: 'top',\r\n            showCloseButton: true,\r\n            closeButtonText: 'Ok'\r\n        });\r\n\r\n        toast.onDidDismiss(() => {\r\n            console.log('Dismissed toast');\r\n        });\r\n\r\n        toast.present();\r\n    }  \r\n\r\n    private unlockAndShowTimesupAlert():void {\r\n        this.unlockSending();\r\n        let title = 'Tiempo concluido';\r\n        let message = 'El tiempo disponible para confirmar ha concluido, puedes volver al listado de servicios disponibles y volver a seleccionar'; \r\n        this.showAlertAndDie(title, message);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shipment-create-2/shipment-create-2.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n    selector: 'page-payment',\r\n    templateUrl: 'payment.html',\r\n})\r\nexport class PaymentPage {\r\n\r\n    constructor(public navCtrl: NavController) {\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment/payment.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'page-help',\r\n  templateUrl: 'help.html',\r\n})\r\nexport class HelpPage {\r\n\r\n  constructor(public navCtrl: NavController) {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/help/help.ts","import { ConfigService } from '../../providers/config-service/config-service';\r\nimport { UserAccount, UserProfileData } from '../../models/user-model';\r\nimport { Subscription } from 'rxjs/Rx';\r\nimport { AccountService } from '../../providers/account-service/account-service';\r\nimport { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { StartPage } from '../start/start';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController, AlertController, ModalController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ModalTosPage } from '../modal-tos/modal-tos';\r\nimport { VerifyPhonePage } from '../verify-phone/verify-phone';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport firebase from 'firebase';\r\n\r\nconst STRG_USER_FILES = 'userFiles/';\r\n\r\n@Component({\r\n    selector: 'page-signup-merge',\r\n    templateUrl: 'signup-merge.html'\r\n})\r\nexport class SignupMergePage implements OnInit{\r\n\r\n    form: FormGroup;\r\n    profileBgDefault: string = 'assets/img/mooven_avatar.png';\r\n    showErrors:boolean = false;\r\n    user: firebase.User;\r\n    loader:any;\r\n    account: UserAccount;\r\n    accountSubs:Subscription;\r\n    tosVersion: any;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public formBuilder: FormBuilder,\r\n        public loadingCtrl: LoadingController,\r\n        public toastCtrl: ToastController,\r\n        public alertCtrl: AlertController,\r\n        public modalCtrl: ModalController,\r\n        public cameraPlugin: Camera,\r\n        public authSrv: AuthService,\r\n        public accountSrv: AccountService,\r\n        public configSrv: ConfigService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.form = this.formBuilder.group({\r\n            firstName: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\r\n            lastName: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\r\n            phonePrefix: ['+549', [Validators.required]],\r\n            phoneMobile: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(25)]],\r\n            tosAccept: [false, []]\r\n        });\r\n        this.setTosVersion();\r\n        this.setUser();\r\n        this.setAccount();\r\n    }\r\n\r\n    ionViewWillUnload() {\r\n        this.unsubscribeAccount();\r\n    }\r\n\r\n    submit() {\r\n        console.log('submit form, tosAccept', this.form.valid, this.form.get('tosAccept').value);\r\n        if(!this.form.valid || this.form.get('tosAccept').value==false) {\r\n            // something is not good\r\n            this.showErrors = true;\r\n            let alert = this.alertCtrl.create({\r\n                title: 'Datos incompletos',\r\n                subTitle: 'Por favor completa todos los campos, lee y acepta los términos y condiciones',\r\n                buttons: ['Cerrar']\r\n            });\r\n            alert.present();            \r\n        }else{                 \r\n            this.updateAccount();\r\n        }\r\n    }\r\n\r\n    presentModalTos() {\r\n        // show modal\r\n        let modal = this.modalCtrl.create(ModalTosPage);\r\n        modal.present();\r\n    }\r\n\r\n    signOut() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Salir',\r\n            subTitle: 'Si cierras la sesión, puedes completar tu registración la próxima vez que ingreses',\r\n            buttons: [\r\n                {\r\n                    text: 'Cancelar',\r\n                    role: 'cancel'\r\n                },\r\n                {\r\n                    text: 'Cerrar sesión',\r\n                    handler: () => {\r\n                        this.authSrv.signOut();\r\n                        this.navCtrl.push(StartPage);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n\r\n    /**\r\n     * Take picture and save imageData\r\n     */\r\n    updatePicture() {\r\n        console.info('__UDP__ updatePicture');\r\n        let steps = {\r\n            get: false,\r\n            upload: false,\r\n            update: false\r\n        }\r\n        this.cameraPlugin.getPicture({\r\n            quality: 95,\r\n            destinationType: this.cameraPlugin.DestinationType.DATA_URL,\r\n            sourceType: this.cameraPlugin.PictureSourceType.CAMERA,\r\n            allowEdit: true,\r\n            encodingType: this.cameraPlugin.EncodingType.JPEG,\r\n            targetWidth: 900,\r\n            targetHeight: 900,\r\n            saveToPhotoAlbum: true,\r\n            correctOrientation: true\r\n        })\r\n        .then((imageData) => {\r\n            console.log('__UDP__1 ok');\r\n            steps.get = true;\r\n            let base64Image: string;\r\n            base64Image = \"data:image/jpeg;base64,\" + imageData;\r\n            return this.uploadProfileImage(base64Image);\r\n        })\r\n        .then((snapshot) => {\r\n            console.log('__UDP__2 ok');\r\n            steps.upload = true;\r\n            let downloadURL = snapshot.downloadURL;\r\n            let fullPath = snapshot.ref.fullPath;\r\n            return this.accountSrv.updatePhoto(downloadURL, fullPath);\r\n        })        \r\n        .then(() => {\r\n            steps.update = true;\r\n            console.log('__UDP__3 ok');\r\n            this.authSrv.reload();\r\n            let toast = this.toastCtrl.create({\r\n                message: 'Tu foto de perfil fue actualizada!',\r\n                duration: 3000,\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n        })\r\n        .catch((error) => {\r\n            console.error('__UDP__', error, steps);\r\n            let alert = this.alertCtrl.create({\r\n                title: 'Error',\r\n                subTitle: 'Ocurrió un error, por favor vuelve a intentarlo',\r\n                buttons: ['Cerrar']\r\n            });\r\n            alert.present();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * PRIVATE\r\n     */\r\n\r\n\r\n    private updateAccount(): void {\r\n        console.log('updateAccount');\r\n        this.showErrors = false;\r\n        // loader effect\r\n        this.loader = this.loadingCtrl.create({\r\n            content: 'Guardando ...',\r\n        });\r\n        this.loader.present();\r\n        // profile data\r\n        let profileData: UserProfileData = this.account.profile.data;\r\n        // copy form values\r\n        profileData.firstName = this.form.value.firstName;\r\n        profileData.lastName = this.form.value.lastName;\r\n        profileData.phonePrefix = this.form.value.phonePrefix;\r\n        profileData.phoneMobile = this.form.value.phoneMobile;\r\n        profileData.lastTosAccepted = this.tosVersion;\r\n        // update\r\n        this.accountSrv.updateProfileData(profileData)\r\n            .then(() => {                    \r\n                console.log('update profile success');\r\n                this.loader.dismiss()\r\n                    .then(() => {\r\n                        this.navCtrl.setRoot(VerifyPhonePage);\r\n                    })\r\n                    .catch(error => console.log('dismiss error', error));\r\n            })\r\n            .catch((error) => {\r\n                console.error('update profile success', error);\r\n                this.loader.dismiss()\r\n                    .then(() => {\r\n                        let alert = this.alertCtrl.create({\r\n                            title: 'Atención',\r\n                            subTitle: 'Ocurrió un error al completar tu cuenta, por favor vuelve a intentarlo',\r\n                            buttons: [\r\n                                {\r\n                                    text: 'Cerrar',\r\n                                    role: 'cancel'\r\n                                }\r\n                            ]\r\n                        });\r\n                        alert.present();\r\n                    })\r\n                    .catch(error => console.log(error));\r\n            });\r\n    }\r\n\r\n    private uploadProfileImage(imageData: string): Promise<any> {\r\n        const storageRef = firebase.storage().ref(STRG_USER_FILES);\r\n        return new Promise((resolve, reject) => {\r\n            // upload \r\n            let uploadTask = storageRef\r\n                    .child(this.user.uid)\r\n                    .child('profileImage.jpg')\r\n                    .putString(imageData, firebase.storage.StringFormat.DATA_URL, {contentType: 'image/jpeg'});\r\n            uploadTask.on('state_changed', function(snapshot:any) {\r\n                let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                console.info('Upload is ' + progress + '% done');\r\n                }, function (error:any) {\r\n                    // error\r\n                    console.log('failed > ', error.code);\r\n                    reject(error);\r\n                    console.groupEnd();\r\n                }, function() {\r\n                    // success\r\n                    resolve(uploadTask.snapshot);\r\n                    console.log('uploadProfileImage > success');              \r\n                });\r\n        });\r\n    }\r\n\r\n     private setUser() {\r\n        this.user = this.authSrv.fbuser;             \r\n     }\r\n\r\n    private setTosVersion() {\r\n        let obs = this.configSrv.getCurrentToS();\r\n        let subs = obs.subscribe(snap => {\r\n                        console.log('success tosData', snap.val());\r\n                        this.tosVersion = snap.val().version;\r\n                        subs.unsubscribe();\r\n                    }, error=> {\r\n                        console.log(error, console.log('tosData error', error));\r\n                    });   \r\n    }     \r\n\r\n     private setAccount() {\r\n        let obs = this.accountSrv.getObs(true);\r\n        this.accountSubs = obs.subscribe(snap => {\r\n                                console.log('success snap', snap.val());\r\n                                this.account = snap.val();\r\n                                // set form values\r\n                                this.form.controls['firstName'].setValue(this.account.profile.data.firstName);\r\n                                this.form.controls['lastName'].setValue(this.account.profile.data.lastName);\r\n                                this.form.controls['phoneMobile'].setValue(this.account.profile.data.phoneMobile);\r\n                            }, error => {\r\n                                console.log('error', error);\r\n                            });\r\n    }\r\n    private unsubscribeAccount() {\r\n        if(this.accountSubs) {\r\n            this.accountSubs.unsubscribe();\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup-merge/signup-merge.ts","import { Subscription } from 'rxjs/Rx';\r\nimport { ConfigService } from '../../providers/config-service/config-service';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ViewController } from 'ionic-angular';\r\n\r\n@Component({\r\n    selector: 'modal-tos',\r\n    templateUrl: 'modal-tos.html',\r\n})\r\nexport class ModalTosPage {\r\n\r\n    current: any;\r\n    subsc: Subscription;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public viewCtrl: ViewController,\r\n        private configSrv: ConfigService) {\r\n\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        let obs = this.configSrv.getCurrentToS();\r\n        this.subsc = obs.subscribe((snap) => {\r\n                        console.log('getCurrentToS success');\r\n                        this.current = snap.val();\r\n                    }, err => {\r\n                        console.log('err', err);\r\n                    });\r\n    }\r\n\r\n    ionViewWillUnload() {\r\n        if(this.subsc) {\r\n            console.log('bye tos');\r\n            this.subsc.unsubscribe();\r\n        }\r\n    }\r\n\r\n    dismiss() {\r\n        this.viewCtrl.dismiss();\r\n    }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-tos/modal-tos.ts","import { HomePage } from '../home/home';\r\nimport { Component } from '@angular/core';\r\nimport {\r\n    AlertController,\r\n    LoadingController,\r\n    ModalController,\r\n    NavController,\r\n    ToastController,\r\n    ViewController\r\n} from 'ionic-angular';\r\nimport { SendingsActivePage } from '../sendings-active/sendings-active';\r\nimport { ModalUserEditPhonePage } from '../modal-user-edit-phone/modal-user-edit-phone';\r\n\r\n@Component({\r\n    selector: 'page-verify-phone',\r\n    templateUrl: 'verify-phone.html',\r\n})\r\nexport class VerifyPhonePage {\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public alertCtrl:  AlertController,\r\n        public loadingCtrl: LoadingController,\r\n        public toastCtrl: ToastController,\r\n        public modalCtrl: ModalController,\r\n        public viewCtrl: ViewController) {\r\n        }\r\n\r\n        ionViewWillEnter() {\r\n            this.navCtrl.setRoot(HomePage);\r\n        }\r\n\r\n        goToUpdatePhoneNumber() {\r\n            let modal = this.modalCtrl.create(ModalUserEditPhonePage);\r\n            modal.present();\r\n        }\r\n\r\n        showAlert() {\r\n            let alert = this.alertCtrl.create({\r\n                title: 'Código reenviado',\r\n                subTitle: 'Te reenviamos el mensaje de texto con el código de verificación, por favor aguarda algunos minutos.',\r\n                buttons: ['OK']\r\n            });\r\n            alert.present();\r\n        }\r\n\r\n        goToHome() {\r\n            this.navCtrl.setRoot(SendingsActivePage);\r\n        }\r\n\r\n        goToApp() {\r\n            let loading = this.loadingCtrl.create({\r\n                content: 'Creando tu cuenta, aguarda unos segundos ...'\r\n            });\r\n\r\n            loading.present();\r\n\r\n            setTimeout(() => {\r\n                this.navCtrl.setRoot(SendingsActivePage);\r\n            }, 2000);\r\n\r\n            setTimeout(() => {\r\n                loading.dismiss();\r\n            }, 1000);\r\n\r\n        }\r\n\r\n        verifyCode() {\r\n            let loading = this.loadingCtrl.create({\r\n                content: 'Verificando tu numero y creando tu cuenta, aguarda unos segundos ...'\r\n            });\r\n\r\n            loading.present();\r\n\r\n            setTimeout(() => {\r\n                this.navCtrl.setRoot(SendingsActivePage);\r\n            }, 3000);\r\n\r\n            setTimeout(() => {\r\n                loading.dismiss();\r\n            }, 3000);\r\n\r\n        }\r\n\r\n    }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/verify-phone/verify-phone.ts","import { SendingsNotificationsPage } from '../sendings-notifications/sendings-notifications';\nimport { SendingsClosedPage } from '../sendings-closed/sendings-closed';\nimport { SendingsActivePage } from '../sendings-active/sendings-active';\nimport { Component } from '@angular/core';\n\n\n@Component({\n    selector: 'page-sendings-tabs',\n    templateUrl: 'sendings-tabs.html',\n})\nexport class SendingsTabsPage {\n\n    tab1Root = SendingsActivePage;\n    tab2Root = SendingsClosedPage;\n    tab3Root = SendingsNotificationsPage;    \n\n    constructor() {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sendings-tabs/sendings-tabs.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { APP_CFG } from '../models/app-model';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicApp, IonicModule } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpModule } from '@angular/http';\r\n// NATIVE\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { LocalNotifications } from \"@ionic-native/local-notifications\";\r\n// PAGES\r\nimport { CheckoutPage } from '../pages/checkout/checkout';\r\nimport { HelpPage } from '../pages/help/help';\r\nimport { HistorialPage } from '../pages/historial/historial';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { ModalAuthResetPasswordPage } from '../pages/modal-auth-reset-password/modal-auth-reset-password';\r\nimport { ModalTosPage } from '../pages/modal-tos/modal-tos';\r\nimport { ModalUserEditEmailPage } from '../pages/modal-user-edit-email/modal-user-edit-email';\r\nimport { ModalUserEditNamePage } from '../pages/modal-user-edit-name/modal-user-edit-name';\r\nimport { ModalUserEditPhonePage } from '../pages/modal-user-edit-phone/modal-user-edit-phone';\r\nimport { ModalSearchMapAddressPage } from '../pages/modal-search-map-address/modal-search-map-address';\r\nimport { SendingsNotificationsPage } from '../pages/sendings-notifications/sendings-notifications';\r\nimport { PaymentPage } from '../pages/payment/payment';\r\nimport { SendingCreatePage } from '../pages/sending-create/sending-create';\r\nimport { SendingCreate2Page } from '../pages/sending-create-2/sending-create-2';\r\nimport { SendingCreate3Page } from '../pages/sending-create-3/sending-create-3';\r\nimport { SendingCreate4Page } from '../pages/sending-create-4/sending-create-4';\r\nimport { SendingDetailPage } from '../pages/sending-detail/sending-detail';\r\nimport { SendingsTabsPage } from '../pages/sendings-tabs/sendings-tabs';\r\nimport { SendingsActivePage } from '../pages/sendings-active/sendings-active';\r\nimport { SendingsClosedPage } from '../pages/sendings-closed/sendings-closed';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\nimport { SettingsPopoverPage } from '../pages/settings-popover/settings-popover';\r\nimport { ShipmentCreatePage } from '../pages/shipment-create/shipment-create';\r\nimport { ShipmentCreate2Page } from '../pages/shipment-create-2/shipment-create-2';\r\nimport { ShipmentDetailPage } from '../pages/shipment-detail/shipment-detail';\r\nimport { ShipmentsPage } from '../pages/shipments/shipments';\r\nimport { SignupPage } from '../pages/signup/signup';\r\nimport { SignupMergePage } from '../pages/signup-merge/signup-merge';\r\nimport { StartPage } from '../pages/start/start';\r\nimport { UpdatePhoneNumberPage } from '../pages/update-phone-number/update-phone-number';\r\nimport { VerifyPhonePage } from '../pages/verify-phone/verify-phone';\r\nimport { HomePage } from '../pages/home/home';\r\n// PROVIDERS\r\nimport { AccountEmailVerificationService } from '../providers/account-email-verification-service/account-email-verification-service';\r\nimport { AccountService } from '../providers/account-service/account-service';\r\nimport { AuthService } from '../providers/auth-service/auth-service';\r\nimport { ConfigService } from '../providers/config-service/config-service';\r\nimport { SendingService } from '../providers/sending-service/sending-service';\r\nimport { SendingCreateService } from '../providers/sending-service/sending-create-service';\r\nimport { SendingNotificationsService } from '../providers/sending-service/sending-notifications-service';\r\nimport { SendingPaymentService } from '../providers/sending-service/sending-payment-service';\r\nimport { ShipmentsService } from '../providers/shipments-service/shipments-service';\r\nimport { NotificationsService } from '../providers/notifications-service/notifications-service';\r\nimport { GoogleMapsService } from '../providers/google-maps-service/google-maps-service';\r\nimport { DateService } from '../providers/date-service/date-service';\r\nimport { HashService } from '../providers/hash-service/hash-service';\r\nimport { PriceService } from '../providers/price-service/price-service';\r\nimport { MercadopagoService } from '../providers/payment-gateways/mercadopago-service';\r\nimport { CheckoutService } from '../providers/checkout-service/checkout-service';\r\nimport { StorageService } from '../providers/storage-service/storage-service';\r\nimport { SendingSetGotoperatorService } from '../providers/sending-service/sending-set-gotoperator-service';\r\nimport { SendingSetPickedupService } from '../providers/sending-service/sending-set-pickedup-service';\r\nimport { SendingSetDroppedService } from '../providers/sending-service/sending-set-dropped-service';\r\nimport { SendingSetCanceledbysenderService } from '../providers/sending-service/sending-set-canceledbysender-service';\r\nimport { SendingSetCanceledbyoperatorService } from '../providers/sending-service/sending-set-canceledbyoperator-service';\r\n\r\n// AngularFire\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\n\r\n// PIPES\r\nimport { CapitalizePipe } from '../pipes/capitalize-pipe';\r\nimport { Ts2DatePipe } from '../pipes/ts2date-pipe';\r\nimport { FormatDatePipe } from '../pipes/formatdate-pipe';\r\n// IONIC.IO\r\nimport { CloudSettings, CloudModule } from '@ionic/cloud-angular';\r\n\r\nconst ENV = APP_CFG.CURRENT_ENV;\r\nconst cloudSettings: CloudSettings = {\r\n    'core': {\r\n        'app_id': APP_CFG.ENVIRONMENTS[ENV].IONIC_IO.ID\r\n    }\r\n};\r\n\r\n// AF2 Settings\r\nexport const firebaseConfig = {\r\n    apiKey: APP_CFG.ENVIRONMENTS[ENV].FIREBASE.apiKey,\r\n    authDomain: APP_CFG.ENVIRONMENTS[ENV].FIREBASE.authDomain,\r\n    databaseURL: APP_CFG.ENVIRONMENTS[ENV].FIREBASE.databaseURL,\r\n    storageBucket: APP_CFG.ENVIRONMENTS[ENV].FIREBASE.storageBucket,\r\n    messagingSenderId: APP_CFG.ENVIRONMENTS[ENV].FIREBASE.messagingSenderId\r\n};\r\n\r\n@NgModule({\r\n    declarations: [\r\n        MyApp,\r\n        // PAGES\r\n        HomePage,\r\n        CheckoutPage,\r\n        HelpPage,\r\n        HistorialPage,\r\n        LoginPage,\r\n        ModalAuthResetPasswordPage,\r\n        ModalTosPage,\r\n        ModalSearchMapAddressPage,\r\n        ModalUserEditEmailPage,\r\n        ModalUserEditNamePage,\r\n        ModalUserEditPhonePage,\r\n        SendingsNotificationsPage,\r\n        PaymentPage,\r\n        SendingCreatePage,\r\n        SendingCreate2Page,\r\n        SendingCreate3Page,\r\n        SendingCreate4Page,\r\n        SendingDetailPage,\r\n        SendingsActivePage,\r\n        SendingsClosedPage,\r\n        SendingsTabsPage,\r\n        SettingsPage,\r\n        SettingsPopoverPage,\r\n        ShipmentCreatePage,\r\n        ShipmentCreate2Page,\r\n        ShipmentDetailPage,\r\n        ShipmentsPage,\r\n        SignupPage,\r\n        SignupMergePage,\r\n        StartPage,\r\n        UpdatePhoneNumberPage,\r\n        VerifyPhonePage,\r\n        // PIPES\r\n        CapitalizePipe,\r\n        Ts2DatePipe,\r\n        FormatDatePipe\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        IonicModule.forRoot(MyApp),\r\n        AngularFireModule.initializeApp(firebaseConfig),\r\n        AngularFireAuthModule,\r\n        AngularFireDatabaseModule,\r\n        HttpModule,\r\n        CloudModule.forRoot(cloudSettings),\r\n        IonicStorageModule.forRoot({\r\n            name: APP_CFG.ENVIRONMENTS[ENV].LOCALSTORAGE.name,\r\n            driverOrder: ['localstorage', 'indexeddb', 'sqlite', 'websql']\r\n        })\r\n    ],\r\n    bootstrap: [IonicApp],\r\n    entryComponents: [\r\n        MyApp,\r\n        CheckoutPage,\r\n        HelpPage,\r\n        HistorialPage,\r\n        LoginPage,\r\n        ModalAuthResetPasswordPage,\r\n        ModalTosPage,\r\n        ModalSearchMapAddressPage,\r\n        ModalUserEditEmailPage,\r\n        ModalUserEditNamePage,\r\n        ModalUserEditPhonePage,\r\n        SendingsNotificationsPage,\r\n        PaymentPage,\r\n        SendingCreatePage,\r\n        SendingCreate2Page,\r\n        SendingCreate3Page,\r\n        SendingCreate4Page,\r\n        SendingDetailPage,\r\n        SendingsActivePage,\r\n        SendingsClosedPage,\r\n        SendingsTabsPage,\r\n        SettingsPage,\r\n        SettingsPopoverPage,\r\n        ShipmentCreatePage,\r\n        ShipmentCreate2Page,\r\n        ShipmentDetailPage,\r\n        ShipmentsPage,\r\n        SignupPage,\r\n        SignupMergePage,\r\n        StartPage,\r\n        UpdatePhoneNumberPage,\r\n        VerifyPhonePage,\r\n        HomePage,\r\n    ],\r\n    providers: [\r\n        Camera,\r\n        SplashScreen,\r\n        StatusBar,\r\n        AccountEmailVerificationService,\r\n        AccountService,\r\n        AuthService,\r\n        ConfigService,\r\n        SendingService,\r\n        SendingNotificationsService,\r\n        SendingCreateService,\r\n        SendingSetGotoperatorService,\r\n        SendingSetPickedupService,\r\n        SendingSetDroppedService,\r\n        SendingSetCanceledbysenderService,\r\n        SendingSetCanceledbyoperatorService,\r\n        ShipmentsService,\r\n        NotificationsService,\r\n        SendingPaymentService,\r\n        GoogleMapsService,\r\n        DateService,\r\n        HashService,\r\n        MercadopagoService,\r\n        PriceService,\r\n        CheckoutService,\r\n        StorageService,\r\n        LocalNotifications\r\n    ],\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { FormControl } from  '@angular/forms';\r\n\r\nexport interface ValidationResult {\r\n    [key: string]: boolean;\r\n}\r\n\r\nexport class EmailValidator {\r\n\r\n    public static isValid(control: FormControl): ValidationResult {\r\n        var emailReg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n        let valid = emailReg.test(control.value) || control.value=='';\r\n\r\n        if(!valid) {\r\n            return {isValid: true};\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.validator.ts","import { Subscription } from 'rxjs/Rx';\r\nimport { AccountService } from '../providers/account-service/account-service';\r\nimport { AuthService } from '../providers/auth-service/auth-service';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { Platform, MenuController, Nav, AlertController, LoadingController, ToastController } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StartPage } from '../pages/start/start';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\nimport { SendingsTabsPage } from '../pages/sendings-tabs/sendings-tabs';\r\nimport { ShipmentsPage } from '../pages/shipments/shipments';\r\nimport { PaymentPage } from '../pages/payment/payment';\r\nimport { HelpPage } from '../pages/help/help';\r\nimport { SignupMergePage } from '../pages/signup-merge/signup-merge';\r\nimport { UserAccount } from '../models/user-model';\r\nimport firebase from 'firebase';\r\n\r\ndeclare var window: any;\r\n\r\n\r\n@Component({\r\n    templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n    //@ViewChild(Nav) nav: Nav;\r\n    @ViewChild(Nav) nav: Nav;\r\n    // make StartPage the root (or first) page\r\n    rootPage: any = StartPage;\r\n    pages: Array<{\r\n        title: string,\r\n        component: any,\r\n        icon: string,\r\n        navigationType: string\r\n    }>;\r\n    loader: any;\r\n    user: firebase.User;\r\n    account: UserAccount;\r\n    accountSubs: Subscription;\r\n    avatarDefault: string = 'assets/img/mooven_avatar.png';\r\n    \r\n\r\n    constructor(public platform: Platform,\r\n        private statusBar: StatusBar,\r\n        private splashScreen: SplashScreen,\r\n        public menu: MenuController,\r\n        public alertCtrl: AlertController,\r\n        public toastCtrl: ToastController,\r\n        public loadingCtrl: LoadingController,\r\n        public authSrv: AuthService,\r\n        public accountSrv: AccountService) {\r\n\r\n        platform.ready().then(() => {\r\n            // Okay, so the platform is ready and our plugins are available.\r\n            // Here you can do any higher level native things you might need. \r\n            if (window.cordova) {\r\n                // Okay, so the platform is ready and our plugins are available.\r\n                // Here you can do any higher level native things you might need.\r\n                statusBar.styleDefault();\r\n                splashScreen.hide();\r\n                console.log('__CVA__ cordova ready');\r\n                let array: string[] = platform.platforms();\r\n                console.log('__CVA__', array);\r\n                // let isAndroid: boolean = platform.is('android');\r\n                // let isIos: boolean = platform.is('ios');\r\n                // let isWindows: boolean = platform.is('windows');\r\n            }\r\n        });\r\n\r\n        // used for an example of ngFor and navigation\r\n        this.pages = [\r\n            { title: 'Mooven', component: HomePage, icon: 'home', navigationType: 'root' },\r\n            { title: 'Servicios', component: SendingsTabsPage, icon: 'send', navigationType: 'root' },\r\n            { title: 'Operador', component: ShipmentsPage, icon: 'cube', navigationType: 'root' },\r\n            { title: 'Pagos', component: PaymentPage, icon: 'card', navigationType: 'push' },\r\n            { title: 'Ayuda', component: HelpPage, icon: 'help-circle', navigationType: 'push' },\r\n            { title: 'Ajustes', component: SettingsPage, icon: 'settings', navigationType: 'push' }\r\n        ];\r\n\r\n        // subscribe to authentication state\r\n        this.susbcribeAuthState();           \r\n    }\r\n\r\n    // VIEW ACTIONS\r\n\r\n    openPage(page:any) {\r\n        this.runOpenPage(page);\r\n    }\r\n\r\n    signOut() {\r\n        this.runSignOut();\r\n    }\r\n\r\n\r\n    /**\r\n     *  PRIVATE\r\n     */\r\n\r\n    //FIREBASE AUTH OBSERVER\r\n    private susbcribeAuthState() {\r\n        this.authSrv.firebaseAuthObservable()\r\n            .subscribe( user => {\r\n                console.info('_authState_');\r\n                if(user) {\r\n                    // user OK\r\n                    console.log('_authState_', user);\r\n                    this.user = user;\r\n                    this.presentLoader('Inicializando cuenta ...');\r\n                    setTimeout(() => {\r\n                        this.nav.setRoot(HomePage);\r\n                        this.initAccount();\r\n                    }, 2000);\r\n                } else {\r\n                    // user is null, bye\r\n                    console.log('__ASC__ NULL');\r\n                    this.signOut();\r\n                }\r\n            });\r\n    }\r\n\r\n    // check if userAccount exists\r\n    // userAccount is created by CF trigger:user.onCreated\r\n    // if account not yet exist, it keeps user in homepage\r\n    private initAccount() {\r\n        // check if account exist\r\n        this.accountSrv.exist()\r\n            .then(result => {\r\n                console.log('account', result);\r\n                if(!result.getId) {    \r\n                    // no userUid, logout\r\n                    console.log('no id, no exist');\r\n                    this.presentToast('El usuario no es válido, por favor vuelve a ingresar', 2500);                \r\n                    this.authSrv.signOut();                    \r\n                }else if(!result.exist && result.getId){\r\n                    // uid ok, no account yet\r\n                    // set account\r\n                    this.setAccount();\r\n                    // show toaster\r\n                    let toast = this.presentToast('Cuenta aun inicializando ...', 2500);\r\n                }else{\r\n                    // uid ok, account ok\r\n                    this.setAccount();\r\n                    this.nav.setRoot(HomePage);                          \r\n                }   \r\n            })\r\n            .catch(result => {\r\n                console.log('error', result);\r\n                this.presentToast('Ha ocurrido un error en la autenticación, por favor vuelve a ingresar', 2500);                \r\n                this.authSrv.signOut();\r\n            });\r\n    }\r\n\r\n    // account exists, so set for current main component\r\n    // account data stays alive in realtime\r\n    // if account wasn´t yet created, it will change state when it is\r\n    private setAccount() {\r\n        let obs = this.accountSrv.getObs(true);\r\n        this.accountSubs = obs.subscribe(snap => {\r\n                                // console.log('success snap', snap.val());\r\n                                this.account = snap.val();\r\n                                this.checkAccount();\r\n                            }, error => {\r\n                                console.log('error', error);\r\n                                this.presentToast('Ha ocurrido un error recuperando datos de la cuenta, por favor vuelve a ingresar', 2500);                \r\n                                this.authSrv.signOut();                                \r\n                            });\r\n    }\r\n    private unsubscribeAccount() {\r\n        if(this.accountSubs) {\r\n            this.accountSubs.unsubscribe();\r\n        }\r\n    }\r\n\r\n    // account is set\r\n    // check account health in realtime:\r\n    // * 1 - check is active\r\n    // * 2 - check profile.basic is complete \r\n    // * 3 - audit email is verified\r\n    private checkAccount() {\r\n        if(!this.account){\r\n            console.log('checkAccount, account null');\r\n            return;\r\n        }\r\n        // ### IS ACTIVE?\r\n        if(!this.accountSrv.isActive(this.account)) {\r\n            console.log('checkAccount _1_, active false');\r\n            let alertError = this.alertCtrl.create({\r\n                title: 'Cuenta inhabilitada',\r\n                subTitle: 'Lo sentimos, esta cuenta esta desactivada',\r\n                buttons: [{\r\n                    text: 'Cerrar',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        this.signOut();\r\n                    }\r\n                }]\r\n            });\r\n            alertError.present();\r\n        // IS BASIC PROFILE COMPLETE\r\n        }else if(!this.accountSrv.isBasicProfileComplete(this.account)){\r\n            console.log('checkAccount _2_, basic profile incomplete');\r\n            this.goToAccountConfirmPage();    \r\n        }\r\n        \r\n    }\r\n\r\n    // go to merge page to complete profile data\r\n    private goToAccountConfirmPage() {\r\n        this.nav.setRoot(SignupMergePage);\r\n    }\r\n\r\n    /**\r\n     *  NAVIGATION\r\n     */\r\n\r\n    runOpenPage(page): void {\r\n        // close the menu when clicking a link from the menu\r\n        this.menu.close();\r\n        if(this.account) {\r\n            // navigate to the new page if it is not the current page\r\n            switch (page.navigationType) {\r\n                case 'root':\r\n                    this.nav.setRoot(page.component);\r\n                    break;\r\n                case 'push':\r\n                    this.nav.push(page.component);\r\n                    break;\r\n            }\r\n        }else{\r\n            this.presentToast('La función aun no esta disponible', 2000); \r\n        }\r\n    }\r\n\r\n    pushSettings() {\r\n        this.menu.close();\r\n        this.nav.push(SettingsPage);\r\n    }\r\n\r\n    /**\r\n     *  HELPERS\r\n     */\r\n\r\n    private presentToast(msg:string, duration:number = 2000) {\r\n        let toast = this.toastCtrl.create({\r\n            message: msg,\r\n            duration: duration\r\n        });\r\n        toast.present();        \r\n        return toast;\r\n    }\r\n\r\n    private presentLoader(msg: string): void {\r\n        this.loader = this.loadingCtrl.create({\r\n            content: msg,\r\n            dismissOnPageChange: true\r\n        });\r\n        this.loader.present();\r\n    }\r\n\r\n    private runSignOut() {\r\n        this.menu.close();\r\n        this.nav.setRoot(StartPage);\r\n        this.unsubscribeAccount();\r\n        this.authSrv.signOut();\r\n        this.user = null;\r\n        this.account = null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\r\n\r\ndeclare var google:any;\r\n\r\n@Injectable()\r\nexport class GoogleMapsService {\r\n\r\n    constructor() {}\r\n\r\n    /////////////////\r\n    // google.maps //\r\n    /////////////////\r\n\r\n    setlatLng(lat:any, lng:any):any {\r\n       let latlng = new google.maps.LatLng(lat, lng);\r\n        return latlng;\r\n    }   \r\n\r\n    initInfoWindow() {\r\n        return new google.maps.InfoWindow();\r\n    }\r\n\r\n    initPolyline(config:MapsMapPolylineOptions) {\r\n        return new google.maps.Polyline({\r\n            path: config.path,\r\n            geodesic: config.geodesic,\r\n            strokeColor: config.strokeColor,\r\n            strokeOpacity: config.strokeOpacity,\r\n            strokeWeight: config.strokeWeight\r\n        });\r\n    }\r\n\r\n    initLatLngBounds() {\r\n        return new google.maps.LatLngBounds();\r\n    }\r\n\r\n    ///////////////////// \r\n    // google.maps.MAP //\r\n    /////////////////////\r\n\r\n    initMap(latlng, htmlInputElement, options:MapsMapOptions = {}) {\r\n        console.info('gmapService > initMap');\r\n        let mapOptions = {\r\n            center: latlng,\r\n            zoom: 10,\r\n            maxZoom: 16,\r\n            minZoom:4,\r\n            draggable: false,\r\n            zoomControl: true,\r\n            streetViewControl: false,\r\n            scrollwheel: true,\r\n            mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n            mapTypeControl: false,\r\n        };\r\n        for(let key in mapOptions) {\r\n            if(key in options) {\r\n                mapOptions[key] = options[key];\r\n            }\r\n        }\r\n        console.log(mapOptions);\r\n        return new google.maps.Map(htmlInputElement, mapOptions);\r\n    }\r\n\r\n    addMapMarker(latlng:any, map:any, icon:any = GMAP_CFG.ICONS.DEFAULT):any {\r\n       return new google.maps.Marker({\r\n           map: map,\r\n           position: latlng,\r\n           animation: google.maps.Animation.DROP,\r\n           icon: icon\r\n       }) \r\n    }\r\n\r\n    ////////////////////////\r\n    // google.maps.PLACES //\r\n    ////////////////////////\r\n\r\n    getPlacePredictions(query:string):Promise<any> {\r\n        let autocompleteSrv = new google.maps.places.AutocompleteService();\r\n        return new Promise((resolve, reject) => {\r\n            autocompleteSrv.getPlacePredictions({\r\n                types: ['geocode'],\r\n                input: query,\r\n                componentRestrictions: { country: 'AR' }\r\n            }, function (predictions, status) {\r\n                if(status === 'OK') {\r\n                    resolve(predictions);\r\n                }else{\r\n                    reject(status);\r\n                }\r\n            });\r\n        });    \r\n    }    \r\n\r\n    getPlaceDetails(place_id:string, map:any) {\r\n        let placesSrv = new google.maps.places.PlacesService(map);\r\n        return new Promise((resolve, reject) => {\r\n            placesSrv.getDetails({\r\n                placeId: place_id\r\n            }, function(place, status) {\r\n                console.log('getDetails api', place);\r\n                if(status === 'OK') {\r\n                    resolve(place);\r\n                }else{\r\n                    reject(status);\r\n                }                \r\n            });\r\n        });\r\n    }\r\n\r\n    // get all address components\r\n    inspectPlaceDetails(place:any):any {\r\n        console.info('gmapService > inspectPlaceDetails > init');\r\n        // init\r\n        var details = this.initPlaceDetails();\r\n        // run\r\n        details.place_id = place.place_id,\r\n        details.full_address = place.formatted_address ? place.formatted_address : '';\r\n        details.lat = place.geometry.location.lat() ? place.geometry.location.lat() : '';\r\n        details.lng = place.geometry.location.lng() ? place.geometry.location.lng() : '';\r\n        for (var i = 0; i < place.address_components.length; i++) {\r\n            let addressType = place.address_components[i].types[0];\r\n            if(details.components[addressType]) {\r\n                details.components[addressType].set = true;\r\n                details.components[addressType].short = place.address_components[i]['short_name'];\r\n                details.components[addressType].long = place.address_components[i]['long_name'];\r\n            }                                     \r\n        }    \r\n        console.info('gmapService > inspectPlaceDetails > done');\r\n        return details;\r\n    }\r\n\r\n    // Verify minimum data is present in place detail\r\n    isPlaceAddressComplete(details: any) {\r\n        console.group('isPlaceAddressComplete');\r\n        let isComplete = { passed: true, failed: []};\r\n        let propToCheck = {\r\n            root: ['full_address','lat','lng','place_id'],\r\n            components: ['route','street_number'],\r\n        };\r\n        let labels = {\r\n            'full_address':'Descripción',\r\n            'lat':'Latitud',\r\n            'lng':'Longitud',\r\n            'place_id':'ID',\r\n            'route':'Nombre de Calle',\r\n            'street_number':'Número de Calle'\r\n        };\r\n        // iterate root prop\r\n        for(let index in propToCheck['root']) {\r\n            let prop = propToCheck['root'][index];\r\n            if(!details[prop] || details[prop]=='') {\r\n                isComplete.failed.push(labels[prop]);\r\n                isComplete.passed = false;\r\n            }\r\n            console.log('root prop, value', prop, `'${details[prop]}'`);\r\n        }\r\n        // iterate components prop\r\n        for(let index in propToCheck['components']) {\r\n            let prop = propToCheck['components'][index];\r\n            if(!details.components[prop].long || details.components[prop].long=='') {\r\n                isComplete.failed.push(labels[prop]);\r\n                isComplete.passed = false;\r\n            }\r\n            console.log('root components, value', prop, `'${details.components[prop].long}'`);\r\n        }\r\n        console.log('passed, failed', isComplete);\r\n        console.groupEnd();        \r\n        return isComplete;\r\n    }\r\n\r\n    initPlaceDetails() {\r\n        var details = {\r\n            set: false,       // is set, but may or not be complete\r\n            complete: false,  // min values are complete\r\n            forced: false,    // is not complete, but forced to set by user\r\n            place_id: '',\r\n            full_address: '',\r\n            lat: '',\r\n            lng: '',\r\n            components: {\r\n                route: { set: false, short:'', long:'' },                           // calle \r\n                street_number: { set: false, short:'', long:'' },                   // numero\r\n                sublocality_level_1: { set: false, short:'', long:'' },             // barrio\r\n                locality: { set: false, short:'', long:'' },                        // localidad, ciudad\r\n                administrative_area_level_2: { set: false, short:'', long:'' },     // zona/comuna/partido \r\n                administrative_area_level_1: { set: false, short:'', long:'' },     // estado/provincia \r\n                country: { set: false, short:'', long:'' },                         // pais\r\n                postal_code: { set: false, short:'', long:'' },                     // codigo postal\r\n                postal_code_suffix: { set: false, short:'', long:'' },              // codigo postal - sufijo\r\n            }            \r\n        };\r\n        return details;\r\n    }\r\n\r\n    /////////////////////////////\r\n    //  google.maps.DIRECTIONS //\r\n    /////////////////////////////\r\n\r\n    getRouteDirections(start:any, end:any): Promise<any> {\r\n        let directionsSrv = new google.maps.DirectionsService;\r\n        return new Promise((resolve, reject) => {\r\n            directionsSrv.route({\r\n                origin: start,\r\n                destination: end,\r\n                travelMode: 'DRIVING',\r\n                unitSystem: google.maps.UnitSystem.METRIC,\r\n                region: 'AR',\r\n                avoidHighways: true,\r\n                avoidTolls: false\r\n            }, function (response, status) {\r\n                console.log('getRoute response > ', response);\r\n                console.log('getRoute status > ', status);                   \r\n                if (status === 'OK') {            \r\n                    resolve(response);\r\n                }else{\r\n                    console.log('getRoute > error > ', status);\r\n                    reject(response);                    \r\n                }\r\n            }); \r\n        });\r\n    }\r\n\r\n    inspectRouteDetails(routeResponse:any):any {\r\n        // detail\r\n        let details = this.initRouteDetails();\r\n        // we are using 1 waypoint (A to B), so there is only one \"leg\" to read\r\n        let leg = routeResponse.routes[0].legs[0];\r\n        // distance\r\n        details.totalDistance.meters = leg.distance.value;\r\n        details.totalDistance.kms = leg.distance.value/1000;\r\n        details.totalDistance.text = leg.distance.text;\r\n        // duration\r\n        details.totalDuration.min = leg.duration.value;\r\n        details.totalDuration.text = leg.duration.text;\r\n        return details;\r\n    }\r\n\r\n    getDirectionsRenderer() {\r\n        return new google.maps.DirectionsRenderer();\r\n    }\r\n\r\n    initRouteDetails() {\r\n        var details = {\r\n            totalDistance: {\r\n                meters: 0,  // in meters\r\n                kms: 0,     // in km\r\n                text: ''    // textual\r\n            },\r\n            totalDuration: {\r\n                min: 0,     // minutes\r\n                text: ''    // textual\r\n            }\r\n        }\r\n        return details;\r\n    }\r\n    \r\n\r\n    //////////////////////////\r\n    // google.maps.DISTANCE //\r\n    //////////////////////////\r\n\r\n    getDistance(origin:any, destination:any):Promise<any> {\r\n        let service = new google.maps.DistanceMatrixService;\r\n        return new Promise((resolve, reject) =>{\r\n            service.getDistanceMatrix({\r\n                origins: [origin],\r\n                destinations: [destination],\r\n                travelMode: 'DRIVING',\r\n                unitSystem: google.maps.UnitSystem.METRIC,\r\n                avoidHighways: false,\r\n                avoidTolls: false\r\n            }, function (response, status) {\r\n                console.log('getDistance response > ', response);\r\n                console.log('getDistance status > ', status);                   \r\n                if (status == 'OK') {            \r\n                    resolve(response);\r\n                }else{\r\n                    console.log('f4 > calculateDistance > error > ', status);\r\n                    reject(response);                    \r\n                }\r\n            });          \r\n        });\r\n    }    \r\n\r\n}    \r\n\r\n/**\r\n *  CLASSES\r\n */\r\n\r\nexport class MapsMapOptions {\r\n    zoom?: number;\r\n    minZoom?: number;\r\n    maxZoom?: number;\r\n    draggable?: boolean;\r\n    clickableIcons?: boolean;\r\n    zoomControl?: boolean;\r\n    mapTypeId?: string;\r\n    mapTypeControl?: boolean;\r\n    scrollwheel?: boolean;\r\n    streetViewControl?: boolean;\r\n}\r\n\r\nexport class MapsMapPolylineOptions {\r\n    path: Array<{lat: number, lng: number}>;\r\n    geodesic: boolean;\r\n    strokeColor: string;\r\n    strokeOpacity: number;\r\n    strokeWeight: number;\r\n}\r\n\r\nexport const GMAP_CFG = {\r\n    ICONS: {\r\n        DEFAULT: 'assets/img/map_icon_green_3.png',\r\n        SELECTED: 'assets/img/map_icon_green_3_selected.png',\r\n        CHECKERED: 'assets/img/map_icon_checkered.png',\r\n    },\r\n    POINTS: {\r\n        CABA: {\r\n            LAT: -34.603684, \r\n            LNG: -58.449240\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/google-maps-service/google-maps-service.ts","var map = {\n\t\"./af\": 408,\n\t\"./af.js\": 408,\n\t\"./ar\": 409,\n\t\"./ar-dz\": 410,\n\t\"./ar-dz.js\": 410,\n\t\"./ar-kw\": 411,\n\t\"./ar-kw.js\": 411,\n\t\"./ar-ly\": 412,\n\t\"./ar-ly.js\": 412,\n\t\"./ar-ma\": 413,\n\t\"./ar-ma.js\": 413,\n\t\"./ar-sa\": 414,\n\t\"./ar-sa.js\": 414,\n\t\"./ar-tn\": 415,\n\t\"./ar-tn.js\": 415,\n\t\"./ar.js\": 409,\n\t\"./az\": 416,\n\t\"./az.js\": 416,\n\t\"./be\": 417,\n\t\"./be.js\": 417,\n\t\"./bg\": 418,\n\t\"./bg.js\": 418,\n\t\"./bn\": 419,\n\t\"./bn.js\": 419,\n\t\"./bo\": 420,\n\t\"./bo.js\": 420,\n\t\"./br\": 421,\n\t\"./br.js\": 421,\n\t\"./bs\": 422,\n\t\"./bs.js\": 422,\n\t\"./ca\": 423,\n\t\"./ca.js\": 423,\n\t\"./cs\": 424,\n\t\"./cs.js\": 424,\n\t\"./cv\": 425,\n\t\"./cv.js\": 425,\n\t\"./cy\": 426,\n\t\"./cy.js\": 426,\n\t\"./da\": 427,\n\t\"./da.js\": 427,\n\t\"./de\": 428,\n\t\"./de-at\": 429,\n\t\"./de-at.js\": 429,\n\t\"./de-ch\": 430,\n\t\"./de-ch.js\": 430,\n\t\"./de.js\": 428,\n\t\"./dv\": 431,\n\t\"./dv.js\": 431,\n\t\"./el\": 432,\n\t\"./el.js\": 432,\n\t\"./en-au\": 433,\n\t\"./en-au.js\": 433,\n\t\"./en-ca\": 434,\n\t\"./en-ca.js\": 434,\n\t\"./en-gb\": 435,\n\t\"./en-gb.js\": 435,\n\t\"./en-ie\": 436,\n\t\"./en-ie.js\": 436,\n\t\"./en-nz\": 437,\n\t\"./en-nz.js\": 437,\n\t\"./eo\": 438,\n\t\"./eo.js\": 438,\n\t\"./es\": 439,\n\t\"./es-do\": 440,\n\t\"./es-do.js\": 440,\n\t\"./es.js\": 439,\n\t\"./et\": 441,\n\t\"./et.js\": 441,\n\t\"./eu\": 442,\n\t\"./eu.js\": 442,\n\t\"./fa\": 443,\n\t\"./fa.js\": 443,\n\t\"./fi\": 444,\n\t\"./fi.js\": 444,\n\t\"./fo\": 445,\n\t\"./fo.js\": 445,\n\t\"./fr\": 446,\n\t\"./fr-ca\": 447,\n\t\"./fr-ca.js\": 447,\n\t\"./fr-ch\": 448,\n\t\"./fr-ch.js\": 448,\n\t\"./fr.js\": 446,\n\t\"./fy\": 449,\n\t\"./fy.js\": 449,\n\t\"./gd\": 450,\n\t\"./gd.js\": 450,\n\t\"./gl\": 451,\n\t\"./gl.js\": 451,\n\t\"./gom-latn\": 452,\n\t\"./gom-latn.js\": 452,\n\t\"./he\": 453,\n\t\"./he.js\": 453,\n\t\"./hi\": 454,\n\t\"./hi.js\": 454,\n\t\"./hr\": 455,\n\t\"./hr.js\": 455,\n\t\"./hu\": 456,\n\t\"./hu.js\": 456,\n\t\"./hy-am\": 457,\n\t\"./hy-am.js\": 457,\n\t\"./id\": 458,\n\t\"./id.js\": 458,\n\t\"./is\": 459,\n\t\"./is.js\": 459,\n\t\"./it\": 460,\n\t\"./it.js\": 460,\n\t\"./ja\": 461,\n\t\"./ja.js\": 461,\n\t\"./jv\": 462,\n\t\"./jv.js\": 462,\n\t\"./ka\": 463,\n\t\"./ka.js\": 463,\n\t\"./kk\": 464,\n\t\"./kk.js\": 464,\n\t\"./km\": 465,\n\t\"./km.js\": 465,\n\t\"./kn\": 466,\n\t\"./kn.js\": 466,\n\t\"./ko\": 467,\n\t\"./ko.js\": 467,\n\t\"./ky\": 468,\n\t\"./ky.js\": 468,\n\t\"./lb\": 469,\n\t\"./lb.js\": 469,\n\t\"./lo\": 470,\n\t\"./lo.js\": 470,\n\t\"./lt\": 471,\n\t\"./lt.js\": 471,\n\t\"./lv\": 472,\n\t\"./lv.js\": 472,\n\t\"./me\": 473,\n\t\"./me.js\": 473,\n\t\"./mi\": 474,\n\t\"./mi.js\": 474,\n\t\"./mk\": 475,\n\t\"./mk.js\": 475,\n\t\"./ml\": 476,\n\t\"./ml.js\": 476,\n\t\"./mr\": 477,\n\t\"./mr.js\": 477,\n\t\"./ms\": 478,\n\t\"./ms-my\": 479,\n\t\"./ms-my.js\": 479,\n\t\"./ms.js\": 478,\n\t\"./my\": 480,\n\t\"./my.js\": 480,\n\t\"./nb\": 481,\n\t\"./nb.js\": 481,\n\t\"./ne\": 482,\n\t\"./ne.js\": 482,\n\t\"./nl\": 483,\n\t\"./nl-be\": 484,\n\t\"./nl-be.js\": 484,\n\t\"./nl.js\": 483,\n\t\"./nn\": 485,\n\t\"./nn.js\": 485,\n\t\"./pa-in\": 486,\n\t\"./pa-in.js\": 486,\n\t\"./pl\": 487,\n\t\"./pl.js\": 487,\n\t\"./pt\": 488,\n\t\"./pt-br\": 489,\n\t\"./pt-br.js\": 489,\n\t\"./pt.js\": 488,\n\t\"./ro\": 490,\n\t\"./ro.js\": 490,\n\t\"./ru\": 491,\n\t\"./ru.js\": 491,\n\t\"./sd\": 492,\n\t\"./sd.js\": 492,\n\t\"./se\": 493,\n\t\"./se.js\": 493,\n\t\"./si\": 494,\n\t\"./si.js\": 494,\n\t\"./sk\": 495,\n\t\"./sk.js\": 495,\n\t\"./sl\": 496,\n\t\"./sl.js\": 496,\n\t\"./sq\": 497,\n\t\"./sq.js\": 497,\n\t\"./sr\": 498,\n\t\"./sr-cyrl\": 499,\n\t\"./sr-cyrl.js\": 499,\n\t\"./sr.js\": 498,\n\t\"./ss\": 500,\n\t\"./ss.js\": 500,\n\t\"./sv\": 501,\n\t\"./sv.js\": 501,\n\t\"./sw\": 502,\n\t\"./sw.js\": 502,\n\t\"./ta\": 503,\n\t\"./ta.js\": 503,\n\t\"./te\": 504,\n\t\"./te.js\": 504,\n\t\"./tet\": 505,\n\t\"./tet.js\": 505,\n\t\"./th\": 506,\n\t\"./th.js\": 506,\n\t\"./tl-ph\": 507,\n\t\"./tl-ph.js\": 507,\n\t\"./tlh\": 508,\n\t\"./tlh.js\": 508,\n\t\"./tr\": 509,\n\t\"./tr.js\": 509,\n\t\"./tzl\": 510,\n\t\"./tzl.js\": 510,\n\t\"./tzm\": 511,\n\t\"./tzm-latn\": 512,\n\t\"./tzm-latn.js\": 512,\n\t\"./tzm.js\": 511,\n\t\"./uk\": 513,\n\t\"./uk.js\": 513,\n\t\"./ur\": 514,\n\t\"./ur.js\": 514,\n\t\"./uz\": 515,\n\t\"./uz-latn\": 516,\n\t\"./uz-latn.js\": 516,\n\t\"./uz.js\": 515,\n\t\"./vi\": 517,\n\t\"./vi.js\": 517,\n\t\"./x-pseudo\": 518,\n\t\"./x-pseudo.js\": 518,\n\t\"./yo\": 519,\n\t\"./yo.js\": 519,\n\t\"./zh-cn\": 520,\n\t\"./zh-cn.js\": 520,\n\t\"./zh-hk\": 521,\n\t\"./zh-hk.js\": 521,\n\t\"./zh-tw\": 522,\n\t\"./zh-tw.js\": 522\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 877;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 877\n// module chunks = 0","/**\r\n *  GATEWAYS REFERENCES\r\n */\r\n\r\nexport const MERCADOPAGO_REF = {\r\n    APP_ID: '5819204648142051',\r\n    PUBLIC_KEY: {\r\n        SANDBOX: {\r\n            PUBLIC_KEY: 'TEST-2ecd894c-f9bd-4824-9ded-55ac094171cb',\r\n            ACCESS_TOKEN: 'TEST-5819204648142051-062712-77fb3c6d5a6aadcb94c60deb6cdf451f__LC_LD__-131322408'\r\n        },\r\n        PROD: {\r\n            PUBLIC_KEY: 'APP_USR-5fdf1bed-643a-481d-86b3-e1f868a8829c',\r\n            ACCESS_TOKEN: 'APP_USR-5819204648142051-062712-b191488d9b0734f851afd4abfd69a5c5__LB_LD__-131322408'\r\n        },\r\n    },\r\n    BACKEND_SERVER: {\r\n        LOCAL_URL: {\r\n            PAYMENT: '',\r\n        },\r\n        DEV_URL: {\r\n            PAYMENT: 'https://us-central1-moovendev.cloudfunctions.net/createPaymentMP',\r\n        },\r\n        STAGE_URL: {\r\n            PAYMENT: '',\r\n        },\r\n        PROD_URL: {\r\n            PAYMENT: '',\r\n        },        \r\n    }\r\n}\r\n\r\n\r\n/**\r\n *  MODELS\r\n */\r\n\r\nexport class PaymentResult {\r\n    id:string;\r\n    transactionId:string;\r\n    status:string;\r\n    completed:boolean;\r\n}\r\n\r\nexport class paymentMethod {\r\n    // attributes from API\r\n    // https://www.mercadopago.com.ar/developers/en/api-docs/custom-checkout/payment-methods/\r\n    id:string;\r\n    name:string;\r\n    payment_type_id:string;    \r\n    status:string;\r\n    secure_thumbnail:string;  \r\n    thumbnail:string;\r\n    deferred_capture:string;\r\n    //settings:any; // object, if needed will set\r\n    additional_info_needed:Array<any>;\r\n    min_allowed_amount:number;\r\n    max_allowed_amount:number;\r\n    accreditation_time:number;    \r\n    financial_institutions:Array<any>;    \r\n    // custom\r\n    _response_status:number;\r\n    _error:string;\r\n    _message:string;\r\n}\r\n\r\nexport class CardTokenData {\r\n    cardNumber:string;\r\n    securityCode:string;\r\n    cardExpirationMonth:string;\r\n    cardExpirationYear:string;\r\n    cardholderName:string;\r\n    docType:string;\r\n    docNumber:string;  \r\n    paymentMethodId:string;\r\n}\r\n\r\nexport class PrepaymentData {\r\n    transactionAmount:number;\r\n    cardToken:string;\r\n    description:string;\r\n    paymentMethodId:string;\r\n    payerEmail:string;\r\n    externalReference:string;\r\n    suid:string;\r\n    uid:string;\r\n}\r\n\r\nexport class PaymentData {\r\n    transactionAmount:number;\r\n    token:string;\r\n    description:string;\r\n    installments:number;\r\n    paymentMethodId:string;\r\n    payerEmail:string;\r\n    externalReference:string;\r\n    suid:string;\r\n    uid:string;    \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/payment-gateways/mercadopago-model.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\nimport { LoginPage } from '../login/login';\r\nimport { SignupPage } from '../signup/signup';\r\n\r\n@Component({\r\n    selector: 'page-start',\r\n    templateUrl: 'start.html',\r\n})\r\nexport class StartPage {\r\n    constructor(public navCtrl: NavController) {}\r\n\r\n    goToLogin() {\r\n    \tthis.navCtrl.push(LoginPage);\r\n    }\r\n\r\n    goToSignup() {\r\n    \tthis.navCtrl.push(SignupPage);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/start/start.ts"],"sourceRoot":""}