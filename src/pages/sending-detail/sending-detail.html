<ion-header>
    <ion-navbar color="primary">
        <ion-title>{{ sending.objectShortName }}</ion-title>
        <ion-buttons end>
            <button ion-button>
                <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content class="sending-detail">
    <!-- TABS -->
    <div margin-bottom margin-top>
        <ion-segment [(ngModel)]="sendingtab" dark>
            <ion-segment-button value="notifications">
                <ion-icon name="notifications"></ion-icon>
            </ion-segment-button>
            <ion-segment-button value="shipment">
                <ion-icon name="send"></ion-icon>
            </ion-segment-button>
            <ion-segment-button value="pickup">
                <ion-icon name="home"></ion-icon>
            </ion-segment-button>
            <ion-segment-button value="drop">
                <ion-icon name="pin"></ion-icon>
            </ion-segment-button>
        </ion-segment>
    </div>
    <!-- TAB CONTENT -->
    <div [ngSwitch]="sendingtab">

        <!-- TAB CONTENT -->
        <ion-list *ngSwitchCase="'notifications'">
            <ion-list-header>Estado y Notificaciones</ion-list-header>
            <ion-item-divider dark>Estado</ion-item-divider>
            <ion-item no-lines>
                <ion-icon name="send" item-left></ion-icon>
                <h3>#{{ sending.publicId }}</h3>
                <p>Registrado el {{ sending.timestamp | ts2datePipe }}</p>
                <ion-icon name="checkmark" item-right></ion-icon>
            </ion-item>

            <!-- IF -->
            <ion-item no-lines
                *ngIf="sending._stages.created.status.paid.set==false">
                <ion-icon name="card" item-left></ion-icon>
                <h3>Pago</h3>
                <p>Se debitará ${{ sending.price }} de tu cuenta</p>
                <ion-icon name="time" item-right></ion-icon>
            </ion-item>    
            <ion-item no-lines
                *ngIf="sending._stages.created.status.paid.set==true">
                <ion-icon name="card" item-left></ion-icon>
                <h3>Pago</h3>
                <p>Se ha debitado ${{ sending.price }} de tu cuenta</p>
                <ion-icon name="checkmark" item-right></ion-icon>
            </ion-item>   
            <!-- ENDIF -->

            <!-- IF -->
            <ion-item no-lines
                *ngIf="sending._stages.live.status.vacant.set==true">
                <ion-icon name="person" item-left></ion-icon>
                <h3>Operador</h3>
                <p>Servicio vacante</p>
                <ion-icon name="time" item-right></ion-icon>
            </ion-item>
            <ion-item no-lines
                *ngIf="sending._stages.live.status.vacant.set==false">
                <ion-icon name="person" item-left></ion-icon>
                <h3>Operador disponible</h3>
                <p>Nombre operador</p>
                <ion-icon name="checkmark" item-right></ion-icon>
            </ion-item>
            <!-- ENDIF -->

            <!-- IF -->            
            <ion-item no-lines
                *ngIf="sending._stages.live.status.holdforpickup.set==true">
                <ion-icon name="home" item-left></ion-icon>
                <h3>Retiro</h3>
                <p>A retirarse entre {{ sending.pickupTimeFrom }} y {{ sending.pickupTimeTo }}</p>
                <ion-icon name="time" item-right></ion-icon>
            </ion-item>
            <ion-item no-lines
                *ngIf="sending._stages.live.status.holdforpickup.set==false">
                <ion-icon name="home" item-left></ion-icon>
                <h3>Retiro</h3>
                <p>Retirado de {{ pickupAddressStreetShort }} {{ pickupAddressNumber }}</p>
                <ion-icon name="checkmark" item-right></ion-icon>
            </ion-item>            
            <!-- ENDIF -->

            <!-- IF -->            
            <ion-item
                *ngIf="sending._stages.live.status.dropped.set==false">
                <ion-icon name="pin" item-left></ion-icon>
                <h3>Entrega</h3>
                <p>A entregarse entre {{ sending.dropTimeFrom }} y {{ sending.dropTimeTo }}</p>
                <ion-icon name="time" item-right></ion-icon>
            </ion-item>
            <ion-item
                *ngIf="sending._stages.live.status.dropped.set==true">
                <ion-icon name="pin" item-left></ion-icon>
                <h3>Entrega</h3>
                <p>Entregado en {{ dropAddressStreetShort }} {{ dropAddressNumber }}</p>
                <ion-icon name="checkmark" item-right></ion-icon>
            </ion-item>
            <!-- ENDIF -->

            <ion-item-divider dark>Notificaciones</ion-item-divider>
            <ion-item>
                <ion-icon name="send" item-left></ion-icon>
                <h2>Solicitud de envío aceptada</h2>
                <p>01/08/2016 09:45</p>
            </ion-item>
            <ion-item>
                <ion-icon name="card" item-left></ion-icon>
                <h2>Pago aceptado</h2>
                <p>Se debitaron $79.00 de tu cuenta.</p>
            </ion-item>
            <ion-item>
                <ion-icon name="person" item-left></ion-icon>
                <h2>Transportista confirmado</h2>
                <p>01/08/2016 09:50</p>
            </ion-item>
            <ion-item>
                <ion-icon name="lock" item-left></ion-icon>
                <h2>Codigo de seguridad > Retiro</h2>
                <p>El transportista debe informar:
                    <p>
                        <p>875462</p>
            </ion-item>
            <ion-item>
                <ion-icon name="lock" item-left></ion-icon>
                <h2>Codigo de seguridad > Entrega</h2>
                <p>Informar al transportista en la entrega:
                    <p>
                        <p>445682</p>
            </ion-item>
            <ion-item>
                <ion-icon name="checkmark" item-left></ion-icon>
                <h2>Paquete retirado</h2>
                <p>01/08/2016 11:45</p>
            </ion-item>
            <ion-item>
                <ion-icon name="checkmark" item-left></ion-icon>
                <h2>Paquete entregado</h2>
                <p>01/08/2016 16:35</p>
            </ion-item>
        </ion-list>

        <ion-list *ngSwitchCase="'shipment'">
            <ion-list-header>Detalles del Envío</ion-list-header>
            <ion-item-divider *ngIf="sending._stages._current=='live'">Transportista
                <button ion-button outline item-right icon-left
                    color="primary">
                    <ion-icon name="call"></ion-icon>
                    Llamar
                </button> 
            </ion-item-divider>
            <ion-item no-lines *ngIf="sending._stages._current=='live'">
                <ion-thumbnail item-left>
                    <img src="http://placehold.it/200x200">
                </ion-thumbnail>
                <p>Datos del transportista:</p>
                <h3><span>Nombre</span> Niki Lauda</h3>
                <h3><span>Teléfono</span> +5491109871234</h3>
            </ion-item>
            <ion-item-group>
                <ion-item-divider>Precio</ion-item-divider>
                <ion-item no-lines>
                    <ion-icon name="card" item-left light></ion-icon>
                    <h3>Distancia aproximada: {{ sending.routeDistanceTxt }}</h3>
                    <h2><b>$ {{ sending.price }}</b></h2>
                </ion-item>
                <ion-item-divider>Objeto</ion-item-divider>
            </ion-item-group>
            <ion-grid>
                <ion-row>
                    <ion-col width-50>
                        <img src="{{ sending.objectImageDownloadUrl }}">
                    </ion-col>
                    <ion-col width-50>
                        <ion-item no-lines>
                            <p>Objeto a enviar</p>
                            <h2>{{ sending.objectType }}</h2>
                            <br>
                            <p>Valor declarado</p>
                            <h2>$ {{ sending.objectDeclaredValue }}</h2>
                        </ion-item>
                    </ion-col>
                </ion-row>
            </ion-grid>            
        </ion-list>

        <ion-list *ngSwitchCase="'pickup'">
            <ion-list-header>Detalles del Retiro</ion-list-header>
            <ion-item-group>
                <ion-item-divider>Dirección
                    <button ion-button outline item-right icon-left
                        color="primary">
                        <ion-icon name="pin"></ion-icon>
                        Mapa
                    </button>
                </ion-item-divider>
                <ion-item no-lines>
                    <ion-icon name="home" item-left></ion-icon>
                    <h2>{{ sending.pickupAddressStreetShort }} {{ sending.pickupAddressNumber }}</h2>
                    <h3>{{ sending.pickupAddressCityLong }}</h3>
                </ion-item>
                <ion-item-divider>Horario</ion-item-divider>
                <ion-item no-lines>
                    <ion-icon name="time" item-left></ion-icon>
                    <p>Banda horaria para el retiro.</p>
                    <h2>{{ sending.pickupTimeFrom }}:{{ sending.pickupTimeTo }}</h2>
                </ion-item>
            </ion-item-group>
            <ion-item-divider>Persona que entrega
            <button ion-button outline item-right icon-left
                color="primary">
                <ion-icon name="call"></ion-icon>
                Llamar
            </button></ion-item-divider>
            <button ion-item no-lines>
                <ion-icon name="person" item-left></ion-icon>
                <h2>{{ sending.pickupPersonName }}</h2>
                <h3>{{ sending.pickupPersonPhone }}</h3>
                <h3>{{ sending.pickupPersonEmail }}</h3>
            </button>
            <ion-item-divider>Código de seguridad</ion-item-divider>
            <ion-item no-lines>
                <ion-icon name="lock" item-left></ion-icon>
                <h2>875462</h2>
                <p>Solicita este código al transportista<br>para verificar su identidad.</p>
            </ion-item>
        </ion-list>

        <ion-list *ngSwitchCase="'drop'">
            <ion-list-header>Detalles de la Entrega</ion-list-header>
            <ion-item-group>
                <ion-item-divider>Dirección
                    <button ion-button outline item-right icon-left
                        color="primary">
                        <ion-icon name="pin"></ion-icon>
                        Mapa
                    </button></ion-item-divider>
                <ion-item no-lines>
                    <ion-icon name="pin" item-left></ion-icon>
                    <h3>{{ sending.dropAddressStreetShort }} {{ sending.dropAddressNumber }}</h3>
                    <h3>{{ sending.dropAddressCityLong }}</h3>
                </ion-item>
                <ion-item-divider>Horario</ion-item-divider>
                <ion-item no-lines>
                    <ion-icon name="time" item-left></ion-icon>
                    <p>Banda horaria para hacer la entrega.</p>                    
                    <h3>{{ sending.dropTimeFrom }}:{{ sending.dropTimeTo }}</h3>
                </ion-item>
                <ion-item-divider>Persona que recibe
                    <button ion-button outline item-right icon-left
                        color="primary">
                        <ion-icon name="call"></ion-icon>
                        Llamar
                    </button></ion-item-divider>
                <ion-item no-lines>
                    <ion-icon name="person" item-left></ion-icon>
                    <h3>{{ sending.dropPersonName }}</h3>
                    <h3>{{ sending.dropPersonPhone }}</h3>
                    <h3>{{ sending.dropPersonEmail }}</h3>
                </ion-item>
                <ion-item-divider>Código de Seguridad</ion-item-divider>
                <ion-item>
                    <ion-icon name="lock" item-left></ion-icon>
                    <h2>445682</h2>
                    <p text-wrap>Informa este código de seguridad<br>al recibir el envío<br>para validar la identidad.</p>
                </ion-item>
            </ion-item-group>
        </ion-list>

    </div>
</ion-content>